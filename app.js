!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"number":e[t]=e[e[t]];break;case"object":e[t]=function(t){var r=t.slice(1),n=e[t[0]];return function(e,t,i){n.apply(null,[e,t,i].concat(r))}}(e[t])}return e}([function(e,t,r){e.exports=r(289)},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],s=Object.getOwnPropertyDescriptor(t,i);s&&s.configurable&&void 0===e[i]&&Object.defineProperty(e,i,s)}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r(288);i(t,n(s))},function(e,t,r){(function(e){"use strict";function n(e){return g.assert.returnType(void 0!==e&&null!==e,g.assert.type["boolean"])}function i(e){return g.assert.returnType(void 0===e||null===e,g.assert.type["boolean"])}function s(e){return g.assert.returnType("string"==typeof e,g.assert.type["boolean"])}function o(e){return g.assert.returnType("function"==typeof e,g.assert.type["boolean"])}function a(e){return"string"==typeof e?g.assert.returnType(e,g.assert.type.string):void 0===e||null===e?g.assert.returnType(""+e,g.assert.type.string):e.name?g.assert.returnType(e.name,g.assert.type.string):g.assert.returnType(e.toString(),g.assert.type.string)}function u(e,t){return g.assert.returnType(e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t),g.assert.type["boolean"])}function c(e){return e}function p(e){return i(e)?null:e}function l(e){return g.assert.returnType(null!==e&&("function"==typeof e||"object"==typeof e),g.assert.type["boolean"])}function f(){return g.assert.returnType(k,g.assert.type["boolean"])}function h(e){console.log(e instanceof Error?e.stack:e)}var d=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),m=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(t,"__esModule",{value:!0}),t.isPresent=n,t.isBlank=i,t.isString=s,t.isFunction=o,t.stringify=a,t.looseIdentical=u,t.getMapKey=c,t.normalizeBlank=p,t.isJsObject=l,t.assertionsEnabled=f,t.print=h;var g=r(1),v="undefined"==typeof window?e:window;t.global=v;var _=Function;t.Type=_;var b=v.Math;t.Math=b;var w=v.Date;t.Date=w;var T,k="undefined"!=typeof g.assert;k?(v.assert=g.assert,t["int"]=T=g.assert.__def_("int",function(e){return"number"==typeof e&&e%1===0})):(t["int"]=T={},v.assert=function(){}),t["int"]=T;var L=function W(){m(this,W)};t.CONST=L;var M=function F(){m(this,F)};t.ABSTRACT=M;var P=function N(){m(this,N)};t.IMPLEMENTS=P;var O=function(){function e(){m(this,e)}return y(e,null,[{key:"fromCharCode",value:function(e){return g.assert.argumentTypes(e,T),g.assert.returnType(String.fromCharCode(e),g.assert.type.string)}},{key:"charCodeAt",value:function(e,t){return g.assert.argumentTypes(e,g.assert.type.string,t,T),e.charCodeAt(t)}},{key:"split",value:function(e,t){return g.assert.argumentTypes(e,g.assert.type.string,t,g.assert.type.any),e.split(t)}},{key:"equals",value:function(e,t){return g.assert.argumentTypes(e,g.assert.type.string,t,g.assert.type.string),g.assert.returnType(e===t,g.assert.type["boolean"])}},{key:"replace",value:function(e){function t(t,r,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,r){return g.assert.argumentTypes(e,g.assert.type.string,t,g.assert.type.string,r,g.assert.type.string),g.assert.returnType(e.replace(t,r),g.assert.type.string)})},{key:"replaceAll",value:function(e,t,r){return g.assert.argumentTypes(e,g.assert.type.string,t,E,r,g.assert.type.string),g.assert.returnType(e.replace(t,r),g.assert.type.string)}},{key:"startsWith",value:function(e,t){return g.assert.argumentTypes(e,g.assert.type.string,t,g.assert.type.string),e.startsWith(t)}},{key:"substring",value:function(e,t){var r=void 0===arguments[2]?null:arguments[2];return g.assert.argumentTypes(e,g.assert.type.string,t,T,r,T),e.substring(t,null===r?void 0:r)}},{key:"replaceAllMapped",value:function(e,t,r){return g.assert.argumentTypes(e,g.assert.type.string,t,E,r,Function),g.assert.returnType(e.replace(t,function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t.splice(-2,2),r(t)}),g.assert.type.string)}},{key:"contains",value:function(e,t){return g.assert.argumentTypes(e,g.assert.type.string,t,g.assert.type.string),g.assert.returnType(-1!=e.indexOf(t),g.assert.type["boolean"])}}]),e}();t.StringWrapper=O,Object.defineProperty(O.fromCharCode,"parameters",{get:function(){return[[T]]}}),Object.defineProperty(O.charCodeAt,"parameters",{get:function(){return[[g.assert.type.string],[T]]}}),Object.defineProperty(O.split,"parameters",{get:function(){return[[g.assert.type.string],[]]}}),Object.defineProperty(O.equals,"parameters",{get:function(){return[[g.assert.type.string],[g.assert.type.string]]}}),Object.defineProperty(O.replace,"parameters",{get:function(){return[[g.assert.type.string],[g.assert.type.string],[g.assert.type.string]]}}),Object.defineProperty(O.replaceAll,"parameters",{get:function(){return[[g.assert.type.string],[E],[g.assert.type.string]]}}),Object.defineProperty(O.startsWith,"parameters",{get:function(){return[[g.assert.type.string],[g.assert.type.string]]}}),Object.defineProperty(O.substring,"parameters",{get:function(){return[[g.assert.type.string],[T],[T]]}}),Object.defineProperty(O.replaceAllMapped,"parameters",{get:function(){return[[g.assert.type.string],[E],[Function]]}}),Object.defineProperty(O.contains,"parameters",{get:function(){return[[g.assert.type.string],[g.assert.type.string]]}});var D=function(){function e(){m(this,e),this.parts=[]}return y(e,[{key:"add",value:function(e){g.assert.argumentTypes(e,g.assert.type.string),this.parts.push(e)}},{key:"toString",value:function(){return g.assert.returnType(this.parts.join(""),g.assert.type.string)}}]),e}();t.StringJoiner=D,Object.defineProperty(D.prototype.add,"parameters",{get:function(){return[[g.assert.type.string]]}});var j=function(e){function t(r){m(this,t);var n=new e;return n.__proto__=t.prototype,n.message=r,n}return d(t,e),y(t,[{key:"toString",value:function(){return this.message}}]),t}(Error);t.NumberParseError=j;var C=function(){function e(){m(this,e)}return y(e,null,[{key:"toFixed",value:function(e,t){return g.assert.argumentTypes(e,g.assert.type.number,t,T),g.assert.returnType(e.toFixed(t),g.assert.type.string)}},{key:"equal",value:function(e,t){return g.assert.returnType(e===t,g.assert.type["boolean"])}},{key:"parseIntAutoRadix",value:function(e){g.assert.argumentTypes(e,g.assert.type.string);var t=g.assert.type(parseInt(e),T);if(isNaN(t))throw new j("Invalid integer literal when parsing "+e);return g.assert.returnType(t,T)}},{key:"parseInt",value:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){if(g.assert.argumentTypes(e,g.assert.type.string,t,T),10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return g.assert.returnType(parseInt(e,t),T)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return g.assert.returnType(parseInt(e,t),T)}else{var r=g.assert.type(parseInt(e,t),T);if(!isNaN(r))return g.assert.returnType(r,T)}throw new j("Invalid integer literal when parsing "+e+" in base "+t)})},{key:"parseFloat",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return g.assert.argumentTypes(e,g.assert.type.string),g.assert.returnType(parseFloat(e),g.assert.type.number)})},{key:"NaN",get:function(){return g.assert.returnType(0/0,g.assert.type.number)}},{key:"isNaN",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return g.assert.returnType(isNaN(e),g.assert.type["boolean"])})},{key:"isInteger",value:function(e){return g.assert.returnType(Number.isInteger(e),g.assert.type["boolean"])}}]),e}();t.NumberWrapper=C,Object.defineProperty(C.toFixed,"parameters",{get:function(){return[[g.assert.type.number],[T]]}}),Object.defineProperty(C.parseIntAutoRadix,"parameters",{get:function(){return[[g.assert.type.string]]}}),Object.defineProperty(C.parseInt,"parameters",{get:function(){return[[g.assert.type.string],[T]]}}),Object.defineProperty(C.parseFloat,"parameters",{get:function(){return[[g.assert.type.string]]}});var E=v.RegExp;t.RegExp=E;var S=function(){function e(){m(this,e)}return y(e,null,[{key:"create",value:function(e){var t=void 0===arguments[1]?"":arguments[1];return g.assert.argumentTypes(e,g.assert.type.any,t,g.assert.type.string),t=t.replace(/g/g,""),g.assert.returnType(new v.RegExp(e,t+"g"),E)}},{key:"firstMatch",value:function(e,t){return e.lastIndex=0,e.exec(t)}},{key:"matcher",value:function(e,t){return e.lastIndex=0,{re:e,input:t}}}]),e}();t.RegExpWrapper=S,Object.defineProperty(S.create,"parameters",{get:function(){return[[],[g.assert.type.string]]}});var x=function(){function e(){m(this,e)}return y(e,null,[{key:"next",value:function(e){return e.re.exec(e.input)}}]),e}();t.RegExpMatcherWrapper=x;var Y=function(){function e(){m(this,e)}return y(e,null,[{key:"apply",value:function(e,t){return g.assert.argumentTypes(e,Function,t,g.assert.type.any),e.apply(null,t)}}]),e}();t.FunctionWrapper=Y,Object.defineProperty(Y.apply,"parameters",{get:function(){return[[Function],[]]}});var A=Error;t.BaseException=A;var R=v.JSON;t.Json=R;var I=function(){function e(){m(this,e)}return y(e,null,[{key:"fromMillis",value:function(e){return new w(e)}},{key:"toMillis",value:function(e){return g.assert.argumentTypes(e,w),e.getTime()}},{key:"now",value:function(){return new w}},{key:"toJson",value:function(e){return e.toJSON()}}]),e}();t.DateWrapper=I,Object.defineProperty(I.toMillis,"parameters",{get:function(){return[[w]]}})}).call(t,function(){return this}())},function(e,t,r){(function(e){//! moment.js
//! version : 2.10.2
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(t,r){e.exports=r()}(this,function(){"use strict";function t(){return Dr.apply(null,arguments)}function n(e){Dr=e}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function a(e,t){var r,n=[];for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var r in t)u(t,r)&&(e[r]=t[r]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,r,n){return Pe(e,t,r,n,!0).utc()}function l(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&void 0===e._pf.bigHour)),e._isValid}function f(e){var t=p(0/0);return null!=e?c(t._pf,e):t._pf.userInvalidated=!0,t}function h(e,t){var r,n,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Cr.length>0)for(r in Cr)n=Cr[r],i=t[n],"undefined"!=typeof i&&(e[n]=i);return e}function d(e){h(this,e),this._d=new Date(+e._d),Er===!1&&(Er=!0,t.updateOffset(this),Er=!1)}function y(e){return e instanceof d||null!=e&&u(e,"_isAMomentObject")}function m(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=t>=0?Math.floor(t):Math.ceil(t)),r}function g(e,t,r){var n,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(n=0;i>n;n++)(r&&e[n]!==t[n]||!r&&m(e[n])!==m(t[n]))&&o++;return o+s}function v(){}function _(e){return e?e.toLowerCase().replace("_","-"):e}function b(e){for(var t,r,n,i,s=0;s<e.length;){for(i=_(e[s]).split("-"),t=i.length,r=_(e[s+1]),r=r?r.split("-"):null;t>0;){if(n=w(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&g(i,r,!0)>=t-1)break;t--}s++}return null}function w(t){var n=null;if(!Sr[t]&&"undefined"!=typeof e&&e&&e.exports)try{n=jr._abbr,r(299)("./"+t),T(n)}catch(i){}return Sr[t]}function T(e,t){var r;return e&&(r="undefined"==typeof t?L(e):k(e,t),r&&(jr=r)),jr._abbr}function k(e,t){return null!==t?(t.abbr=e,Sr[e]||(Sr[e]=new v),Sr[e].set(t),T(e),Sr[e]):(delete Sr[e],null)}function L(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return jr;if(!s(e)){if(t=w(e))return t;e=[e]}return b(e)}function M(e,t){var r=e.toLowerCase();xr[r]=xr[r+"s"]=xr[t]=e}function P(e){return"string"==typeof e?xr[e]||xr[e.toLowerCase()]:void 0}function O(e){var t,r,n={};for(r in e)u(e,r)&&(t=P(r),t&&(n[t]=e[r]));return n}function D(e,r){return function(n){return null!=n?(C(this,e,n),t.updateOffset(this,r),this):j(this,e)}}function j(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function C(e,t,r){return e._d["set"+(e._isUTC?"UTC":"")+t](r)}function E(e,t){var r;if("object"==typeof e)for(r in e)this.set(r,e[r]);else if(e=P(e),"function"==typeof this[e])return this[e](t);return this}function S(e,t,r){for(var n=""+Math.abs(e),i=e>=0;n.length<t;)n="0"+n;return(i?r?"+":"":"-")+n}function x(e,t,r,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),e&&(Ir[e]=i),t&&(Ir[t[0]]=function(){return S(i.apply(this,arguments),t[1],t[2])}),r&&(Ir[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Y(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function A(e){var t,r,n=e.match(Yr);for(t=0,r=n.length;r>t;t++)Ir[n[t]]?n[t]=Ir[n[t]]:n[t]=Y(n[t]);return function(i){var s="";for(t=0;r>t;t++)s+=n[t]instanceof Function?n[t].call(i,e):n[t];return s}}function R(e,t){return e.isValid()?(t=I(t,e.localeData()),Rr[t]||(Rr[t]=A(t)),Rr[t](e)):e.localeData().invalidDate()}function I(e,t){function r(e){return t.longDateFormat(e)||e}var n=5;for(Ar.lastIndex=0;n>=0&&Ar.test(e);)e=e.replace(Ar,r),Ar.lastIndex=0,n-=1;return e}function W(e,t,r){Zr[e]="function"==typeof t?t:function(e){return e&&r?r:t}}function F(e,t){return u(Zr,e)?Zr[e](t._strict,t._locale):new RegExp(N(e))}function N(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,n,i){return t||r||n||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function V(e,t){var r,n=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(n=function(e,r){r[t]=m(e)}),r=0;r<e.length;r++)Xr[e[r]]=n}function B(e,t){V(e,function(e,r,n,i){n._w=n._w||{},t(e,n._w,n,i)})}function H(e,t,r){null!=t&&u(Xr,e)&&Xr[e](t,r._a,r,e)}function U(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function q(e){return this._months[e.month()]}function z(e){return this._monthsShort[e.month()]}function K(e,t,r){var n,i,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(i=p([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function G(e,t){var r;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(r=Math.min(e.date(),U(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e)}function J(e){return null!=e?(G(this,e),t.updateOffset(this,!0),this):j(this,"Month")}function Q(){return U(this.year(),this.month())}function $(e){var t,r=e._a;return r&&-2===e._pf.overflow&&(t=r[tn]<0||r[tn]>11?tn:r[rn]<1||r[rn]>U(r[en],r[tn])?rn:r[nn]<0||r[nn]>24||24===r[nn]&&(0!==r[sn]||0!==r[on]||0!==r[an])?nn:r[sn]<0||r[sn]>59?sn:r[on]<0||r[on]>59?on:r[an]<0||r[an]>999?an:-1,e._pf._overflowDayOfYear&&(en>t||t>rn)&&(t=rn),e._pf.overflow=t),e}function Z(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function X(e,t){var r=!0;return c(function(){return r&&(Z(e),r=!1),t.apply(this,arguments)},t)}function ee(e,t){pn[e]||(Z(t),pn[e]=!0)}function te(e){var t,r,n=e._i,i=ln.exec(n);if(i){for(e._pf.iso=!0,t=0,r=fn.length;r>t;t++)if(fn[t][1].exec(n)){e._f=fn[t][0]+(i[6]||" ");break}for(t=0,r=hn.length;r>t;t++)if(hn[t][1].exec(n)){e._f+=hn[t][0];break}n.match(Jr)&&(e._f+="Z"),be(e)}else e._isValid=!1}function re(e){var r=dn.exec(e._i);return null!==r?void(e._d=new Date(+r[1])):(te(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function ne(e,t,r,n,i,s,o){var a=new Date(e,t,r,n,i,s,o);return 1970>e&&a.setFullYear(e),a}function ie(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function se(e){return oe(e)?366:365}function oe(e){return e%4===0&&e%100!==0||e%400===0}function ae(){return oe(this.year())}function ue(e,t,r){var n,i=r-t,s=r-e.day();return s>i&&(s-=7),i-7>s&&(s+=7),n=Oe(e).add(s,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function ce(e){return ue(e,this._week.dow,this._week.doy).week}function pe(){return this._week.dow}function le(){return this._week.doy}function fe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function he(e){var t=ue(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function de(e,t,r,n,i){var s,o,a=ie(e,0,1).getUTCDay();return a=0===a?7:a,r=null!=r?r:i,s=i-a+(a>n?7:0)-(i>a?7:0),o=7*(t-1)+(r-i)+s+1,{year:o>0?e:e-1,dayOfYear:o>0?o:se(e-1)+o}}function ye(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function me(e,t,r){return null!=e?e:null!=t?t:r}function ge(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ve(e){var t,r,n,i,s=[];if(!e._d){for(n=ge(e),e._w&&null==e._a[rn]&&null==e._a[tn]&&_e(e),e._dayOfYear&&(i=me(e._a[en],n[en]),e._dayOfYear>se(i)&&(e._pf._overflowDayOfYear=!0),r=ie(i,0,e._dayOfYear),e._a[tn]=r.getUTCMonth(),e._a[rn]=r.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=s[t]=n[t];for(;7>t;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[nn]&&0===e._a[sn]&&0===e._a[on]&&0===e._a[an]&&(e._nextDay=!0,e._a[nn]=0),e._d=(e._useUTC?ie:ne).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[nn]=24)}}function _e(e){var t,r,n,i,s,o,a;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(s=1,o=4,r=me(t.GG,e._a[en],ue(Oe(),1,4).year),n=me(t.W,1),i=me(t.E,1)):(s=e._locale._week.dow,o=e._locale._week.doy,r=me(t.gg,e._a[en],ue(Oe(),s,o).year),n=me(t.w,1),null!=t.d?(i=t.d,s>i&&++n):i=null!=t.e?t.e+s:s),a=de(r,n,i,o,s),e._a[en]=a.year,e._dayOfYear=a.dayOfYear}function be(e){if(e._f===t.ISO_8601)return void te(e);e._a=[],e._pf.empty=!0;var r,n,i,s,o,a=""+e._i,u=a.length,c=0;for(i=I(e._f,e._locale).match(Yr)||[],r=0;r<i.length;r++)s=i[r],n=(a.match(F(s,e))||[])[0],n&&(o=a.substr(0,a.indexOf(n)),o.length>0&&e._pf.unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),c+=n.length),Ir[s]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(s),H(s,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(s);e._pf.charsLeftOver=u-c,a.length>0&&e._pf.unusedInput.push(a),e._pf.bigHour===!0&&e._a[nn]<=12&&(e._pf.bigHour=void 0),e._a[nn]=we(e._locale,e._a[nn],e._meridiem),ve(e),$(e)}function we(e,t,r){var n;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?(n=e.isPM(r),n&&12>t&&(t+=12),n||12!==t||(t=0),t):t}function Te(e){var t,r,n,s,o;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(s=0;s<e._f.length;s++)o=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=i(),t._f=e._f[s],be(t),l(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==n||n>o)&&(n=o,r=t));c(e,r||t)}function ke(e){if(!e._d){var t=O(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],ve(e)}}function Le(e){var t,r=e._i,n=e._f;return e._locale=e._locale||L(e._l),null===r||void 0===n&&""===r?f({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),y(r)?new d($(r)):(s(n)?Te(e):n?be(e):Me(e),t=new d($(e)),t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t))}function Me(e){var r=e._i;void 0===r?e._d=new Date:o(r)?e._d=new Date(+r):"string"==typeof r?re(e):s(r)?(e._a=a(r.slice(0),function(e){return parseInt(e,10)}),ve(e)):"object"==typeof r?ke(e):"number"==typeof r?e._d=new Date(r):t.createFromInputFallback(e)}function Pe(e,t,r,n,s){var o={};return"boolean"==typeof r&&(n=r,r=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=s,o._l=r,o._i=e,o._f=t,o._strict=n,o._pf=i(),Le(o)}function Oe(e,t,r,n){return Pe(e,t,r,n,!1)}function De(e,t){var r,n;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Oe();for(r=t[0],n=1;n<t.length;++n)t[n][e](r)&&(r=t[n]);return r}function je(){var e=[].slice.call(arguments,0);return De("isBefore",e)}function Ce(){var e=[].slice.call(arguments,0);return De("isAfter",e)}function Ee(e){var t=O(e),r=t.year||0,n=t.quarter||0,i=t.month||0,s=t.week||0,o=t.day||0,a=t.hour||0,u=t.minute||0,c=t.second||0,p=t.millisecond||0;this._milliseconds=+p+1e3*c+6e4*u+36e5*a,this._days=+o+7*s,this._months=+i+3*n+12*r,this._data={},this._locale=L(),this._bubble()}function Se(e){return e instanceof Ee}function xe(e,t){x(e,0,0,function(){var e=this.utcOffset(),r="+";return 0>e&&(e=-e,r="-"),r+S(~~(e/60),2)+t+S(~~e%60,2)})}function Ye(e){var t=(e||"").match(Jr)||[],r=t[t.length-1]||[],n=(r+"").match(_n)||["-",0,0],i=+(60*n[1])+m(n[2]);return"+"===n[0]?i:-i}function Ae(e,r){var n,i;return r._isUTC?(n=r.clone(),i=(y(e)||o(e)?+e:+Oe(e))-+n,n._d.setTime(+n._d+i),t.updateOffset(n,!1),n):Oe(e).local()}function Re(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ie(e,r){var n,i=this._offset||0;return null!=e?("string"==typeof e&&(e=Ye(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&r&&(n=Re(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==e&&(!r||this._changeInProgress?Xe(this,Ge(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Re(this)}function We(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Fe(e){return this.utcOffset(0,e)}function Ne(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Re(this),"m")),this}function Ve(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ye(this._i)),this}function Be(e){return e=e?Oe(e).utcOffset():0,(this.utcOffset()-e)%60===0}function He(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ue(){if(this._a){var e=this._isUTC?p(this._a):Oe(this._a);return this.isValid()&&g(this._a,e.toArray())>0}return!1}function qe(){return!this._isUTC}function ze(){return this._isUTC}function Ke(){return this._isUTC&&0===this._offset}function Ge(e,t){var r,n,i,s=e,o=null;return Se(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(o=bn.exec(e))?(r="-"===o[1]?-1:1,s={y:0,d:m(o[rn])*r,h:m(o[nn])*r,m:m(o[sn])*r,s:m(o[on])*r,ms:m(o[an])*r}):(o=wn.exec(e))?(r="-"===o[1]?-1:1,s={y:Je(o[2],r),M:Je(o[3],r),d:Je(o[4],r),h:Je(o[5],r),m:Je(o[6],r),s:Je(o[7],r),w:Je(o[8],r)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(i=$e(Oe(s.from),Oe(s.to)),s={},s.ms=i.milliseconds,s.M=i.months),n=new Ee(s),Se(e)&&u(e,"_locale")&&(n._locale=e._locale),n}function Je(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Qe(e,t){var r={milliseconds:0,months:0};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function $e(e,t){var r;return t=Ae(t,e),e.isBefore(t)?r=Qe(e,t):(r=Qe(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r}function Ze(e,t){return function(r,n){var i,s;return null===n||isNaN(+n)||(ee(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=r,r=n,n=s),r="string"==typeof r?+r:r,i=Ge(r,n),Xe(this,i,e),this}}function Xe(e,r,n,i){var s=r._milliseconds,o=r._days,a=r._months;i=null==i?!0:i,s&&e._d.setTime(+e._d+s*n),o&&C(e,"Date",j(e,"Date")+o*n),a&&G(e,j(e,"Month")+a*n),i&&t.updateOffset(e,o||a)}function et(e){var t=e||Oe(),r=Ae(t,this).startOf("day"),n=this.diff(r,"days",!0),i=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,Oe(t)))}function tt(){return new d(this)}function rt(e,t){var r;return t=P("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=y(e)?e:Oe(e),+this>+e):(r=y(e)?+e:+Oe(e),r<+this.clone().startOf(t))}function nt(e,t){var r;return t=P("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=y(e)?e:Oe(e),+e>+this):(r=y(e)?+e:+Oe(e),+this.clone().endOf(t)<r)}function it(e,t,r){return this.isAfter(e,r)&&this.isBefore(t,r)}function st(e,t){var r;return t=P(t||"millisecond"),"millisecond"===t?(e=y(e)?e:Oe(e),+this===+e):(r=+Oe(e),+this.clone().startOf(t)<=r&&r<=+this.clone().endOf(t))}function ot(e){return 0>e?Math.ceil(e):Math.floor(e)}function at(e,t,r){var n,i,s=Ae(e,this),o=6e4*(s.utcOffset()-this.utcOffset());return t=P(t),"year"===t||"month"===t||"quarter"===t?(i=ut(this,s),"quarter"===t?i/=3:"year"===t&&(i/=12)):(n=this-s,i="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-o)/864e5:"week"===t?(n-o)/6048e5:n),r?i:ot(i)}function ut(e,t){var r,n,i=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(i,"months");return 0>t-s?(r=e.clone().add(i-1,"months"),n=(t-s)/(s-r)):(r=e.clone().add(i+1,"months"),n=(t-s)/(r-s)),-(i+n)}function ct(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():R(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):R(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function lt(e){var r=R(this,e||t.defaultFormat);return this.localeData().postformat(r)}function ft(e,t){return Ge({to:this,from:e}).locale(this.locale()).humanize(!t)}function ht(e){return this.from(Oe(),e)}function dt(e){var t;return void 0===e?this._locale._abbr:(t=L(e),null!=t&&(this._locale=t),this)}function yt(){return this._locale}function mt(e){switch(e=P(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function gt(e){return e=P(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function vt(){return+this._d-6e4*(this._offset||0)}function _t(){return Math.floor(+this/1e3)}function bt(){return this._offset?new Date(+this):this._d}function wt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Tt(){return l(this)}function kt(){return c({},this._pf)}function Lt(){return this._pf.overflow}function Mt(e,t){x(0,[e,e.length],0,t)}function Pt(e,t,r){return ue(Oe([e,11,31+t-r]),t,r).week}function Ot(e){var t=ue(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Dt(e){var t=ue(this,1,4).year;return null==e?t:this.add(e-t,"y")}function jt(){return Pt(this.year(),1,4)}function Ct(){var e=this.localeData()._week;return Pt(this.year(),e.dow,e.doy)}function Et(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function St(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function xt(e){return this._weekdays[e.day()]}function Yt(e){return this._weekdaysShort[e.day()]}function At(e){return this._weekdaysMin[e.day()]}function Rt(e){var t,r,n;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(r=Oe([2e3,1]).day(t),n="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function It(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=St(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ft(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Nt(e,t){x(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Vt(e,t){return t._meridiemParse}function Bt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ht(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}function Ut(e){x(0,[e,3],0,"millisecond")}function qt(){return this._isUTC?"UTC":""}function zt(){return this._isUTC?"Coordinated Universal Time":""}function Kt(e){return Oe(1e3*e)}function Gt(){return Oe.apply(null,arguments).parseZone()}function Jt(e,t,r){var n=this._calendar[e];return"function"==typeof n?n.call(t,r):n}function Qt(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t}function $t(){return this._invalidDate}function Zt(e){return this._ordinal.replace("%d",e)}function Xt(e){return e}function er(e,t,r,n){var i=this._relativeTime[r];return"function"==typeof i?i(e,t,r,n):i.replace(/%d/i,e)}function tr(e,t){var r=this._relativeTime[e>0?"future":"past"];return"function"==typeof r?r(t):r.replace(/%s/i,t)}function rr(e){var t,r;for(r in e)t=e[r],"function"==typeof t?this[r]=t:this["_"+r]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function nr(e,t,r,n){var i=L(),s=p().set(n,t);return i[r](s,e)}function ir(e,t,r,n,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return nr(e,t,r,i);var s,o=[];for(s=0;n>s;s++)o[s]=nr(e,s,r,i);return o}function sr(e,t){return ir(e,t,"months",12,"month")}function or(e,t){return ir(e,t,"monthsShort",12,"month")}function ar(e,t){return ir(e,t,"weekdays",7,"day")}function ur(e,t){return ir(e,t,"weekdaysShort",7,"day")}function cr(e,t){return ir(e,t,"weekdaysMin",7,"day")}function pr(){var e=this._data;return this._milliseconds=Hn(this._milliseconds),this._days=Hn(this._days),this._months=Hn(this._months),e.milliseconds=Hn(e.milliseconds),e.seconds=Hn(e.seconds),e.minutes=Hn(e.minutes),e.hours=Hn(e.hours),e.months=Hn(e.months),e.years=Hn(e.years),this}function lr(e,t,r,n){var i=Ge(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function fr(e,t){return lr(this,e,t,1)}function hr(e,t){return lr(this,e,t,-1)}function dr(){var e,t,r,n=this._milliseconds,i=this._days,s=this._months,o=this._data,a=0;return o.milliseconds=n%1e3,e=ot(n/1e3),o.seconds=e%60,t=ot(e/60),o.minutes=t%60,r=ot(t/60),o.hours=r%24,i+=ot(r/24),a=ot(yr(i)),i-=ot(mr(a)),s+=ot(i/30),i%=30,a+=ot(s/12),s%=12,o.days=i,o.months=s,o.years=a,this}function yr(e){return 400*e/146097}function mr(e){return 146097*e/400}function gr(e){var t,r,n=this._milliseconds;if(e=P(e),"month"===e||"year"===e)return t=this._days+n/864e5,r=this._months+12*yr(t),"month"===e?r:r/12;switch(t=this._days+Math.round(mr(this._months/12)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 24*t*60+n/6e4;case"second":return 24*t*60*60+n/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+n;default:throw new Error("Unknown unit "+e)}}function vr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)}function _r(e){return function(){return this.as(e)}}function br(e){return e=P(e),this[e+"s"]()}function wr(e){return function(){return this._data[e]}}function Tr(){return ot(this.days()/7)}function kr(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}function Lr(e,t,r){var n=Ge(e).abs(),i=si(n.as("s")),s=si(n.as("m")),o=si(n.as("h")),a=si(n.as("d")),u=si(n.as("M")),c=si(n.as("y")),p=i<oi.s&&["s",i]||1===s&&["m"]||s<oi.m&&["mm",s]||1===o&&["h"]||o<oi.h&&["hh",o]||1===a&&["d"]||a<oi.d&&["dd",a]||1===u&&["M"]||u<oi.M&&["MM",u]||1===c&&["y"]||["yy",c];return p[2]=t,p[3]=+e>0,p[4]=r,kr.apply(null,p)}function Mr(e,t){return void 0===oi[e]?!1:void 0===t?oi[e]:(oi[e]=t,!0)}function Pr(e){var t=this.localeData(),r=Lr(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)}function Or(){var e=ai(this.years()),t=ai(this.months()),r=ai(this.days()),n=ai(this.hours()),i=ai(this.minutes()),s=ai(this.seconds()+this.milliseconds()/1e3),o=this.asSeconds();return o?(0>o?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(r?r+"D":"")+(n||i||s?"T":"")+(n?n+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"}var Dr,jr,Cr=t.momentProperties=[],Er=!1,Sr={},xr={},Yr=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ar=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rr={},Ir={},Wr=/\d/,Fr=/\d\d/,Nr=/\d{3}/,Vr=/\d{4}/,Br=/[+-]?\d{6}/,Hr=/\d\d?/,Ur=/\d{1,3}/,qr=/\d{1,4}/,zr=/[+-]?\d{1,6}/,Kr=/\d+/,Gr=/[+-]?\d+/,Jr=/Z|[+-]\d\d:?\d\d/gi,Qr=/[+-]?\d+(\.\d{1,3})?/,$r=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Zr={},Xr={},en=0,tn=1,rn=2,nn=3,sn=4,on=5,an=6;x("M",["MM",2],"Mo",function(){return this.month()+1}),x("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),x("MMMM",0,0,function(e){return this.localeData().months(this,e)}),M("month","M"),W("M",Hr),W("MM",Hr,Fr),W("MMM",$r),W("MMMM",$r),V(["M","MM"],function(e,t){t[tn]=m(e)-1}),V(["MMM","MMMM"],function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);null!=i?t[tn]=i:r._pf.invalidMonth=e});var un="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),pn={};t.suppressDeprecationWarnings=!1;var ln=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],hn=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],dn=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=X("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),x(0,["YY",2],0,function(){return this.year()%100}),x(0,["YYYY",4],0,"year"),x(0,["YYYYY",5],0,"year"),x(0,["YYYYYY",6,!0],0,"year"),M("year","y"),W("Y",Gr),W("YY",Hr,Fr),W("YYYY",qr,Vr),W("YYYYY",zr,Br),W("YYYYYY",zr,Br),V(["YYYY","YYYYY","YYYYYY"],en),V("YY",function(e,r){r[en]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(e){return m(e)+(m(e)>68?1900:2e3)};var yn=D("FullYear",!1);x("w",["ww",2],"wo","week"),x("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),W("w",Hr),W("ww",Hr,Fr),W("W",Hr),W("WW",Hr,Fr),B(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=m(e)});var mn={dow:0,doy:6};x("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),W("DDD",Ur),W("DDDD",Nr),V(["DDD","DDDD"],function(e,t,r){r._dayOfYear=m(e)}),t.ISO_8601=function(){};var gn=X("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Oe.apply(null,arguments);return this>e?this:e}),vn=X("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Oe.apply(null,arguments);return e>this?this:e});xe("Z",":"),xe("ZZ",""),W("Z",Jr),W("ZZ",Jr),V(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=Ye(e)});var _n=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var bn=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,wn=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ge.fn=Ee.prototype;var Tn=Ze(1,"add"),kn=Ze(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ln=X("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});x(0,["gg",2],0,function(){return this.weekYear()%100}),x(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Mt("gggg","weekYear"),Mt("ggggg","weekYear"),Mt("GGGG","isoWeekYear"),Mt("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),W("G",Gr),W("g",Gr),W("GG",Hr,Fr),W("gg",Hr,Fr),W("GGGG",qr,Vr),W("gggg",qr,Vr),W("GGGGG",zr,Br),W("ggggg",zr,Br),B(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=m(e)}),B(["gg","GG"],function(e,r,n,i){r[i]=t.parseTwoDigitYear(e)}),x("Q",0,0,"quarter"),M("quarter","Q"),W("Q",Wr),V("Q",function(e,t){t[tn]=3*(m(e)-1)}),x("D",["DD",2],"Do","date"),M("date","D"),W("D",Hr),W("DD",Hr,Fr),W("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),V(["D","DD"],rn),V("Do",function(e,t){t[rn]=m(e.match(Hr)[0],10)});var Mn=D("Date",!0);x("d",0,"do","day"),x("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),x("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),x("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),x("e",0,0,"weekday"),x("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),W("d",Hr),W("e",Hr),W("E",Hr),W("dd",$r),W("ddd",$r),W("dddd",$r),B(["dd","ddd","dddd"],function(e,t,r){var n=r._locale.weekdaysParse(e);null!=n?t.d=n:r._pf.invalidWeekday=e}),B(["d","e","E"],function(e,t,r,n){t[n]=m(e)});var Pn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),On="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dn="Su_Mo_Tu_We_Th_Fr_Sa".split("_");x("H",["HH",2],0,"hour"),x("h",["hh",2],0,function(){return this.hours()%12||12}),Nt("a",!0),Nt("A",!1),M("hour","h"),W("a",Vt),W("A",Vt),W("H",Hr),W("h",Hr),W("HH",Hr,Fr),W("hh",Hr,Fr),V(["H","HH"],nn),V(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),V(["h","hh"],function(e,t,r){t[nn]=m(e),r._pf.bigHour=!0});var jn=/[ap]\.?m?\.?/i,Cn=D("Hours",!0);x("m",["mm",2],0,"minute"),M("minute","m"),W("m",Hr),W("mm",Hr,Fr),V(["m","mm"],sn);var En=D("Minutes",!1);x("s",["ss",2],0,"second"),M("second","s"),W("s",Hr),W("ss",Hr,Fr),V(["s","ss"],on);var Sn=D("Seconds",!1);x("S",0,0,function(){return~~(this.millisecond()/100)}),x(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ut("SSS"),Ut("SSSS"),M("millisecond","ms"),W("S",Ur,Wr),W("SS",Ur,Fr),W("SSS",Ur,Nr),W("SSSS",Kr),V(["S","SS","SSS","SSSS"],function(e,t){t[an]=m(1e3*("0."+e))});var xn=D("Milliseconds",!1);x("z",0,0,"zoneAbbr"),x("zz",0,0,"zoneName");var Yn=d.prototype;Yn.add=Tn,Yn.calendar=et,Yn.clone=tt,Yn.diff=at,Yn.endOf=gt,Yn.format=lt,Yn.from=ft,Yn.fromNow=ht,Yn.get=E,Yn.invalidAt=Lt,Yn.isAfter=rt,Yn.isBefore=nt,Yn.isBetween=it,Yn.isSame=st,Yn.isValid=Tt,Yn.lang=Ln,Yn.locale=dt,Yn.localeData=yt,Yn.max=vn,Yn.min=gn,Yn.parsingFlags=kt,Yn.set=E,Yn.startOf=mt,Yn.subtract=kn,Yn.toArray=wt,Yn.toDate=bt,Yn.toISOString=pt,Yn.toJSON=pt,Yn.toString=ct,Yn.unix=_t,Yn.valueOf=vt,Yn.year=yn,Yn.isLeapYear=ae,Yn.weekYear=Ot,Yn.isoWeekYear=Dt,Yn.quarter=Yn.quarters=Et,Yn.month=J,Yn.daysInMonth=Q,Yn.week=Yn.weeks=fe,Yn.isoWeek=Yn.isoWeeks=he,Yn.weeksInYear=Ct,Yn.isoWeeksInYear=jt,Yn.date=Mn,Yn.day=Yn.days=It,Yn.weekday=Wt,Yn.isoWeekday=Ft,Yn.dayOfYear=ye,Yn.hour=Yn.hours=Cn,Yn.minute=Yn.minutes=En,Yn.second=Yn.seconds=Sn,Yn.millisecond=Yn.milliseconds=xn,Yn.utcOffset=Ie,Yn.utc=Fe,Yn.local=Ne,Yn.parseZone=Ve,Yn.hasAlignedHourOffset=Be,Yn.isDST=He,Yn.isDSTShifted=Ue,Yn.isLocal=qe,Yn.isUtcOffset=ze,Yn.isUtc=Ke,Yn.isUTC=Ke,Yn.zoneAbbr=qt,Yn.zoneName=zt,Yn.dates=X("dates accessor is deprecated. Use date instead.",Mn),Yn.months=X("months accessor is deprecated. Use month instead",J),Yn.years=X("years accessor is deprecated. Use year instead",yn),Yn.zone=X("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",We);var An=Yn,Rn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},In={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Wn="Invalid date",Fn="%d",Nn=/\d{1,2}/,Vn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Bn=v.prototype;Bn._calendar=Rn,Bn.calendar=Jt,Bn._longDateFormat=In,Bn.longDateFormat=Qt,Bn._invalidDate=Wn,Bn.invalidDate=$t,Bn._ordinal=Fn,Bn.ordinal=Zt,Bn._ordinalParse=Nn,Bn.preparse=Xt,Bn.postformat=Xt,Bn._relativeTime=Vn,Bn.relativeTime=er,Bn.pastFuture=tr,Bn.set=rr,Bn.months=q,Bn._months=un,Bn.monthsShort=z,Bn._monthsShort=cn,Bn.monthsParse=K,Bn.week=ce,
Bn._week=mn,Bn.firstDayOfYear=le,Bn.firstDayOfWeek=pe,Bn.weekdays=xt,Bn._weekdays=Pn,Bn.weekdaysMin=At,Bn._weekdaysMin=Dn,Bn.weekdaysShort=Yt,Bn._weekdaysShort=On,Bn.weekdaysParse=Rt,Bn.isPM=Bt,Bn._meridiemParse=jn,Bn.meridiem=Ht,T("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=1===m(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+r}}),t.lang=X("moment.lang is deprecated. Use moment.locale instead.",T),t.langData=X("moment.langData is deprecated. Use moment.localeData instead.",L);var Hn=Math.abs,Un=_r("ms"),qn=_r("s"),zn=_r("m"),Kn=_r("h"),Gn=_r("d"),Jn=_r("w"),Qn=_r("M"),$n=_r("y"),Zn=wr("milliseconds"),Xn=wr("seconds"),ei=wr("minutes"),ti=wr("hours"),ri=wr("days"),ni=wr("months"),ii=wr("years"),si=Math.round,oi={s:45,m:45,h:22,d:26,M:11},ai=Math.abs,ui=Ee.prototype;ui.abs=pr,ui.add=fr,ui.subtract=hr,ui.as=gr,ui.asMilliseconds=Un,ui.asSeconds=qn,ui.asMinutes=zn,ui.asHours=Kn,ui.asDays=Gn,ui.asWeeks=Jn,ui.asMonths=Qn,ui.asYears=$n,ui.valueOf=vr,ui._bubble=dr,ui.get=br,ui.milliseconds=Zn,ui.seconds=Xn,ui.minutes=ei,ui.hours=ti,ui.days=ri,ui.weeks=Tr,ui.months=ni,ui.years=ii,ui.humanize=Pr,ui.toISOString=Or,ui.toString=Or,ui.toJSON=Or,ui.locale=dt,ui.localeData=yt,ui.toIsoString=X("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Or),ui.lang=Ln,x("X",0,0,"unix"),x("x",0,0,"valueOf"),W("x",Gr),W("X",Qr),V("X",function(e,t,r){r._d=new Date(1e3*parseFloat(e,10))}),V("x",function(e,t,r){r._d=new Date(m(e))}),t.version="2.10.2",n(Oe),t.fn=An,t.min=je,t.max=Ce,t.utc=p,t.unix=Kt,t.months=sr,t.isDate=o,t.locale=T,t.invalid=f,t.duration=Ge,t.isMoment=y,t.weekdays=ar,t.parseZone=Gt,t.localeData=L,t.isDuration=Se,t.monthsShort=or,t.weekdaysMin=cr,t.defineLocale=k,t.weekdaysShort=ur,t.normalizeUnits=P,t.relativeTimeThreshold=Mr;var ci=t;return ci})}).call(t,r(78)(e))},function(e,t,r){"use strict";function n(e){return u.isJsObject(e)?a.assert.returnType(y.isList(e)||!(e instanceof p)&&Symbol.iterator in e,a.assert.type["boolean"]):a.assert.returnType(!1,a.assert.type["boolean"])}function i(e,t){if(a.assert.argumentTypes(e,a.assert.type.any,t,Function),y.isList(e))for(var r=0;r<e.length;r++)t(e[r]);else for(var n,i=e[Symbol.iterator]();!(n=i.next()).done;)t(n.value)}var s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.isListLikeIterable=n,t.iterateListLike=i;var a=r(1),u=r(2),c=u.global.Array;t.List=c;var p=u.global.Map;t.Map=p;var l=u.global.Set;t.Set=l;var f=u.global.Object;t.StringMap=f;var h=function(){function e(){s(this,e)}return o(e,null,[{key:"create",value:function(){return a.assert.returnType(new p,p)}},{key:"clone",value:function(e){return a.assert.argumentTypes(e,p),a.assert.returnType(new p(e),p)}},{key:"createFromStringMap",value:function(t){var r=e.create();for(var n in t)e.set(r,n,t[n]);return a.assert.returnType(r,p)}},{key:"createFromPairs",value:function(e){return a.assert.argumentTypes(e,c),a.assert.returnType(new p(e),p)}},{key:"get",value:function(e,t){return e.get(t)}},{key:"set",value:function(e,t,r){e.set(t,r)}},{key:"contains",value:function(e,t){return e.has(t)}},{key:"forEach",value:function(e,t){e.forEach(t)}},{key:"size",value:function(e){return e.size}},{key:"delete",value:function(e,t){e["delete"](t)}},{key:"clear",value:function(e){e.clear()}},{key:"clearValues",value:function(e){for(var t,r=e.keys();!(t=r.next()).done;)e.set(t.value,null)}},{key:"iterable",value:function(e){return e}},{key:"keys",value:function(e){return e.keys()}},{key:"values",value:function(e){return e.values()}}]),e}();t.MapWrapper=h,Object.defineProperty(h.clone,"parameters",{get:function(){return[[p]]}}),Object.defineProperty(h.createFromPairs,"parameters",{get:function(){return[[c]]}});var d=function(){function e(){s(this,e)}return o(e,null,[{key:"create",value:function(){return a.assert.returnType({},Object)}},{key:"contains",value:function(e,t){return e.hasOwnProperty(t)}},{key:"get",value:function(e,t){return e.hasOwnProperty(t)?e[t]:void 0}},{key:"set",value:function(e,t,r){e[t]=r}},{key:"isEmpty",value:function(e){for(var t in e)return!1;return!0}},{key:"delete",value:function(e,t){delete e[t]}},{key:"forEach",value:function(e,t){for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)}},{key:"merge",value:function(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}}]),e}();t.StringMapWrapper=d;var y=function(){function e(){s(this,e)}return o(e,null,[{key:"create",value:function(){return a.assert.returnType(new c,c)}},{key:"createFixedSize",value:function(e){return a.assert.returnType(new c(e),c)}},{key:"get",value:function(e,t){return e[t]}},{key:"set",value:function(e,t,r){e[t]=r}},{key:"clone",value:function(e){return a.assert.argumentTypes(e,c),e.slice(0)}},{key:"map",value:function(e,t){return e.map(t)}},{key:"forEach",value:function(e,t){a.assert.argumentTypes(e,c,t,Function);for(var r=0;r<e.length;r++)t(e[r])}},{key:"push",value:function(e,t){e.push(t)}},{key:"first",value:function(e){return e?e[0]:null}},{key:"last",value:function(e){return e&&0!=e.length?e[e.length-1]:null}},{key:"find",value:function(e,t){a.assert.argumentTypes(e,c,t,Function);for(var r=0;r<e.length;++r)if(t(e[r]))return e[r];return null}},{key:"reduce",value:function(e,t,r){return a.assert.argumentTypes(e,c,t,Function,r,a.assert.type.any),e.reduce(t,r)}},{key:"filter",value:function(e,t){return a.assert.argumentTypes(e,a.assert.type.any,t,Function),e.filter(t)}},{key:"indexOf",value:function(e,t){var r=void 0===arguments[2]?-1:arguments[2];return e.indexOf(t,r)}},{key:"any",value:function(e,t){a.assert.argumentTypes(e,c,t,Function);for(var r=0;r<e.length;++r)if(t(e[r]))return!0;return!1}},{key:"contains",value:function(e,t){return a.assert.argumentTypes(e,c,t,a.assert.type.any),-1!==e.indexOf(t)}},{key:"reversed",value:function(t){var r=e.clone(t);return r.reverse()}},{key:"concat",value:function(e,t){return e.concat(t)}},{key:"isList",value:function(e){return Array.isArray(e)}},{key:"insert",value:function(e,t,r){a.assert.argumentTypes(e,a.assert.type.any,t,u["int"],r,a.assert.type.any),e.splice(t,0,r)}},{key:"removeAt",value:function(e,t){a.assert.argumentTypes(e,a.assert.type.any,t,u["int"]);var r=e[t];return e.splice(t,1),r}},{key:"removeAll",value:function(e,t){for(var r=0;r<t.length;++r){var n=e.indexOf(t[r]);e.splice(n,1)}}},{key:"removeLast",value:function(e){return a.assert.argumentTypes(e,c),e.pop()}},{key:"remove",value:function(e,t){var r=e.indexOf(t);return r>-1?(e.splice(r,1),a.assert.returnType(!0,a.assert.type["boolean"])):a.assert.returnType(!1,a.assert.type["boolean"])}},{key:"clear",value:function(e){e.splice(0,e.length)}},{key:"join",value:function(e,t){return e.join(t)}},{key:"isEmpty",value:function(e){return 0==e.length}},{key:"fill",value:function(e,t){var r=void 0===arguments[2]?0:arguments[2],n=void 0===arguments[3]?null:arguments[3];a.assert.argumentTypes(e,c,t,a.assert.type.any,r,u["int"],n,u["int"]),e.fill(t,r,null===n?void 0:n)}},{key:"equals",value:function(e,t){if(a.assert.argumentTypes(e,c,t,c),e.length!=t.length)return a.assert.returnType(!1,a.assert.type["boolean"]);for(var r=0;r<e.length;++r)if(e[r]!==t[r])return a.assert.returnType(!1,a.assert.type["boolean"]);return a.assert.returnType(!0,a.assert.type["boolean"])}},{key:"slice",value:function(e,t,r){return a.assert.argumentTypes(e,c,t,u["int"],r,u["int"]),a.assert.returnType(e.slice(t,r),c)}},{key:"splice",value:function(e,t,r){return a.assert.argumentTypes(e,c,t,u["int"],r,u["int"]),a.assert.returnType(e.splice(t,r),c)}},{key:"sort",value:function(e,t){a.assert.argumentTypes(e,c,t,Function),e.sort(t)}}]),e}();t.ListWrapper=y,Object.defineProperty(y.clone,"parameters",{get:function(){return[[c]]}}),Object.defineProperty(y.forEach,"parameters",{get:function(){return[[c],[Function]]}}),Object.defineProperty(y.find,"parameters",{get:function(){return[[c],[Function]]}}),Object.defineProperty(y.reduce,"parameters",{get:function(){return[[c],[Function],[]]}}),Object.defineProperty(y.filter,"parameters",{get:function(){return[[],[Function]]}}),Object.defineProperty(y.any,"parameters",{get:function(){return[[c],[Function]]}}),Object.defineProperty(y.contains,"parameters",{get:function(){return[[c],[]]}}),Object.defineProperty(y.insert,"parameters",{get:function(){return[[],[u["int"]],[]]}}),Object.defineProperty(y.removeAt,"parameters",{get:function(){return[[],[u["int"]]]}}),Object.defineProperty(y.removeLast,"parameters",{get:function(){return[[c]]}}),Object.defineProperty(y.fill,"parameters",{get:function(){return[[c],[],[u["int"]],[u["int"]]]}}),Object.defineProperty(y.equals,"parameters",{get:function(){return[[c],[c]]}}),Object.defineProperty(y.slice,"parameters",{get:function(){return[[c],[u["int"]],[u["int"]]]}}),Object.defineProperty(y.splice,"parameters",{get:function(){return[[c],[u["int"]],[u["int"]]]}}),Object.defineProperty(y.sort,"parameters",{get:function(){return[[c],[Function]]}}),Object.defineProperty(i,"parameters",{get:function(){return[[],[Function]]}});var m=function(){function e(){s(this,e)}return o(e,null,[{key:"createFromList",value:function(e){return a.assert.argumentTypes(e,c),new l(e)}},{key:"has",value:function(e,t){return a.assert.argumentTypes(e,l,t,a.assert.type.any),a.assert.returnType(e.has(t),a.assert.type["boolean"])}}]),e}();t.SetWrapper=m,Object.defineProperty(m.createFromList,"parameters",{get:function(){return[[c]]}}),Object.defineProperty(m.has,"parameters",{get:function(){return[[l],[]]}})},function(e,t,r){"use strict";function n(e){return isNaN(e=+e)?0:(e>0?y:d)(e)}function i(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function s(e,t,r){return e[t]=r,e}function o(e){return v?function(t,r,n){return b.setDesc(t,r,i(e,n))}:s}function a(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function u(e){return"function"==typeof e}function c(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}var p="undefined"!=typeof self?self:Function("return this")(),l={},f=Object.defineProperty,h={}.hasOwnProperty,d=Math.ceil,y=Math.floor,m=Math.max,g=Math.min,v=!!function(){try{return 2==f({},"a",{get:function(){return 2}}).a}catch(e){}}(),_=o(1),b=e.exports=r(188)({g:p,core:l,html:p.document&&document.documentElement,isObject:a,isFunction:u,it:function(e){return e},that:function(){return this},toInteger:n,toLength:function(e){return e>0?g(n(e),9007199254740991):0},toIndex:function(e,t){return e=n(e),0>e?m(e+t,0):g(e,t)},has:function(e,t){return h.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:v,desc:i,getDesc:Object.getOwnPropertyDescriptor,setDesc:f,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:c,ES5Object:Object,toObject:function(e){return b.ES5Object(c(e))},hide:_,def:o(0),set:p.Symbol?s:_,mix:function(e,t){for(var r in t)_(e,r,t[r]);return e},each:[].forEach});"undefined"!=typeof __e&&(__e=l),"undefined"!=typeof __g&&(__g=p)},function(e,t,r){function n(e,t){return function(){return e.apply(t,arguments)}}function i(e,t,r){var c,p,l,f,h=e&i.G,d=h?o:e&i.S?o[t]:(o[t]||{}).prototype,y=h?a:a[t]||(a[t]={});h&&(r=t);for(c in r)p=!(e&i.F)&&d&&c in d,l=(p?d:r)[c],f=e&i.B&&p?n(l,o):e&i.P&&u(l)?n(Function.call,l):l,d&&!p&&(h?d[c]=l:delete d[c]&&s.hide(d,c,l)),y[c]!=l&&s.hide(y,c,f)}var s=r(5),o=s.g,a=s.core,u=s.isFunction;o.core=a,i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(100);Object.defineProperty(t,"Inject",{enumerable:!0,get:function(){return n.Inject}}),Object.defineProperty(t,"InjectPromise",{enumerable:!0,get:function(){return n.InjectPromise}}),Object.defineProperty(t,"InjectLazy",{enumerable:!0,get:function(){return n.InjectLazy}}),Object.defineProperty(t,"Injectable",{enumerable:!0,get:function(){return n.Injectable}}),Object.defineProperty(t,"Optional",{enumerable:!0,get:function(){return n.Optional}}),Object.defineProperty(t,"DependencyAnnotation",{enumerable:!0,get:function(){return n.DependencyAnnotation}});var i=r(256);Object.defineProperty(t,"Injector",{enumerable:!0,get:function(){return i.Injector}});var s=r(67);Object.defineProperty(t,"Binding",{enumerable:!0,get:function(){return s.Binding}}),Object.defineProperty(t,"ResolvedBinding",{enumerable:!0,get:function(){return s.ResolvedBinding}}),Object.defineProperty(t,"Dependency",{enumerable:!0,get:function(){return s.Dependency}}),Object.defineProperty(t,"bind",{enumerable:!0,get:function(){return s.bind}});var o=r(69);Object.defineProperty(t,"Key",{enumerable:!0,get:function(){return o.Key}}),Object.defineProperty(t,"KeyRegistry",{enumerable:!0,get:function(){return o.KeyRegistry}});var a=r(68);Object.defineProperty(t,"KeyMetadataError",{enumerable:!0,get:function(){return a.KeyMetadataError}}),Object.defineProperty(t,"NoBindingError",{enumerable:!0,get:function(){return a.NoBindingError}}),Object.defineProperty(t,"AbstractBindingError",{enumerable:!0,get:function(){return a.AbstractBindingError}}),Object.defineProperty(t,"AsyncBindingError",{enumerable:!0,get:function(){return a.AsyncBindingError}}),Object.defineProperty(t,"CyclicDependencyError",{enumerable:!0,get:function(){return a.CyclicDependencyError}}),Object.defineProperty(t,"InstantiationError",{enumerable:!0,get:function(){return a.InstantiationError}}),Object.defineProperty(t,"InvalidBindingError",{enumerable:!0,get:function(){return a.InvalidBindingError}}),Object.defineProperty(t,"NoAnnotationError",{enumerable:!0,get:function(){return a.NoAnnotationError}});var u=r(257);Object.defineProperty(t,"OpaqueToken",{enumerable:!0,get:function(){return u.OpaqueToken}})},function(e,t,r){"use strict";function n(e){u.assert.argumentTypes(e,p),t.DOM=a=e}function i(){return new c.BaseException("This method is abstract")}var s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.setRootDomAdapter=n;var a,u=r(1),c=r(2);t.DOM=a,Object.defineProperty(n,"parameters",{get:function(){return[[p]]}});var p=function(){function e(){s(this,e)}return o(e,[{key:"attrToPropMap",get:function(){throw i()}},{key:"parse",value:function(e){throw u.assert.argumentTypes(e,u.assert.type.string),i()}},{key:"query",value:function(e){throw u.assert.argumentTypes(e,u.assert.type.string),i()}},{key:"querySelector",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"querySelectorAll",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"on",value:function(e,t,r){throw i()}},{key:"onAndCancel",value:function(e,t,r){throw i()}},{key:"dispatchEvent",value:function(e,t){throw i()}},{key:"createMouseEvent",value:function(e){throw i()}},{key:"createEvent",value:function(e){throw i()}},{key:"getInnerHTML",value:function(e){throw i()}},{key:"getOuterHTML",value:function(e){throw i()}},{key:"nodeName",value:function(e){throw i()}},{key:"nodeValue",value:function(e){throw i()}},{key:"type",value:function(e){throw i()}},{key:"content",value:function(e){throw i()}},{key:"firstChild",value:function(e){throw i()}},{key:"nextSibling",value:function(e){throw i()}},{key:"parentElement",value:function(e){throw i()}},{key:"childNodes",value:function(e){throw i()}},{key:"childNodesAsList",value:function(e){throw i()}},{key:"clearNodes",value:function(e){throw i()}},{key:"appendChild",value:function(e,t){throw i()}},{key:"removeChild",value:function(e,t){throw i()}},{key:"replaceChild",value:function(e,t,r){throw i()}},{key:"remove",value:function(e){throw i()}},{key:"insertBefore",value:function(e,t){throw i()}},{key:"insertAllBefore",value:function(e,t){throw i()}},{key:"insertAfter",value:function(e,t){throw i()}},{key:"setInnerHTML",value:function(e,t){throw i()}},{key:"getText",value:function(e){throw i()}},{key:"setText",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"getValue",value:function(e){throw i()}},{key:"setValue",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"getChecked",value:function(e){throw i()}},{key:"setChecked",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type["boolean"]),i()}},{key:"createTemplate",value:function(e){throw i()}},{key:"createElement",value:function(e){void 0===arguments[1]?null:arguments[1];throw i()}},{key:"createTextNode",value:function(e){var t=void 0===arguments[1]?null:arguments[1];throw u.assert.argumentTypes(e,u.assert.type.string,t,u.assert.type.any),i()}},{key:"createScriptTag",value:function(e,t){var r=void 0===arguments[2]?null:arguments[2];throw u.assert.argumentTypes(e,u.assert.type.string,t,u.assert.type.string,r,u.assert.type.any),i()}},{key:"createStyleElement",value:function(e){var t=void 0===arguments[1]?null:arguments[1];throw u.assert.argumentTypes(e,u.assert.type.string,t,u.assert.type.any),i()}},{key:"createShadowRoot",value:function(e){throw i()}},{key:"getShadowRoot",value:function(e){throw i()}},{key:"getHost",value:function(e){throw i()}},{key:"getDistributedNodes",value:function(e){throw i()}},{key:"clone",value:function(e){throw i()}},{key:"hasProperty",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"getElementsByClassName",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"getElementsByTagName",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"classList",value:function(e){throw i()}},{key:"addClass",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"removeClass",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"hasClass",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"setStyle",value:function(e,t,r){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string,r,u.assert.type.string),i()}},{key:"removeStyle",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"getStyle",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"tagName",value:function(e){throw i()}},{key:"attributeMap",value:function(e){throw i()}},{key:"getAttribute",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"setAttribute",value:function(e,t,r){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string,r,u.assert.type.string),i()}},{key:"removeAttribute",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"templateAwareRoot",value:function(e){throw i()}},{key:"createHtmlDocument",value:function(){throw i()}},{key:"defaultDoc",value:function(){throw i()}},{key:"getBoundingClientRect",value:function(e){throw i()}},{key:"getTitle",value:function(){throw i()}},{key:"setTitle",value:function(e){throw u.assert.argumentTypes(e,u.assert.type.string),i()}},{key:"elementMatches",value:function(e,t){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string),i()}},{key:"isTemplateElement",value:function(e){throw u.assert.argumentTypes(e,u.assert.type.any),i()}},{key:"isTextNode",value:function(e){throw i()}},{key:"isCommentNode",value:function(e){throw i()}},{key:"isElementNode",value:function(e){throw i()}},{key:"hasShadowRoot",value:function(e){throw i()}},{key:"isShadowRoot",value:function(e){throw i()}},{key:"importIntoDoc",value:function(e){throw i()}},{key:"isPageRule",value:function(e){throw i()}},{key:"isStyleRule",value:function(e){throw i()}},{key:"isMediaRule",value:function(e){throw i()}},{key:"isKeyframesRule",value:function(e){throw i()}},{key:"getHref",value:function(e){throw i()}},{key:"getEventKey",value:function(e){throw i()}},{key:"resolveAndSetHref",value:function(e,t,r){throw u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.string,r,u.assert.type.string),i()}},{key:"cssToRules",value:function(e){throw u.assert.argumentTypes(e,u.assert.type.string),i()}},{key:"supportsDOMEvents",value:function(){throw i()}},{key:"supportsNativeShadowDOM",value:function(){throw i()}},{key:"getGlobalEventTarget",value:function(e){throw u.assert.argumentTypes(e,u.assert.type.string),i()}}]),e}();t.DomAdapter=p,Object.defineProperty(p,"annotations",{get:function(){return[new c.ABSTRACT]}}),Object.defineProperty(p.prototype.parse,"parameters",{get:function(){return[[u.assert.type.string]]}}),Object.defineProperty(p.prototype.query,"parameters",{get:function(){return[[u.assert.type.string]]}}),Object.defineProperty(p.prototype.querySelector,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.querySelectorAll,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.setText,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.setValue,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.setChecked,"parameters",{get:function(){return[[],[u.assert.type["boolean"]]]}}),Object.defineProperty(p.prototype.createTextNode,"parameters",{get:function(){return[[u.assert.type.string],[]]}}),Object.defineProperty(p.prototype.createScriptTag,"parameters",{get:function(){return[[u.assert.type.string],[u.assert.type.string],[]]}}),Object.defineProperty(p.prototype.createStyleElement,"parameters",{get:function(){return[[u.assert.type.string],[]]}}),Object.defineProperty(p.prototype.hasProperty,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.getElementsByClassName,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.getElementsByTagName,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.addClass,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.removeClass,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.hasClass,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.setStyle,"parameters",{get:function(){return[[],[u.assert.type.string],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.removeStyle,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.getStyle,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.getAttribute,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.setAttribute,"parameters",{get:function(){return[[],[u.assert.type.string],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.removeAttribute,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.setTitle,"parameters",{get:function(){return[[u.assert.type.string]]}}),Object.defineProperty(p.prototype.elementMatches,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.isTemplateElement,"parameters",{get:function(){return[[u.assert.type.any]]}}),Object.defineProperty(p.prototype.resolveAndSetHref,"parameters",{get:function(){return[[],[u.assert.type.string],[u.assert.type.string]]}}),Object.defineProperty(p.prototype.cssToRules,"parameters",{get:function(){return[[u.assert.type.string]]}}),Object.defineProperty(p.prototype.getGlobalEventTarget,"parameters",{get:function(){return[[u.assert.type.string]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function v(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:v(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(1),c=r(2),p=r(4),l=r(185),f=n(l),h=c.global.Promise;t.Promise=h;var d=function(){function e(){o(this,e)}return a(e,null,[{key:"resolve",value:function(e){return u.assert.returnType(h.resolve(e),h)}},{key:"reject",value:function(e){return u.assert.returnType(h.reject(e),h)}},{key:"catchError",value:function(e,t){return u.assert.argumentTypes(e,h,t,Function),u.assert.returnType(e["catch"](t),h)}},{key:"all",value:function(e){return u.assert.argumentTypes(e,p.List),0==e.length?u.assert.returnType(h.resolve([]),h):u.assert.returnType(h.all(e),h)}},{key:"then",value:function(e,t,r){return u.assert.argumentTypes(e,h,t,Function,r,Function),u.assert.returnType(e.then(t,r),h)}},{key:"completer",value:function(){var e,t,r=new h(function(r,n){e=r,t=n});return{promise:r,resolve:e,reject:t}}},{key:"setTimeout",value:function(e,t){u.assert.argumentTypes(e,Function,t,c["int"]),c.global.setTimeout(e,t)}},{key:"isPromise",value:function(e){return u.assert.returnType(e instanceof h,u.assert.type["boolean"])}}]),e}();t.PromiseWrapper=d,Object.defineProperty(d.catchError,"parameters",{get:function(){return[[h],[Function]]}}),Object.defineProperty(d.all,"parameters",{get:function(){return[[p.List]]}}),Object.defineProperty(d.then,"parameters",{get:function(){return[[h],[Function],[Function]]}}),Object.defineProperty(d.setTimeout,"parameters",{get:function(){return[[Function],[c["int"]]]}});var y=function(){function e(){o(this,e)}return a(e,null,[{key:"subscribe",value:function(e,t){var r=void 0===arguments[2]?null:arguments[2],n=void 0===arguments[3]?null:arguments[3];return u.assert.argumentTypes(e,g,t,u.assert.type.any,r,u.assert.type.any,n,u.assert.type.any),e.observer({next:t,"throw":r,"return":n})}},{key:"dispose",value:function(e){u.assert.argumentTypes(e,u.assert.type.any),e.dispose()}},{key:"isObservable",value:function(e){return u.assert.returnType(e instanceof m,u.assert.type["boolean"])}},{key:"callNext",value:function(e,t){u.assert.argumentTypes(e,g,t,u.assert.type.any),e.next(t)}},{key:"callThrow",value:function(e,t){u.assert.argumentTypes(e,g,t,u.assert.type.any),e["throw"](t)}},{key:"callReturn",value:function(e){u.assert.argumentTypes(e,g),e["return"]()}}]),e}();t.ObservableWrapper=y,Object.defineProperty(y.subscribe,"parameters",{get:function(){return[[g],[],[],[]]}}),Object.defineProperty(y.dispose,"parameters",{get:function(){return[[u.assert.type.any]]}}),Object.defineProperty(y.callNext,"parameters",{get:function(){return[[g],[u.assert.type.any]]}}),Object.defineProperty(y.callThrow,"parameters",{get:function(){return[[g],[u.assert.type.any]]}}),Object.defineProperty(y.callReturn,"parameters",{get:function(){return[[g]]}});var m=function(){function e(){o(this,e)}return a(e,[{key:"observer",value:function(e){u.assert.argumentTypes(e,Function)}}]),e}();t.Observable=m,Object.defineProperty(m.prototype.observer,"parameters",{get:function(){return[[Function]]}});var g=function(e){function t(){o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._subject=new f["default"].Subject}return s(t,e),a(t,[{key:"observer",value:function(e){return this._subject.observeOn(f["default"].Scheduler.immediate).subscribe(function(t){setTimeout(function(){return e.next(t)})},function(t){return e["throw"]?e["throw"](t):null},function(){return e["return"]?e["return"]():null})}},{key:"toRx",value:function(){return u.assert.returnType(this._subject,f["default"].Observable)}},{key:"next",value:function(e){this._subject.onNext(e)}},{key:"throw",value:function(e){this._subject.onError(e)}},{key:"return",value:function(e){this._subject.onCompleted()}}]),t}(m);t.EventEmitter=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(48);Object.defineProperty(t,"ASTWithSource",{enumerable:!0,get:function(){return n.ASTWithSource}}),Object.defineProperty(t,"AST",{enumerable:!0,get:function(){return n.AST}}),Object.defineProperty(t,"AstTransformer",{enumerable:!0,get:function(){return n.AstTransformer}}),Object.defineProperty(t,"AccessMember",{enumerable:!0,get:function(){return n.AccessMember}}),Object.defineProperty(t,"LiteralArray",{enumerable:!0,get:function(){return n.LiteralArray}}),Object.defineProperty(t,"ImplicitReceiver",{enumerable:!0,get:function(){return n.ImplicitReceiver}});var i=r(89);Object.defineProperty(t,"Lexer",{enumerable:!0,get:function(){return i.Lexer}});var s=r(243);Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return s.Parser}});var o=r(90);Object.defineProperty(t,"Locals",{enumerable:!0,get:function(){return o.Locals}});var a=r(60);Object.defineProperty(t,"ExpressionChangedAfterItHasBeenChecked",{enumerable:!0,get:function(){return a.ExpressionChangedAfterItHasBeenChecked}}),Object.defineProperty(t,"ChangeDetectionError",{enumerable:!0,get:function(){return a.ChangeDetectionError}});var u=r(36);Object.defineProperty(t,"ProtoChangeDetector",{enumerable:!0,get:function(){return u.ProtoChangeDetector}}),Object.defineProperty(t,"ChangeDispatcher",{enumerable:!0,get:function(){return u.ChangeDispatcher}}),Object.defineProperty(t,"ChangeDetector",{enumerable:!0,get:function(){return u.ChangeDetector}}),Object.defineProperty(t,"ChangeDetection",{enumerable:!0,get:function(){return u.ChangeDetection}});var c=r(26);Object.defineProperty(t,"CHECK_ONCE",{enumerable:!0,get:function(){return c.CHECK_ONCE}}),Object.defineProperty(t,"CHECK_ALWAYS",{enumerable:!0,get:function(){return c.CHECK_ALWAYS}}),Object.defineProperty(t,"DETACHED",{enumerable:!0,get:function(){return c.DETACHED}}),Object.defineProperty(t,"CHECKED",{enumerable:!0,get:function(){return c.CHECKED}}),Object.defineProperty(t,"ON_PUSH",{enumerable:!0,get:function(){return c.ON_PUSH}}),Object.defineProperty(t,"DEFAULT",{enumerable:!0,get:function(){return c.DEFAULT}});var p=r(91);Object.defineProperty(t,"DynamicProtoChangeDetector",{enumerable:!0,get:function(){return p.DynamicProtoChangeDetector}}),Object.defineProperty(t,"JitProtoChangeDetector",{enumerable:!0,get:function(){return p.JitProtoChangeDetector}});var l=r(35);Object.defineProperty(t,"BindingRecord",{enumerable:!0,get:function(){return l.BindingRecord}});var f=r(47);Object.defineProperty(t,"DirectiveRecord",{enumerable:!0,get:function(){return f.DirectiveRecord}});var h=r(88);Object.defineProperty(t,"DynamicChangeDetector",{enumerable:!0,get:function(){return h.DynamicChangeDetector}});var d=r(46);Object.defineProperty(t,"ChangeDetectorRef",{enumerable:!0,get:function(){return d.ChangeDetectorRef}});var y=r(49);Object.defineProperty(t,"PipeRegistry",{enumerable:!0,
get:function(){return y.PipeRegistry}});var m=r(45);Object.defineProperty(t,"uninitialized",{enumerable:!0,get:function(){return m.uninitialized}});var g=r(27);Object.defineProperty(t,"NO_CHANGE",{enumerable:!0,get:function(){return g.NO_CHANGE}}),Object.defineProperty(t,"Pipe",{enumerable:!0,get:function(){return g.Pipe}});var v=r(240);Object.defineProperty(t,"defaultPipes",{enumerable:!0,get:function(){return v.defaultPipes}}),Object.defineProperty(t,"DynamicChangeDetection",{enumerable:!0,get:function(){return v.DynamicChangeDetection}}),Object.defineProperty(t,"JitChangeDetection",{enumerable:!0,get:function(){return v.JitChangeDetection}}),Object.defineProperty(t,"defaultPipeRegistry",{enumerable:!0,get:function(){return v.defaultPipeRegistry}})},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(2),a=r(9),u=r(4),c=r(10),p=function w(e,t){i(this,w),s.assert.argumentTypes(e,s.assert.type.string,t,c.ASTWithSource),this.fullName=e,this.source=t};t.EventBinding=p,Object.defineProperty(p,"parameters",{get:function(){return[[s.assert.type.string],[c.ASTWithSource]]}});var l=function T(e){var t=e.index,r=e.parentIndex,n=e.distanceToParent,s=e.directives,o=e.nestedProtoView,a=e.propertyBindings,u=e.variableBindings,c=e.eventBindings,p=e.textBindings,l=e.readAttributes;i(this,T),this.index=t,this.parentIndex=r,this.distanceToParent=n,this.directives=s,this.nestedProtoView=o,this.propertyBindings=a,this.variableBindings=u,this.eventBindings=c,this.textBindings=p,this.readAttributes=l};t.ElementBinder=l;var f=function k(e){var t=e.directiveIndex,r=e.propertyBindings,n=e.eventBindings;i(this,k),this.directiveIndex=t,this.propertyBindings=r,this.eventBindings=n};t.DirectiveBinder=f;var h=function(){function e(){var t=void 0===arguments[0]?{}:arguments[0],r=t.render,n=t.elementBinders,s=t.variableBindings,o=t.type;i(this,e),this.render=r,this.elementBinders=n,this.variableBindings=s,this.type=o}return n(e,null,[{key:"HOST_VIEW_TYPE",get:function(){return 0}},{key:"COMPONENT_VIEW_TYPE",get:function(){return 1}},{key:"EMBEDDED_VIEW_TYPE",get:function(){return 1}}]),e}();t.ProtoViewDto=h;var d=function(){function e(t){var r=t.id,n=t.selector,s=t.compileChildren,a=t.hostListeners,u=t.properties,c=t.setters,p=t.readAttributes,l=t.type;i(this,e),this.id=r,this.selector=n,this.compileChildren=o.isPresent(s)?s:!0,this.hostListeners=a,this.properties=u,this.setters=c,this.readAttributes=p,this.type=l}return n(e,null,[{key:"DECORATOR_TYPE",get:function(){return 0}},{key:"COMPONENT_TYPE",get:function(){return 1}},{key:"VIEWPORT_TYPE",get:function(){return 2}}]),e}();t.DirectiveMetadata=d;var y=function L(){i(this,L)};t.ProtoViewRef=y;var m=function M(){i(this,M)};t.ViewRef=m;var g=function P(e,t){i(this,P),s.assert.argumentTypes(e,m,t,s.assert.type.number),this.view=e,this.elementIndex=t};t.ViewContainerRef=g,Object.defineProperty(g,"parameters",{get:function(){return[[m],[s.assert.type.number]]}});var v=function O(e){var t=e.componentId,r=e.absUrl,n=e.template,s=e.directives;i(this,O),this.componentId=t,this.absUrl=r,this.template=n,this.directives=s};t.ViewDefinition=v;var _=function(){function e(){i(this,e)}return n(e,[{key:"createHostProtoView",value:function(e){return s.assert.returnType(null,s.assert.genericType(a.Promise,h))}},{key:"createImperativeComponentProtoView",value:function(e){return s.assert.returnType(null,s.assert.genericType(a.Promise,h))}},{key:"compile",value:function(e){return s.assert.argumentTypes(e,v),s.assert.returnType(null,s.assert.genericType(a.Promise,h))}},{key:"mergeChildComponentProtoViews",value:function(e,t){return s.assert.argumentTypes(e,y,t,s.assert.genericType(u.List,y)),null}},{key:"createViewInContainer",value:function(e,t,r){return s.assert.argumentTypes(e,g,t,s.assert.type.number,r,y),s.assert.returnType(null,s.assert.genericType(u.List,m))}},{key:"destroyViewInContainer",value:function(e,t){s.assert.argumentTypes(e,g,t,s.assert.type.number)}},{key:"insertViewIntoContainer",value:function(e,t,r){s.assert.argumentTypes(e,g,t,s.assert.type.number,r,m)}},{key:"detachViewFromContainer",value:function(e,t){s.assert.argumentTypes(e,g,t,s.assert.type.number)}},{key:"createDynamicComponentView",value:function(e,t,r){return s.assert.argumentTypes(e,m,t,s.assert.type.number,r,y),s.assert.returnType(null,s.assert.genericType(u.List,m))}},{key:"destroyDynamicComponentView",value:function(e,t){s.assert.argumentTypes(e,m,t,s.assert.type.number)}},{key:"createInPlaceHostView",value:function(e,t,r){return s.assert.argumentTypes(e,m,t,s.assert.type.any,r,y),s.assert.returnType(null,s.assert.genericType(u.List,m))}},{key:"destroyInPlaceHostView",value:function(e,t){s.assert.argumentTypes(e,m,t,m)}},{key:"setElementProperty",value:function(e,t,r,n){s.assert.argumentTypes(e,m,t,s.assert.type.number,r,s.assert.type.string,n,s.assert.type.any)}},{key:"setText",value:function(e,t,r){s.assert.argumentTypes(e,m,t,s.assert.type.number,r,s.assert.type.string)}},{key:"setEventDispatcher",value:function(e,t){s.assert.argumentTypes(e,m,t,s.assert.type.any)}},{key:"flush",value:function(){}}]),e}();t.Renderer=_,Object.defineProperty(_.prototype.compile,"parameters",{get:function(){return[[v]]}}),Object.defineProperty(_.prototype.mergeChildComponentProtoViews,"parameters",{get:function(){return[[y],[s.assert.genericType(u.List,y)]]}}),Object.defineProperty(_.prototype.createViewInContainer,"parameters",{get:function(){return[[g],[s.assert.type.number],[y]]}}),Object.defineProperty(_.prototype.destroyViewInContainer,"parameters",{get:function(){return[[g],[s.assert.type.number]]}}),Object.defineProperty(_.prototype.insertViewIntoContainer,"parameters",{get:function(){return[[g],[s.assert.type.number],[m]]}}),Object.defineProperty(_.prototype.detachViewFromContainer,"parameters",{get:function(){return[[g],[s.assert.type.number]]}}),Object.defineProperty(_.prototype.createDynamicComponentView,"parameters",{get:function(){return[[m],[s.assert.type.number],[y]]}}),Object.defineProperty(_.prototype.destroyDynamicComponentView,"parameters",{get:function(){return[[m],[s.assert.type.number]]}}),Object.defineProperty(_.prototype.createInPlaceHostView,"parameters",{get:function(){return[[m],[],[y]]}}),Object.defineProperty(_.prototype.destroyInPlaceHostView,"parameters",{get:function(){return[[m],[m]]}}),Object.defineProperty(_.prototype.setElementProperty,"parameters",{get:function(){return[[m],[s.assert.type.number],[s.assert.type.string],[s.assert.type.any]]}}),Object.defineProperty(_.prototype.setText,"parameters",{get:function(){return[[m],[s.assert.type.number],[s.assert.type.string]]}}),Object.defineProperty(_.prototype.setEventDispatcher,"parameters",{get:function(){return[[m],[s.assert.type.any]]}});var b=function(){function e(){i(this,e)}return n(e,[{key:"dispatchEvent",value:function(e,t,r){s.assert.argumentTypes(e,s.assert.type.number,t,s.assert.type.string,r,s.assert.genericType(u.Map,s.assert.type.string,s.assert.type.any))}}]),e}();t.EventDispatcher=b,Object.defineProperty(b.prototype.dispatchEvent,"parameters",{get:function(){return[[s.assert.type.number],[s.assert.type.string],[s.assert.genericType(u.Map,s.assert.type.string,s.assert.type.any)]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function b(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:b(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(2),c=r(4),p=r(7),l=r(10),f=function(e){function t(){var e=void 0===arguments[0]?{}:arguments[0],r=e.selector,i=e.properties,o=e.events,a=e.hostListeners,u=e.lifecycle;n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.selector=r,this.properties=i,this.events=o,this.hostListeners=a,this.lifecycle=u}return o(t,e),i(t,[{key:"hasLifecycleHook",value:function(e){return a.assert.argumentTypes(e,a.assert.type.string),a.assert.returnType(u.isPresent(this.lifecycle)?c.ListWrapper.contains(this.lifecycle,e):!1,a.assert.type["boolean"])}}]),t}(p.Injectable);t.Directive=f,Object.defineProperty(f,"annotations",{get:function(){return[new u.ABSTRACT,new u.CONST]}}),Object.defineProperty(f.prototype.hasLifecycleHook,"parameters",{get:function(){return[[a.assert.type.string]]}});var h=function(e){function t(){var e=void 0===arguments[0]?{}:arguments[0],r=e.selector,i=e.properties,o=e.events,a=e.hostListeners,u=e.injectables,c=e.lifecycle,p=e.changeDetection,f=void 0===p?l.DEFAULT:p;n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{selector:r,properties:i,events:o,hostListeners:a,lifecycle:c}),this.changeDetection=f,this.injectables=u}return o(t,e),t}(f);t.Component=h,Object.defineProperty(h,"annotations",{get:function(){return[new u.CONST]}});var d=function(e){function t(){var e=void 0===arguments[0]?{}:arguments[0],r=e.selector,i=e.properties,o=e.events,a=e.hostListeners,u=e.injectables,c=e.lifecycle;n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{selector:r,properties:i,events:o,hostListeners:a,lifecycle:c}),this.injectables=u}return o(t,e),t}(f);t.DynamicComponent=d,Object.defineProperty(d,"annotations",{get:function(){return[new u.CONST]}});var y=function(e){function t(){var e=void 0===arguments[0]?{}:arguments[0],r=e.selector,i=e.properties,o=e.events,a=e.hostListeners,u=e.lifecycle,c=e.compileChildren,p=void 0===c?!0:c;n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{selector:r,properties:i,events:o,hostListeners:a,lifecycle:u}),this.compileChildren=p}return o(t,e),t}(f);t.Decorator=y,Object.defineProperty(y,"annotations",{get:function(){return[new u.CONST]}});var m=function(e){function t(){var e=void 0===arguments[0]?{}:arguments[0],r=e.selector,i=e.properties,o=e.events,a=e.hostListeners,u=e.lifecycle;n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{selector:r,properties:i,events:o,hostListeners:a,lifecycle:u})}return o(t,e),t}(f);t.Viewport=m,Object.defineProperty(m,"annotations",{get:function(){return[new u.CONST]}});var g="onDestroy";t.onDestroy=g;var v="onChange";t.onChange=v;var _="onAllChangesDone";t.onAllChangesDone=_},function(e,t,r){function n(e,t,r){if(!e)throw TypeError(r?t+r:t)}var i=r(5);n.def=i.assertDefined,n.fn=function(e){if(!i.isFunction(e))throw TypeError(e+" is not a function!");return e},n.obj=function(e){if(!i.isObject(e))throw TypeError(e+" is not an object!");return e},n.inst=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e},e.exports=n},function(e,t,r){function n(e){return o.call(e).slice(8,-1)}var i=r(5),s=r(19)("toStringTag"),o={}.toString;n.classof=function(e){var t,r;return void 0==e?void 0===e?"Undefined":"Null":"string"==typeof(r=(t=Object(e))[s])?r:n(t)},n.set=function(e,t,r){e&&!i.has(e=r?e:e.prototype,s)&&i.hide(e,s,t)},e.exports=n},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(4),u=r(10),c=r(20),p=r(251),l=r(34),f=r(2),h=r(28),d=r(11),y=n(d),m=r(51),g=n(m),v=r(65),_=(n(v),function(){function e(t,r,n,s){i(this,e),o.assert.argumentTypes(t,y.Renderer,r,g.ViewFactory,n,b,s,a.Map),this.render=null,this.proto=n,this.changeDetector=null,this.elementInjectors=null,this.rootElementInjectors=null,this.componentChildViews=null,this.viewContainers=a.ListWrapper.createFixedSize(this.proto.elementBinders.length),this.preBuiltObjects=null,this.context=null,this.locals=new u.Locals(null,a.MapWrapper.clone(s)),this.renderer=t,this.viewFactory=r,this.viewHydrator=null,this.imperativeHostViews=[]}return s(e,[{key:"init",value:function(e,t,r,n,i){o.assert.argumentTypes(e,u.ChangeDetector,t,a.List,r,a.List,n,a.List,i,a.List),this.changeDetector=e,this.elementInjectors=t,this.rootElementInjectors=r,this.preBuiltObjects=n,this.componentChildViews=i}},{key:"getOrCreateViewContainer",value:function(e){o.assert.argumentTypes(e,o.assert.type.number);var t=this.viewContainers[e];return f.isBlank(t)&&(t=new h.ViewContainer(this,this.proto.elementBinders[e].nestedProtoView,this.elementInjectors[e]),this.viewContainers[e]=t),t}},{key:"setLocal",value:function(e,t){if(o.assert.argumentTypes(e,o.assert.type.string,t,o.assert.type.any),!this.hydrated())throw new f.BaseException("Cannot set locals on dehydrated view.");if(a.MapWrapper.contains(this.proto.variableBindings,e)){var r=a.MapWrapper.get(this.proto.variableBindings,e);this.locals.set(r,t)}}},{key:"hydrated",value:function(){return f.isPresent(this.context)}},{key:"triggerEventHandlers",value:function(e,t,r){o.assert.argumentTypes(e,o.assert.type.string,t,o.assert.type.any,r,f["int"]);var n=a.MapWrapper.create();a.MapWrapper.set(n,"$event",t),this.dispatchEvent(r,e,n)}},{key:"notifyOnBinding",value:function(e,t){o.assert.argumentTypes(e,u.BindingRecord,t,o.assert.type.any),e.isElement()?this.renderer.setElementProperty(this.render,e.elementIndex,e.propertyName,t):this.renderer.setText(this.render,e.elementIndex,t)}},{key:"getDirectiveFor",value:function(e){o.assert.argumentTypes(e,u.DirectiveRecord);var t=this.elementInjectors[e.elementIndex];return t.getDirectiveAtIndex(e.directiveIndex)}},{key:"getDetectorFor",value:function(e){o.assert.argumentTypes(e,u.DirectiveRecord);var t=this.elementInjectors[e.elementIndex];return t.getChangeDetector()}},{key:"dispatchEvent",value:function(e,t,r){var n=this;o.assert.argumentTypes(e,o.assert.type.number,t,o.assert.type.string,r,o.assert.genericType(a.Map,o.assert.type.string,o.assert.type.any));var i=!0;if(this.hydrated()){var s=this.proto.elementBinders[e];if(f.isBlank(s.hostListeners))return o.assert.returnType(i,o.assert.type["boolean"]);var c=s.hostListeners[t];if(f.isBlank(c))return o.assert.returnType(i,o.assert.type["boolean"]);a.MapWrapper.forEach(c,function(t,s){var o;o=-1===s?n.context:n.elementInjectors[e].getDirectiveAtIndex(s);var a=t.eval(o,new u.Locals(n.locals,r));f.isPresent(a)&&(i=i&&a)})}return o.assert.returnType(i,o.assert.type["boolean"])}}]),e}());t.AppView=_,Object.defineProperty(_,"annotations",{get:function(){return[new f.IMPLEMENTS(u.ChangeDispatcher)]}}),Object.defineProperty(_,"parameters",{get:function(){return[[y.Renderer],[g.ViewFactory],[b],[a.Map]]}}),Object.defineProperty(_.prototype.init,"parameters",{get:function(){return[[u.ChangeDetector],[a.List],[a.List],[a.List],[a.List]]}}),Object.defineProperty(_.prototype.getOrCreateViewContainer,"parameters",{get:function(){return[[o.assert.type.number]]}}),Object.defineProperty(_.prototype.setLocal,"parameters",{get:function(){return[[o.assert.type.string],[]]}}),Object.defineProperty(_.prototype.triggerEventHandlers,"parameters",{get:function(){return[[o.assert.type.string],[],[f["int"]]]}}),Object.defineProperty(_.prototype.notifyOnBinding,"parameters",{get:function(){return[[u.BindingRecord],[o.assert.type.any]]}}),Object.defineProperty(_.prototype.getDirectiveFor,"parameters",{get:function(){return[[u.DirectiveRecord]]}}),Object.defineProperty(_.prototype.getDetectorFor,"parameters",{get:function(){return[[u.DirectiveRecord]]}}),Object.defineProperty(_.prototype.dispatchEvent,"parameters",{get:function(){return[[o.assert.type.number],[o.assert.type.string],[o.assert.genericType(a.Map,o.assert.type.string,o.assert.type.any)]]}});var b=function(){function e(t,r){i(this,e),o.assert.argumentTypes(t,y.ProtoViewRef,r,u.ProtoChangeDetector),this.render=t,this.elementBinders=[],this.variableBindings=a.MapWrapper.create(),this.protoLocals=a.MapWrapper.create(),this.protoChangeDetector=r,this.parentProtoView=null,this.textNodesWithBindingCount=0,this.bindings=[],this._directiveRecordsMap=a.MapWrapper.create(),this._variableBindings=null,this._directiveRecords=null}return s(e,[{key:"getVariableBindings",value:function(){var e=this;return f.isPresent(this._variableBindings)?this._variableBindings:(this._variableBindings=f.isPresent(this.parentProtoView)?a.ListWrapper.clone(this.parentProtoView.getVariableBindings()):[],a.MapWrapper.forEach(this.protoLocals,function(t,r){a.ListWrapper.push(e._variableBindings,r)}),this._variableBindings)}},{key:"getdirectiveRecords",value:function(){if(f.isPresent(this._directiveRecords))return this._directiveRecords;this._directiveRecords=[];for(var e=0;e<this.elementBinders.length;++e){var t=this.elementBinders[e].protoElementInjector;if(f.isPresent(t))for(var r=0;r<t.numberOfDirectives;++r)a.ListWrapper.push(this._directiveRecords,this._getDirectiveRecord(e,r))}return this._directiveRecords}},{key:"bindVariable",value:function(e,t){o.assert.argumentTypes(e,o.assert.type.string,t,o.assert.type.string),a.MapWrapper.set(this.variableBindings,e,t),a.MapWrapper.set(this.protoLocals,t,null)}},{key:"bindElement",value:function(e,t,r){var n=void 0===arguments[3]?null:arguments[3],i=void 0===arguments[4]?null:arguments[4];o.assert.argumentTypes(e,p.ElementBinder,t,f["int"],r,c.ProtoElementInjector,n,c.DirectiveBinding,i,c.DirectiveBinding);var s=new p.ElementBinder(this.elementBinders.length,e,t,r,n,i);return a.ListWrapper.push(this.elementBinders,s),o.assert.returnType(s,p.ElementBinder)}},{key:"bindTextNode",value:function(e){o.assert.argumentTypes(e,u.AST);var t=this.textNodesWithBindingCount++,r=u.BindingRecord.createForTextNode(e,t);a.ListWrapper.push(this.bindings,r)}},{key:"bindElementProperty",value:function(e,t){o.assert.argumentTypes(e,u.AST,t,o.assert.type.string);var r=this.elementBinders.length-1,n=u.BindingRecord.createForElement(e,r,t);a.ListWrapper.push(this.bindings,n)}},{key:"bindEvent",value:function(e){var t=void 0===arguments[1]?-1:arguments[1];o.assert.argumentTypes(e,o.assert.genericType(a.List,y.EventBinding),t,f["int"]);var r=this.elementBinders[this.elementBinders.length-1],n=r.hostListeners;f.isBlank(n)&&(n=a.StringMapWrapper.create(),r.hostListeners=n);for(var i=0;i<e.length;i++){var s=e[i],u=s.fullName,c=a.StringMapWrapper.get(n,u);f.isBlank(c)&&(c=a.MapWrapper.create(),a.StringMapWrapper.set(n,u,c)),a.MapWrapper.set(c,t,s.source)}}},{key:"bindDirectiveProperty",value:function(e,t,r,n){o.assert.argumentTypes(e,o.assert.type.number,t,u.AST,r,o.assert.type.string,n,l.SetterFn);var i=this.elementBinders.length-1,s=this._getDirectiveRecord(i,e),c=u.BindingRecord.createForDirective(t,r,n,s);a.ListWrapper.push(this.bindings,c)}},{key:"_getDirectiveRecord",value:function(e,t){o.assert.argumentTypes(e,o.assert.type.number,t,o.assert.type.number);var r=100*e+t,n=this.elementBinders[e].protoElementInjector;if(!a.MapWrapper.contains(this._directiveRecordsMap,r)){var i=n.getDirectiveBindingAtIndex(t),s=i.changeDetection;a.MapWrapper.set(this._directiveRecordsMap,r,new u.DirectiveRecord(e,t,i.callOnAllChangesDone,i.callOnChange,s))}return a.MapWrapper.get(this._directiveRecordsMap,r)}}]),e}();t.AppProtoView=b,Object.defineProperty(b,"parameters",{get:function(){return[[y.ProtoViewRef],[u.ProtoChangeDetector]]}}),Object.defineProperty(b.prototype.bindVariable,"parameters",{get:function(){return[[o.assert.type.string],[o.assert.type.string]]}}),Object.defineProperty(b.prototype.bindElement,"parameters",{get:function(){return[[p.ElementBinder],[f["int"]],[c.ProtoElementInjector],[c.DirectiveBinding],[c.DirectiveBinding]]}}),Object.defineProperty(b.prototype.bindTextNode,"parameters",{get:function(){return[[u.AST]]}}),Object.defineProperty(b.prototype.bindElementProperty,"parameters",{get:function(){return[[u.AST],[o.assert.type.string]]}}),Object.defineProperty(b.prototype.bindEvent,"parameters",{get:function(){return[[o.assert.genericType(a.List,y.EventBinding)],[f["int"]]]}}),Object.defineProperty(b.prototype.bindDirectiveProperty,"parameters",{get:function(){return[[o.assert.type.number],[u.AST],[o.assert.type.string],[l.SetterFn]]}}),Object.defineProperty(b.prototype._getDirectiveRecord,"parameters",{get:function(){return[[o.assert.type.number],[o.assert.type.number]]}})},function(e,t,r){"use strict";function n(e,t){u.hide(e,h,t),d in[]&&u.hide(e,d,t)}function i(e,t,r,i){var s=e.prototype,o=s[h]||s[d]||i&&s[i]||r;if(u.FW&&n(s,o),o!==r){var a=u.getProto(o.call(new e));p.set(a,t+" Iterator",!0),u.FW&&u.has(s,d)&&n(a,u.that)}return y[t]=o,y[t+" Iterator"]=u.that,o}function s(e){var t=u.g.Symbol,r=e[t&&t.iterator||d],n=r||e[h]||y[p.classof(e)];return f(n.call(e))}function o(e){var t=e["return"];void 0!==t&&f(t.call(e))}function a(e,t,r,n){try{return n?t(f(r)[0],r[1]):t(r)}catch(i){throw o(e),i}}var u=r(5),c=r(17),p=r(14),l=r(6),f=r(13).obj,h=r(19)("iterator"),d="@@iterator",y={},m={},g="keys"in[]&&!("next"in[].keys());n(m,u.that);var v=e.exports={BUGGY:g,Iterators:y,prototype:m,step:function(e,t){return{value:t,done:!!e}},stepCall:a,close:o,is:function(e){var t=Object(e),r=u.g.Symbol,n=r&&r.iterator||d;return n in t||h in t||u.has(y,p.classof(t))},get:s,set:n,create:function(e,t,r,n){e.prototype=u.create(n||v.prototype,{next:u.desc(1,r)}),p.set(e,t+" Iterator")},define:i,std:function(e,t,r,n,s,o,a){function c(e){return function(){return new r(this,e)}}v.create(r,t,n);var p,f,h=c("key+value"),d=c("value"),y=e.prototype;if("value"==s?d=i(e,t,d,"values"):h=i(e,t,h,"entries"),s&&(p={entries:h,keys:o?d:c("key"),values:d},l(l.P+l.F*g,t,p),a))for(f in p)f in y||u.hide(y,f,p[f])},forOf:function(e,t,r,n){for(var i,u=s(e),p=c(r,n,t?2:1);!(i=u.next()).done;)if(a(u,p,i.value,t)===!1)return o(u)}}},function(e,t,r){var n=r(13).fn;e.exports=function(e,t,r){if(n(e),~r&&void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){function n(e){return"Symbol("+e+")_"+(++i+Math.random()).toString(36)}var i=0;n.safe=r(5).g.Symbol||n,e.exports=n},function(e,t,r){var n=r(5).g,i={};e.exports=function(e){return i[e]||(i[e]=n.Symbol&&n.Symbol[e]||r(18).safe("Symbol."+e))}},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function N(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:N(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u,c=r(1),p=r(2),l=r(9),f=r(265),h=r(4),d=r(7),y=r(62),m=r(92),g=r(15),v=n(g),_=r(28),b=r(50),w=r(12),T=r(10),k=r(253),L=r(22),M=10,P=f.Math.pow(2,30)-1,O=new Object,D=function(){function e(t,r,n,i){o(this,e),this.elementInjector=t,this.hostView=r,this.boundElementIndex=n,this.injector=i}return a(e,[{key:"viewContainer",get:function(){return this.hostView.getOrCreateViewContainer(this.boundElementIndex)}}]),e}();t.ElementRef=D;var j=function(){function e(){o(this,e),this.viewId=d.Key.get(v.AppView).id,this.ngElementId=d.Key.get(b.NgElement).id,this.viewContainerId=d.Key.get(_.ViewContainer).id,this.changeDetectorRefId=d.Key.get(T.ChangeDetectorRef).id,this.elementRefId=d.Key.get(D).id}return a(e,null,[{key:"instance",value:function(){return p.isBlank(u)&&(u=new e),u}}]),e}(),C=function(){function e(t){o(this,e),c.assert.argumentTypes(t,e),this._head=null,this._tail=null,this._next=null,p.isPresent(t)&&t.addChild(this)}return a(e,[{key:"_assertConsistency",value:function(){this._assertHeadBeforeTail(),this._assertTailReachable(),this._assertPresentInParentList()}},{key:"_assertHeadBeforeTail",value:function(){if(p.isBlank(this._tail)&&p.isPresent(this._head))throw new p.BaseException("null tail but non-null head")}},{key:"_assertTailReachable",value:function(){if(!p.isBlank(this._tail)){if(p.isPresent(this._tail._next))throw new p.BaseException("node after tail");for(var e=this._head;p.isPresent(e)&&e!=this._tail;)e=e._next;if(p.isBlank(e)&&p.isPresent(this._tail))throw new p.BaseException("tail not reachable.")}}},{key:"_assertPresentInParentList",value:function(){var e=this._parent;if(!p.isBlank(e)){for(var t=e._head;p.isPresent(t)&&t!=this;)t=t._next;if(p.isBlank(t))throw new p.BaseException("node not reachable through parent.")}}},{key:"addChild",value:function(t){c.assert.argumentTypes(t,e),p.isPresent(this._tail)?(this._tail._next=t,this._tail=t):this._tail=this._head=t,t._next=null,t._parent=this,this._assertConsistency()}},{key:"addChildAfter",value:function(t,r){if(c.assert.argumentTypes(t,e,r,e),this._assertConsistency(),p.isBlank(r)){var n=this._head;this._head=t,t._next=n,p.isBlank(this._tail)&&(this._tail=t)}else{if(p.isBlank(r._next))return void this.addChild(t);r._assertPresentInParentList(),t._next=r._next,r._next=t}t._parent=this,this._assertConsistency()}},{key:"remove",value:function(){if(this._assertConsistency(),!p.isBlank(this.parent)){var e=this._next,t=this._findPrev();p.isBlank(t)?this.parent._head=this._next:t._next=this._next,p.isBlank(e)&&(this._parent._tail=t),this._parent._assertConsistency(),this._parent=null,this._next=null,this._assertConsistency()}}},{key:"_findPrev",value:function(){var e=this.parent._head;if(e==this)return null;for(;e._next!==this;)e=e._next;return e}},{key:"parent",get:function(){return this._parent}},{key:"children",get:function(){for(var e=[],t=this._head;null!=t;)h.ListWrapper.push(e,t),t=t._next;return e}}]),e}();t.TreeNode=C,Object.defineProperty(C,"parameters",{get:function(){return[[C]]}}),Object.defineProperty(C.prototype.addChild,"parameters",{get:function(){return[[C]]}}),Object.defineProperty(C.prototype.addChildAfter,"parameters",{get:function(){return[[C],[C]]}});var E=function(e){function t(e,r,n,s,a,u,l,f,y){o(this,t),c.assert.argumentTypes(e,d.Key,r,c.assert.type["boolean"],n,c.assert.type["boolean"],s,c.assert.type["boolean"],a,h.List,u,p["int"],l,c.assert.type.string,f,c.assert.type.string,y,c.assert.type.any),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r,n,s,a),this.depth=u,this.propSetterName=l,this.attributeName=f,this.queryDirective=y,this._verify()}return s(t,e),a(t,[{key:"_verify",value:function(){var e=0;if(p.isPresent(this.propSetterName)&&e++,p.isPresent(this.queryDirective)&&e++,p.isPresent(this.attributeName)&&e++,e>1)throw new p.BaseException("A directive injectable can contain only one of the following @PropertySetter, @Attribute or @Query.")}}],[{key:"createFrom",value:function(e){return c.assert.argumentTypes(e,d.Dependency),c.assert.returnType(new t(e.key,e.asPromise,e.lazy,e.optional,e.properties,t._depth(e.properties),t._propSetterName(e.properties),t._attributeName(e.properties),t._query(e.properties)),d.Dependency)}},{key:"_depth",value:function(e){return 0==e.length?c.assert.returnType(0,p["int"]):h.ListWrapper.any(e,function(e){return e instanceof y.Parent})?c.assert.returnType(1,p["int"]):h.ListWrapper.any(e,function(e){return e instanceof y.Ancestor})?c.assert.returnType(P,p["int"]):c.assert.returnType(0,p["int"])}},{key:"_propSetterName",value:function(e){var t=h.ListWrapper.find(e,function(e){return e instanceof m.PropertySetter});return c.assert.returnType(p.isPresent(t)?t.propName:null,c.assert.type.string)}},{key:"_attributeName",value:function(e){var t=h.ListWrapper.find(e,function(e){return e instanceof m.Attribute});return c.assert.returnType(p.isPresent(t)?t.attributeName:null,c.assert.type.string)}},{key:"_query",value:function(e){var t=h.ListWrapper.find(e,function(e){return e instanceof m.Query});return p.isPresent(t)?t.directive:null}}]),t}(d.Dependency);t.DirectiveDependency=E,Object.defineProperty(E,"parameters",{get:function(){return[[d.Key],[c.assert.type["boolean"]],[c.assert.type["boolean"]],[c.assert.type["boolean"]],[h.List],[p["int"]],[c.assert.type.string],[c.assert.type.string],[]]}}),Object.defineProperty(E.createFrom,"parameters",{get:function(){return[[d.Dependency]]}});var S=function(e){function t(e,r,n,s,a){o(this,t),c.assert.argumentTypes(e,d.Key,r,Function,n,h.List,s,c.assert.type["boolean"],a,w.Directive),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r,n,s),this.callOnDestroy=p.isPresent(a)&&a.hasLifecycleHook(w.onDestroy),this.callOnChange=p.isPresent(a)&&a.hasLifecycleHook(w.onChange),this.callOnAllChangesDone=p.isPresent(a)&&a.hasLifecycleHook(w.onAllChangesDone),this.annotation=a,a instanceof w.Component&&p.isPresent(a.injectables)&&(this.resolvedInjectables=d.Injector.resolve(a.injectables))}return s(t,e),a(t,[{key:"eventEmitters",get:function(){return c.assert.returnType(p.isPresent(this.annotation)&&p.isPresent(this.annotation.events)?this.annotation.events:[],c.assert.genericType(h.List,c.assert.type.string))}},{key:"changeDetection",get:function(){if(this.annotation instanceof w.Component){var e=c.assert.type(this.annotation,w.Component);return e.changeDetection}return null}}],[{key:"createFromBinding",value:function(e,r){c.assert.argumentTypes(e,d.Binding,r,w.Directive);var n=e.resolve(),i=h.ListWrapper.map(n.dependencies,E.createFrom);return c.assert.returnType(new t(n.key,n.factory,i,n.providedAsPromise,r),t)}},{key:"createFromType",value:function(e,r){c.assert.argumentTypes(e,p.Type,r,w.Directive);var n=new d.Binding(e,{toClass:e});return c.assert.returnType(t.createFromBinding(n,r),t)}}]),t}(d.ResolvedBinding);t.DirectiveBinding=S,Object.defineProperty(S,"parameters",{get:function(){return[[d.Key],[Function],[h.List],[c.assert.type["boolean"]],[w.Directive]]}}),Object.defineProperty(S.createFromBinding,"parameters",{get:function(){return[[d.Binding],[w.Directive]]}}),Object.defineProperty(S.createFromType,"parameters",{get:function(){return[[p.Type],[w.Directive]]}});var x=function V(e,t,r){o(this,V),c.assert.argumentTypes(e,c.assert.type.any,t,b.NgElement,r,T.ChangeDetector),this.view=e,this.element=t,this.changeDetector=r};t.PreBuiltObjects=x,Object.defineProperty(x,"parameters",{get:function(){return[[],[b.NgElement],[T.ChangeDetector]]}});var Y=function(){function e(t,r){o(this,e),c.assert.argumentTypes(t,c.assert.type.string,r,Function),this.eventName=t,this.getter=r}return a(e,[{key:"subscribe",value:function(e,t,r){var n=this,i=this.getter(r);return l.ObservableWrapper.subscribe(i,function(r){return e.triggerEventHandlers(n.eventName,r,t)})}}]),e}();Object.defineProperty(Y,"parameters",{
get:function(){return[[c.assert.type.string],[Function]]}}),Object.defineProperty(Y.prototype.subscribe,"parameters",{get:function(){return[[v.AppView],[c.assert.type.number],[Object]]}});var A=function(){function e(t,r,n){var i=void 0===arguments[3]?!1:arguments[3],s=void 0===arguments[4]?0:arguments[4];o(this,e),c.assert.argumentTypes(t,e,r,p["int"],n,h.List,i,c.assert.type["boolean"],s,c.assert.type.number),this.parent=t,this.index=r,this.distanceToParent=s,this.exportComponent=!1,this.exportElement=!1,this._binding0IsComponent=i,this._binding0=null,this._keyId0=null,this._binding1=null,this._keyId1=null,this._binding2=null,this._keyId2=null,this._binding3=null,this._keyId3=null,this._binding4=null,this._keyId4=null,this._binding5=null,this._keyId5=null,this._binding6=null,this._keyId6=null,this._binding7=null,this._keyId7=null,this._binding8=null,this._keyId8=null,this._binding9=null,this._keyId9=null,this.numberOfDirectives=n.length;var a=n.length;if(this.eventEmitterAccessors=h.ListWrapper.createFixedSize(a),a>0&&(this._binding0=this._createBinding(n[0]),this._keyId0=this._binding0.key.id,this.eventEmitterAccessors[0]=this._createEventEmitterAccessors(this._binding0)),a>1&&(this._binding1=this._createBinding(n[1]),this._keyId1=this._binding1.key.id,this.eventEmitterAccessors[1]=this._createEventEmitterAccessors(this._binding1)),a>2&&(this._binding2=this._createBinding(n[2]),this._keyId2=this._binding2.key.id,this.eventEmitterAccessors[2]=this._createEventEmitterAccessors(this._binding2)),a>3&&(this._binding3=this._createBinding(n[3]),this._keyId3=this._binding3.key.id,this.eventEmitterAccessors[3]=this._createEventEmitterAccessors(this._binding3)),a>4&&(this._binding4=this._createBinding(n[4]),this._keyId4=this._binding4.key.id,this.eventEmitterAccessors[4]=this._createEventEmitterAccessors(this._binding4)),a>5&&(this._binding5=this._createBinding(n[5]),this._keyId5=this._binding5.key.id,this.eventEmitterAccessors[5]=this._createEventEmitterAccessors(this._binding5)),a>6&&(this._binding6=this._createBinding(n[6]),this._keyId6=this._binding6.key.id,this.eventEmitterAccessors[6]=this._createEventEmitterAccessors(this._binding6)),a>7&&(this._binding7=this._createBinding(n[7]),this._keyId7=this._binding7.key.id,this.eventEmitterAccessors[7]=this._createEventEmitterAccessors(this._binding7)),a>8&&(this._binding8=this._createBinding(n[8]),this._keyId8=this._binding8.key.id,this.eventEmitterAccessors[8]=this._createEventEmitterAccessors(this._binding8)),a>9&&(this._binding9=this._createBinding(n[9]),this._keyId9=this._binding9.key.id,this.eventEmitterAccessors[9]=this._createEventEmitterAccessors(this._binding9)),a>10)throw"Maximum number of directives per element has been reached."}return a(e,[{key:"_createEventEmitterAccessors",value:function(e){return h.ListWrapper.map(e.eventEmitters,function(e){return new Y(e,L.reflector.getter(e))})}},{key:"instantiate",value:function(e){return c.assert.argumentTypes(e,R),c.assert.returnType(new R(this,e),R)}},{key:"directParent",value:function(){return c.assert.returnType(this.distanceToParent<2?this.parent:null,e)}},{key:"_createBinding",value:function(e){if(e instanceof S)return e;var t=d.bind(e).toClass(e);return S.createFromBinding(t,null)}},{key:"hasBindings",get:function(){return c.assert.returnType(p.isPresent(this._binding0),c.assert.type["boolean"])}},{key:"getDirectiveBindingAtIndex",value:function(e){if(c.assert.argumentTypes(e,p["int"]),0==e)return this._binding0;if(1==e)return this._binding1;if(2==e)return this._binding2;if(3==e)return this._binding3;if(4==e)return this._binding4;if(5==e)return this._binding5;if(6==e)return this._binding6;if(7==e)return this._binding7;if(8==e)return this._binding8;if(9==e)return this._binding9;throw new I(e)}}]),e}();t.ProtoElementInjector=A,Object.defineProperty(A,"parameters",{get:function(){return[[A],[p["int"]],[h.List],[c.assert.type["boolean"]],[c.assert.type.number]]}}),Object.defineProperty(A.prototype._createEventEmitterAccessors,"parameters",{get:function(){return[[S]]}}),Object.defineProperty(A.prototype.instantiate,"parameters",{get:function(){return[[R]]}}),Object.defineProperty(A.prototype.getDirectiveBindingAtIndex,"parameters",{get:function(){return[[p["int"]]]}});var R=function(e){function t(e,r){o(this,t),c.assert.argumentTypes(e,A,r,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,r),this._proto=e,this._preBuiltObjects=null,this._lightDomAppInjector=null,this._shadowDomAppInjector=null,this._obj0=null,this._obj1=null,this._obj2=null,this._obj3=null,this._obj4=null,this._obj5=null,this._obj6=null,this._obj7=null,this._obj8=null,this._obj9=null,this._constructionCounter=0,this._inheritQueries(r),this._buildQueries()}return s(t,e),a(t,[{key:"clearDirectives",value:function(){this._host=null,this._preBuiltObjects=null,this._lightDomAppInjector=null,this._shadowDomAppInjector=null;var e=this._proto;p.isPresent(e._binding0)&&e._binding0.callOnDestroy&&this._obj0.onDestroy(),p.isPresent(e._binding1)&&e._binding1.callOnDestroy&&this._obj1.onDestroy(),p.isPresent(e._binding2)&&e._binding2.callOnDestroy&&this._obj2.onDestroy(),p.isPresent(e._binding3)&&e._binding3.callOnDestroy&&this._obj3.onDestroy(),p.isPresent(e._binding4)&&e._binding4.callOnDestroy&&this._obj4.onDestroy(),p.isPresent(e._binding5)&&e._binding5.callOnDestroy&&this._obj5.onDestroy(),p.isPresent(e._binding6)&&e._binding6.callOnDestroy&&this._obj6.onDestroy(),p.isPresent(e._binding7)&&e._binding7.callOnDestroy&&this._obj7.onDestroy(),p.isPresent(e._binding8)&&e._binding8.callOnDestroy&&this._obj8.onDestroy(),p.isPresent(e._binding9)&&e._binding9.callOnDestroy&&this._obj9.onDestroy(),p.isPresent(this._dynamicallyCreatedComponentBinding)&&this._dynamicallyCreatedComponentBinding.callOnDestroy&&this._dynamicallyCreatedComponent.onDestroy(),this._obj0=null,this._obj1=null,this._obj2=null,this._obj3=null,this._obj4=null,this._obj5=null,this._obj6=null,this._obj7=null,this._obj8=null,this._obj9=null,this._dynamicallyCreatedComponent=null,this._dynamicallyCreatedComponentBinding=null,this._constructionCounter=0}},{key:"instantiateDirectives",value:function(e,r,n,i){c.assert.argumentTypes(e,d.Injector,r,t,n,d.Injector,i,x),this._host=r,this._checkShadowDomAppInjector(n),this._preBuiltObjects=i,this._lightDomAppInjector=e,this._shadowDomAppInjector=n;var s=this._proto;p.isPresent(s._keyId0)&&this._getDirectiveByKeyId(s._keyId0),p.isPresent(s._keyId1)&&this._getDirectiveByKeyId(s._keyId1),p.isPresent(s._keyId2)&&this._getDirectiveByKeyId(s._keyId2),p.isPresent(s._keyId3)&&this._getDirectiveByKeyId(s._keyId3),p.isPresent(s._keyId4)&&this._getDirectiveByKeyId(s._keyId4),p.isPresent(s._keyId5)&&this._getDirectiveByKeyId(s._keyId5),p.isPresent(s._keyId6)&&this._getDirectiveByKeyId(s._keyId6),p.isPresent(s._keyId7)&&this._getDirectiveByKeyId(s._keyId7),p.isPresent(s._keyId8)&&this._getDirectiveByKeyId(s._keyId8),p.isPresent(s._keyId9)&&this._getDirectiveByKeyId(s._keyId9)}},{key:"dynamicallyCreateComponent",value:function(e,t){return c.assert.argumentTypes(e,c.assert.type.any,t,d.Injector),this._shadowDomAppInjector=t,this._dynamicallyCreatedComponentBinding=e,this._dynamicallyCreatedComponent=this._new(this._dynamicallyCreatedComponentBinding),this._dynamicallyCreatedComponent}},{key:"_checkShadowDomAppInjector",value:function(e){if(c.assert.argumentTypes(e,d.Injector),this._proto._binding0IsComponent&&p.isBlank(e))throw new p.BaseException("A shadowDomAppInjector is required as this ElementInjector contains a component");if(!this._proto._binding0IsComponent&&p.isPresent(e))throw new p.BaseException("No shadowDomAppInjector allowed as there is not component stored in this ElementInjector")}},{key:"get",value:function(e){return this._isDynamicallyLoadedComponent(e)?this._dynamicallyCreatedComponent:this._getByKey(d.Key.get(e),0,!1,null)}},{key:"_isDynamicallyLoadedComponent",value:function(e){return p.isPresent(this._dynamicallyCreatedComponentBinding)&&d.Key.get(e)===this._dynamicallyCreatedComponentBinding.key}},{key:"hasDirective",value:function(e){return c.assert.argumentTypes(e,p.Type),c.assert.returnType(this._getDirectiveByKeyId(d.Key.get(e).id)!==O,c.assert.type["boolean"])}},{key:"getEventEmitterAccessors",value:function(){return this._proto.eventEmitterAccessors}},{key:"getNgElement",value:function(){return this._preBuiltObjects.element}},{key:"getChangeDetector",value:function(){return this._preBuiltObjects.changeDetector}},{key:"getComponent",value:function(){if(this._proto._binding0IsComponent)return this._obj0;throw new p.BaseException("There is no component stored in this ElementInjector")}},{key:"getElementRef",value:function(){return new D(this,this._preBuiltObjects.view,this._proto.index,this._lightDomAppInjector)}},{key:"getDynamicallyLoadedComponent",value:function(){return this._dynamicallyCreatedComponent}},{key:"directParent",value:function(){return c.assert.returnType(this._proto.distanceToParent<2?this.parent:null,t)}},{key:"_isComponentKey",value:function(e){return c.assert.argumentTypes(e,d.Key),this._proto._binding0IsComponent&&e.id===this._proto._keyId0}},{key:"_isDynamicallyLoadedComponentKey",value:function(e){return c.assert.argumentTypes(e,d.Key),p.isPresent(this._dynamicallyCreatedComponentBinding)&&e.id===this._dynamicallyCreatedComponentBinding.key.id}},{key:"_new",value:function(e){if(c.assert.argumentTypes(e,d.ResolvedBinding),this._constructionCounter++>M)throw new d.CyclicDependencyError(e.key);var t,r,n,i,s,o,a,u,p,l,f=e.factory,h=e.dependencies,y=h.length;try{t=y>0?this._getByDependency(h[0],e.key):null,r=y>1?this._getByDependency(h[1],e.key):null,n=y>2?this._getByDependency(h[2],e.key):null,i=y>3?this._getByDependency(h[3],e.key):null,s=y>4?this._getByDependency(h[4],e.key):null,o=y>5?this._getByDependency(h[5],e.key):null,a=y>6?this._getByDependency(h[6],e.key):null,u=y>7?this._getByDependency(h[7],e.key):null,p=y>8?this._getByDependency(h[8],e.key):null,l=y>9?this._getByDependency(h[9],e.key):null}catch(m){throw m instanceof d.AbstractBindingError&&m.addKey(e.key),m}var g;switch(y){case 0:g=f();break;case 1:g=f(t);break;case 2:g=f(t,r);break;case 3:g=f(t,r,n);break;case 4:g=f(t,r,n,i);break;case 5:g=f(t,r,n,i,s);break;case 6:g=f(t,r,n,i,s,o);break;case 7:g=f(t,r,n,i,s,o,a);break;case 8:g=f(t,r,n,i,s,o,a,u);break;case 9:g=f(t,r,n,i,s,o,a,u,p);break;case 10:g=f(t,r,n,i,s,o,a,u,p,l);break;default:throw"Directive "+e.key.token+" can only have up to 10 dependencies."}return this._addToQueries(g,e.key.token),g}},{key:"_getByDependency",value:function(e,t){return c.assert.argumentTypes(e,E,t,d.Key),p.isPresent(e.propSetterName)?this._buildPropSetter(e):p.isPresent(e.attributeName)?this._buildAttribute(e):p.isPresent(e.queryDirective)?this._findQuery(e.queryDirective).list:e.key.id===j.instance().elementRefId?this.getElementRef():this._getByKey(e.key,e.depth,e.optional,t)}},{key:"_buildPropSetter",value:function(e){var t=this._getPreBuiltObjectByKeyId(j.instance().viewId),r=t.renderer,n=this._proto.index;return function(i){r.setElementProperty(t.render,n,e.propSetterName,i)}}},{key:"_buildAttribute",value:function(e){var t=this._proto.attributes;return p.isPresent(t)&&h.MapWrapper.contains(t,e.attributeName)?c.assert.returnType(h.MapWrapper.get(t,e.attributeName),c.assert.type.string):c.assert.returnType(null,c.assert.type.string)}},{key:"_buildQueriesForDeps",value:function(e){c.assert.argumentTypes(e,c.assert.genericType(h.List,E));for(var t=0;t<e.length;t++){var r=e[t];p.isPresent(r.queryDirective)&&this._createQueryRef(r.queryDirective)}}},{key:"_createQueryRef",value:function(e){var t=new k.QueryList;if(p.isBlank(this._query0))this._query0=new F(e,t,this);else if(p.isBlank(this._query1))this._query1=new F(e,t,this);else{if(!p.isBlank(this._query2))throw new W;this._query2=new F(e,t,this)}}},{key:"_addToQueries",value:function(e,t){p.isPresent(this._query0)&&this._query0.directive===t&&this._query0.list.add(e),p.isPresent(this._query1)&&this._query1.directive===t&&this._query1.list.add(e),p.isPresent(this._query2)&&this._query2.directive===t&&this._query2.list.add(e)}},{key:"_inheritQueries",value:function(e){c.assert.argumentTypes(e,t),p.isBlank(e)||(p.isPresent(e._query0)&&(this._query0=e._query0),p.isPresent(e._query1)&&(this._query1=e._query1),p.isPresent(e._query2)&&(this._query2=e._query2))}},{key:"_buildQueries",value:function(){if(!p.isBlank(this._proto)){var e=this._proto;p.isPresent(e._binding0)&&this._buildQueriesForDeps(e._binding0.dependencies),p.isPresent(e._binding1)&&this._buildQueriesForDeps(e._binding1.dependencies),p.isPresent(e._binding2)&&this._buildQueriesForDeps(e._binding2.dependencies),p.isPresent(e._binding3)&&this._buildQueriesForDeps(e._binding3.dependencies),p.isPresent(e._binding4)&&this._buildQueriesForDeps(e._binding4.dependencies),p.isPresent(e._binding5)&&this._buildQueriesForDeps(e._binding5.dependencies),p.isPresent(e._binding6)&&this._buildQueriesForDeps(e._binding6.dependencies),p.isPresent(e._binding7)&&this._buildQueriesForDeps(e._binding7.dependencies),p.isPresent(e._binding8)&&this._buildQueriesForDeps(e._binding8.dependencies),p.isPresent(e._binding9)&&this._buildQueriesForDeps(e._binding9.dependencies)}}},{key:"_findQuery",value:function(e){if(p.isPresent(this._query0)&&this._query0.directive===e)return this._query0;if(p.isPresent(this._query1)&&this._query1.directive===e)return this._query1;if(p.isPresent(this._query2)&&this._query2.directive===e)return this._query2;throw new p.BaseException("Cannot find query for directive "+e+".")}},{key:"link",value:function(e){c.assert.argumentTypes(e,t),e.addChild(this),this._addParentQueries()}},{key:"linkAfter",value:function(e,r){c.assert.argumentTypes(e,t,r,t),e.addChildAfter(this,r),this._addParentQueries()}},{key:"_addParentQueries",value:function(){p.isPresent(this.parent._query0)&&(this._addQueryToTree(this.parent._query0),this.parent._query0.update()),p.isPresent(this.parent._query1)&&(this._addQueryToTree(this.parent._query1),this.parent._query1.update()),p.isPresent(this.parent._query2)&&(this._addQueryToTree(this.parent._query2),this.parent._query2.update())}},{key:"unlink",value:function(){var e=[];p.isPresent(this.parent._query0)&&(this._pruneQueryFromTree(this.parent._query0),h.ListWrapper.push(e,this.parent._query0)),p.isPresent(this.parent._query1)&&(this._pruneQueryFromTree(this.parent._query1),h.ListWrapper.push(e,this.parent._query1)),p.isPresent(this.parent._query2)&&(this._pruneQueryFromTree(this.parent._query2),h.ListWrapper.push(e,this.parent._query2)),this.remove(),h.ListWrapper.forEach(e,function(e){return e.update()})}},{key:"_pruneQueryFromTree",value:function(e){c.assert.argumentTypes(e,F),this._removeQueryRef(e);for(var t=this._head;p.isPresent(t);)t._pruneQueryFromTree(e),t=t._next}},{key:"_addQueryToTree",value:function(e){c.assert.argumentTypes(e,F),this._assignQueryRef(e);for(var t=this._head;p.isPresent(t);)t._addQueryToTree(e),t=t._next}},{key:"_assignQueryRef",value:function(e){if(c.assert.argumentTypes(e,F),p.isBlank(this._query0))return void(this._query0=e);if(p.isBlank(this._query1))return void(this._query1=e);if(p.isBlank(this._query2))return void(this._query2=e);throw new W}},{key:"_removeQueryRef",value:function(e){c.assert.argumentTypes(e,F),this._query0==e&&(this._query0=null),this._query1==e&&(this._query1=null),this._query2==e&&(this._query2=null)}},{key:"_getByKey",value:function(e,t,r,n){c.assert.argumentTypes(e,d.Key,t,c.assert.type.number,r,c.assert.type["boolean"],n,d.Key);var i=this;for(this._shouldIncludeSelf(t)||(t-=i._proto.distanceToParent,i=i._parent);null!=i&&t>=0;){var s=i._getPreBuiltObjectByKeyId(e.id);if(s!==O)return s;var o=i._getDirectiveByKeyId(e.id);if(o!==O)return o;t-=i._proto.distanceToParent,i=i._parent}return p.isPresent(this._host)&&this._host._isComponentKey(e)?this._host.getComponent():p.isPresent(this._host)&&this._host._isDynamicallyLoadedComponentKey(e)?this._host.getDynamicallyLoadedComponent():r?this._appInjector(n).getOptional(e):this._appInjector(n).get(e)}},{key:"_appInjector",value:function(e){return c.assert.argumentTypes(e,d.Key),p.isPresent(e)&&(this._isComponentKey(e)||this._isDynamicallyLoadedComponentKey(e))?this._shadowDomAppInjector:this._lightDomAppInjector}},{key:"_shouldIncludeSelf",value:function(e){return c.assert.argumentTypes(e,p["int"]),0===e}},{key:"_getPreBuiltObjectByKeyId",value:function(e){c.assert.argumentTypes(e,p["int"]);var t=j.instance();return e===t.viewId?this._preBuiltObjects.view:e===t.ngElementId?this._preBuiltObjects.element:e===t.viewContainerId?this._preBuiltObjects.view.getOrCreateViewContainer(this._proto.index):e===t.changeDetectorRefId?this._preBuiltObjects.changeDetector.ref:O}},{key:"_getDirectiveByKeyId",value:function(e){c.assert.argumentTypes(e,p["int"]);var t=this._proto;return t._keyId0===e?(p.isBlank(this._obj0)&&(this._obj0=this._new(t._binding0)),this._obj0):t._keyId1===e?(p.isBlank(this._obj1)&&(this._obj1=this._new(t._binding1)),this._obj1):t._keyId2===e?(p.isBlank(this._obj2)&&(this._obj2=this._new(t._binding2)),this._obj2):t._keyId3===e?(p.isBlank(this._obj3)&&(this._obj3=this._new(t._binding3)),this._obj3):t._keyId4===e?(p.isBlank(this._obj4)&&(this._obj4=this._new(t._binding4)),this._obj4):t._keyId5===e?(p.isBlank(this._obj5)&&(this._obj5=this._new(t._binding5)),this._obj5):t._keyId6===e?(p.isBlank(this._obj6)&&(this._obj6=this._new(t._binding6)),this._obj6):t._keyId7===e?(p.isBlank(this._obj7)&&(this._obj7=this._new(t._binding7)),this._obj7):t._keyId8===e?(p.isBlank(this._obj8)&&(this._obj8=this._new(t._binding8)),this._obj8):t._keyId9===e?(p.isBlank(this._obj9)&&(this._obj9=this._new(t._binding9)),this._obj9):O}},{key:"getDirectiveAtIndex",value:function(e){if(c.assert.argumentTypes(e,p["int"]),0==e)return this._obj0;if(1==e)return this._obj1;if(2==e)return this._obj2;if(3==e)return this._obj3;if(4==e)return this._obj4;if(5==e)return this._obj5;if(6==e)return this._obj6;if(7==e)return this._obj7;if(8==e)return this._obj8;if(9==e)return this._obj9;throw new I(e)}},{key:"hasInstances",value:function(){return this._constructionCounter>0}},{key:"isExportingComponent",value:function(){return this._proto.exportComponent}},{key:"isExportingElement",value:function(){return this._proto.exportElement}},{key:"getExportImplicitName",value:function(){return this._proto.exportImplicitName}},{key:"getLightDomAppInjector",value:function(){return this._lightDomAppInjector}},{key:"getHost",value:function(){return this._host}},{key:"getBoundElementIndex",value:function(){return this._proto.index}}]),t}(C);t.ElementInjector=R,Object.defineProperty(R,"parameters",{get:function(){return[[A],[R]]}}),Object.defineProperty(R.prototype.instantiateDirectives,"parameters",{get:function(){return[[d.Injector],[R],[d.Injector],[x]]}}),Object.defineProperty(R.prototype.dynamicallyCreateComponent,"parameters",{get:function(){return[[],[d.Injector]]}}),Object.defineProperty(R.prototype._checkShadowDomAppInjector,"parameters",{get:function(){return[[d.Injector]]}}),Object.defineProperty(R.prototype.hasDirective,"parameters",{get:function(){return[[p.Type]]}}),Object.defineProperty(R.prototype._isComponentKey,"parameters",{get:function(){return[[d.Key]]}}),Object.defineProperty(R.prototype._isDynamicallyLoadedComponentKey,"parameters",{get:function(){return[[d.Key]]}}),Object.defineProperty(R.prototype._new,"parameters",{get:function(){return[[d.ResolvedBinding]]}}),Object.defineProperty(R.prototype._getByDependency,"parameters",{get:function(){return[[E],[d.Key]]}}),Object.defineProperty(R.prototype._buildQueriesForDeps,"parameters",{get:function(){return[[c.assert.genericType(h.List,E)]]}}),Object.defineProperty(R.prototype._inheritQueries,"parameters",{get:function(){return[[R]]}}),Object.defineProperty(R.prototype.link,"parameters",{get:function(){return[[R]]}}),Object.defineProperty(R.prototype.linkAfter,"parameters",{get:function(){return[[R],[R]]}}),Object.defineProperty(R.prototype._pruneQueryFromTree,"parameters",{get:function(){return[[F]]}}),Object.defineProperty(R.prototype._addQueryToTree,"parameters",{get:function(){return[[F]]}}),Object.defineProperty(R.prototype._assignQueryRef,"parameters",{get:function(){return[[F]]}}),Object.defineProperty(R.prototype._removeQueryRef,"parameters",{get:function(){return[[F]]}}),Object.defineProperty(R.prototype._getByKey,"parameters",{get:function(){return[[d.Key],[c.assert.type.number],[c.assert.type["boolean"]],[d.Key]]}}),Object.defineProperty(R.prototype._appInjector,"parameters",{get:function(){return[[d.Key]]}}),Object.defineProperty(R.prototype._shouldIncludeSelf,"parameters",{get:function(){return[[p["int"]]]}}),Object.defineProperty(R.prototype._getPreBuiltObjectByKeyId,"parameters",{get:function(){return[[p["int"]]]}}),Object.defineProperty(R.prototype._getDirectiveByKeyId,"parameters",{get:function(){return[[p["int"]]]}}),Object.defineProperty(R.prototype.getDirectiveAtIndex,"parameters",{get:function(){return[[p["int"]]]}});var I=function(e){function t(r){o(this,t);var n=new e;return n.__proto__=t.prototype,n.message="Index "+r+" is out-of-bounds.",n}return s(t,e),a(t,[{key:"toString",value:function(){return this.message}}]),t}(Error),W=function(e){function t(){o(this,t);var r=new e;return r.__proto__=t.prototype,r.message="Only 3 queries can be concurrently active in a template.",r}return s(t,e),a(t,[{key:"toString",value:function(){return this.message}}]),t}(Error),F=function(){function e(t,r,n){o(this,e),c.assert.argumentTypes(t,c.assert.type.any,r,k.QueryList,n,R),this.directive=t,this.list=r,this.originator=n}return a(e,[{key:"update",value:function(){var e=[];this.visit(this.originator,e),this.list.reset(e)}},{key:"visit",value:function(e,t){if(c.assert.argumentTypes(e,R,t,c.assert.type.any),!p.isBlank(e)){e.hasDirective(this.directive)&&h.ListWrapper.push(t,e.get(this.directive));for(var r=e._head;p.isPresent(r);)this.visit(r,t),r=r._next}}}]),e}();Object.defineProperty(F,"parameters",{get:function(){return[[],[k.QueryList],[R]]}}),Object.defineProperty(F.prototype.visit,"parameters",{get:function(){return[[R],[]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],s=Object.getOwnPropertyDescriptor(t,i);s&&s.configurable&&void 0===e[i]&&Object.defineProperty(e,i,s)}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r(10);i(t,n(s));var o=r(238);i(t,n(o));var a=r(237);i(t,n(a));var u=r(239);i(t,n(u));var c=r(86);i(t,n(c));var p=r(9);Object.defineProperty(t,"Observable",{enumerable:!0,get:function(){return p.Observable}}),Object.defineProperty(t,"EventEmitter",{enumerable:!0,get:function(){return p.EventEmitter}});var l=r(11);i(t,n(l));var f=r(53);Object.defineProperty(t,"DirectDomRenderer",{enumerable:!0,get:function(){return f.DirectDomRenderer}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(r(2),r(4),r(270)),i=r(269);Object.defineProperty(t,"Reflector",{enumerable:!0,get:function(){return n.Reflector}});var s=new n.Reflector(new i.ReflectionCapabilities);t.reflector=s},function(e,t,r){"use strict";function n(e){var t=new p.StringJoiner,r=c.DOM.attributeMap(e);return t.add("<"),t.add(c.DOM.tagName(e).toLowerCase()),i(t,"id",u.MapWrapper.get(r,"id")),i(t,"class",u.MapWrapper.get(r,"class")),u.MapWrapper.forEach(r,function(e,r){"id"!==r&&"class"!==r&&i(t,r,e)}),t.add(">"),a.assert.returnType(t.toString(),a.assert.type.string)}function i(e,t,r){a.assert.argumentTypes(e,p.StringJoiner,t,a.assert.type.string,r,a.assert.type.any),p.isPresent(r)&&e.add(0===r.length?" "+t:" "+t+'="'+r+'"')}var s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(4),c=r(8),p=r(2),l=(r(74),function(){function e(t){var r=void 0===arguments[1]?"":arguments[1];s(this,e),this.element=t,this._attrs=null,this._classList=null,this.isViewRoot=!1,this.inheritedProtoView=null,this.inheritedElementBinder=null,this.distanceToInheritedBinder=0,this.compileChildren=!0;var i=p.assertionsEnabled()?n(t):null;""!==r?(this.elementDescription=r,p.isPresent(i)&&(this.elementDescription+=": "+i)):this.elementDescription=i}return o(e,[{key:"isBound",value:function(){return p.isPresent(this.inheritedElementBinder)&&0===this.distanceToInheritedBinder}},{key:"bindElement",value:function(){if(!this.isBound()){var e=this.inheritedElementBinder;this.inheritedElementBinder=this.inheritedProtoView.bindElement(this.element,this.elementDescription),p.isPresent(e)&&this.inheritedElementBinder.setParent(e,this.distanceToInheritedBinder),this.distanceToInheritedBinder=0}return this.inheritedElementBinder}},{key:"refreshAttrs",value:function(){this._attrs=null}},{key:"attrs",value:function(){return p.isBlank(this._attrs)&&(this._attrs=c.DOM.attributeMap(this.element)),a.assert.returnType(this._attrs,a.assert.genericType(u.Map,a.assert.type.string,a.assert.type.string))}},{key:"refreshClassList",value:function(){this._classList=null}},{key:"classList",value:function(){if(p.isBlank(this._classList)){this._classList=u.ListWrapper.create();for(var e=c.DOM.classList(this.element),t=0;t<e.length;t++)u.ListWrapper.push(this._classList,e[t])}return a.assert.returnType(this._classList,a.assert.genericType(u.List,a.assert.type.string))}}]),e}());t.CompileElement=l,Object.defineProperty(i,"parameters",{get:function(){return[[p.StringJoiner],[a.assert.type.string],[]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(23),u=r(29),c=n(u),p=function(){function e(){i(this,e)}return s(e,[{key:"process",value:function(e,t,r){o.assert.argumentTypes(e,a.CompileElement,t,a.CompileElement,r,c.CompileControl)}}]),e}();t.CompileStep=p,Object.defineProperty(p.prototype.process,"parameters",{get:function(){return[[a.CompileElement],[a.CompileElement],[c.CompileControl]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=(r(2),r(9)),u=r(31),c=n(u),p=r(38),l=function(){function e(){i(this,e)}return s(e,[{key:"hasNativeContentElement",value:function(){return o.assert.returnType(!0,o.assert.type["boolean"])}},{key:"attachTemplate",value:function(e,t){o.assert.argumentTypes(e,o.assert.type.any,t,c.RenderView)}},{key:"constructLightDom",value:function(e,t,r){return o.assert.argumentTypes(e,c.RenderView,t,c.RenderView,r,o.assert.type.any),o.assert.returnType(null,p.LightDom)}},{key:"processStyleElement",value:function(e,t,r){return o.assert.argumentTypes(e,o.assert.type.string,t,o.assert.type.string,r,o.assert.type.any),o.assert.returnType(null,a.Promise)}},{key:"processElement",value:function(e,t,r){o.assert.argumentTypes(e,o.assert.type.string,t,o.assert.type.string,r,o.assert.type.any)}}]),e}();t.ShadowDomStrategy=l,Object.defineProperty(l.prototype.attachTemplate,"parameters",{get:function(){return[[],[c.RenderView]]}}),Object.defineProperty(l.prototype.constructLightDom,"parameters",{get:function(){return[[c.RenderView],[c.RenderView],[]]}}),Object.defineProperty(l.prototype.processStyleElement,"parameters",{get:function(){return[[o.assert.type.string],[o.assert.type.string],[]]}}),Object.defineProperty(l.prototype.processElement,"parameters",{get:function(){return[[o.assert.type.string],[o.assert.type.string],[]]}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="CHECK_ONCE";t.CHECK_ONCE=n;var i="CHECKED";t.CHECKED=i;var s="ALWAYS_CHECK";t.CHECK_ALWAYS=s;var o="DETACHED";t.DETACHED=o;var a="ON_PUSH";t.ON_PUSH=a;var u="DEFAULT";t.DEFAULT=u},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=new Object;t.NO_CHANGE=o;var a=function(){function e(){n(this,e)}return i(e,[{key:"supports",value:function(e){return s.assert.returnType(!1,s.assert.type["boolean"])}},{key:"onDestroy",value:function(){}},{key:"transform",value:function(e){return s.assert.argumentTypes(e,s.assert.type.any),s.assert.returnType(null,s.assert.type.any)}}]),e}();t.Pipe=a,Object.defineProperty(a.prototype.transform,"parameters",{get:function(){return[[s.assert.type.any]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(4),u=r(2),c=r(7),p=r(20),l=n(p),f=r(15),h=n(f),d=r(11),y=function(){function e(t,r,n){i(this,e),o.assert.argumentTypes(t,h.AppView,r,h.AppProtoView,n,l.ElementInjector),this.parentView=t,this.defaultProtoView=r,this.elementInjector=n,this._views=[]}return s(e,[{key:"getRender",value:function(){return new d.ViewContainerRef(this.parentView.render,this.elementInjector.getBoundElementIndex())}},{key:"internalClearWithoutRender",value:function(){for(var e=this._views.length-1;e>=0;e--)this._detachInjectors(e)}},{key:"clear",value:function(){for(var e=this._views.length-1;e>=0;e--)this.remove(e)}},{key:"get",value:function(e){return o.assert.argumentTypes(e,o.assert.type.number),o.assert.returnType(this._views[e],h.AppView)}},{key:"length",get:function(){return this._views.length}},{key:"_siblingInjectorToLinkAfter",value:function(e){return o.assert.argumentTypes(e,o.assert.type.number),0==e?null:a.ListWrapper.last(this._views[e-1].rootElementInjectors)}},{key:"hydrated",value:function(){return this.parentView.hydrated()}},{key:"create",value:function(){var e=void 0===arguments[0]?-1:arguments[0],t=void 0===arguments[1]?null:arguments[1],r=void 0===arguments[2]?null:arguments[2];if(o.assert.argumentTypes(e,o.assert.type.any,t,h.AppProtoView,r,c.Injector),-1==e&&(e=this._views.length),!this.hydrated())throw new u.BaseException("Cannot create views on a dehydrated ViewContainer");u.isBlank(t)&&(t=this.defaultProtoView);var n=this.parentView.viewFactory.getView(t);return this._insertInjectors(n,e),this.parentView.viewHydrator.hydrateViewInViewContainer(this,e,n,r),o.assert.returnType(n,h.AppView)}},{key:"insert",value:function(e){var t=void 0===arguments[1]?-1:arguments[1];return-1==t&&(t=this._views.length),this._insertInjectors(e,t),this.parentView.changeDetector.addChild(e.changeDetector),this.parentView.renderer.insertViewIntoContainer(this.getRender(),t,e.render),o.assert.returnType(e,h.AppView);

}},{key:"_insertInjectors",value:function(e,t){return a.ListWrapper.insert(this._views,t,e),this._linkElementInjectors(this._siblingInjectorToLinkAfter(t),e),o.assert.returnType(e,h.AppView)}},{key:"indexOf",value:function(e){return o.assert.argumentTypes(e,h.AppView),a.ListWrapper.indexOf(this._views,e)}},{key:"remove",value:function(){var e=void 0===arguments[0]?-1:arguments[0];-1==e&&(e=this._views.length-1);var t=this._views[e];this.parentView.viewHydrator.dehydrateViewInViewContainer(this,e,t),this._detachInjectors(e),this.parentView.viewFactory.returnView(t)}},{key:"detach",value:function(){var e=void 0===arguments[0]?-1:arguments[0];-1==e&&(e=this._views.length-1);var t=this._detachInjectors(e);return t.changeDetector.remove(),this.parentView.renderer.detachViewFromContainer(this.getRender(),e),o.assert.returnType(t,h.AppView)}},{key:"_detachInjectors",value:function(e){var t=this.get(e);return a.ListWrapper.removeAt(this._views,e),this._unlinkElementInjectors(t),o.assert.returnType(t,h.AppView)}},{key:"_linkElementInjectors",value:function(e,t){for(var r=t.rootElementInjectors.length-1;r>=0;r--)t.rootElementInjectors[r].linkAfter(this.elementInjector,e)}},{key:"_unlinkElementInjectors",value:function(e){for(var t=0;t<e.rootElementInjectors.length;++t)e.rootElementInjectors[t].unlink()}}]),e}();t.ViewContainer=y,Object.defineProperty(y,"parameters",{get:function(){return[[h.AppView],[h.AppProtoView],[l.ElementInjector]]}}),Object.defineProperty(y.prototype.get,"parameters",{get:function(){return[[o.assert.type.number]]}}),Object.defineProperty(y.prototype._siblingInjectorToLinkAfter,"parameters",{get:function(){return[[o.assert.type.number]]}}),Object.defineProperty(y.prototype.create,"parameters",{get:function(){return[[],[h.AppProtoView],[c.Injector]]}}),Object.defineProperty(y.prototype.indexOf,"parameters",{get:function(){return[[h.AppView]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(2),a=r(4),u=r(23),c=(r(24),function(){function e(t){n(this,e),this._steps=t,this._currentStepIndex=0,this._parent=null,this._results=null,this._additionalChildren=null}return i(e,[{key:"internalProcess",value:function(e,t,r,n){s.assert.argumentTypes(e,s.assert.type.any,t,s.assert.type.any,r,u.CompileElement,n,u.CompileElement),this._results=e;var i=this._currentStepIndex,o=this._parent;this._ignoreCurrentElement=!1;for(var c=t;c<this._steps.length&&!this._ignoreCurrentElement;c++){var p=this._steps[c];this._parent=r,this._currentStepIndex=c,p.process(r,n,this),r=this._parent}this._ignoreCurrentElement||a.ListWrapper.push(e,n),this._currentStepIndex=i,this._parent=o;var l=this._additionalChildren;return this._additionalChildren=null,l}},{key:"addParent",value:function(e){s.assert.argumentTypes(e,u.CompileElement),this.internalProcess(this._results,this._currentStepIndex+1,this._parent,e),this._parent=e}},{key:"addChild",value:function(e){s.assert.argumentTypes(e,u.CompileElement),o.isBlank(this._additionalChildren)&&(this._additionalChildren=a.ListWrapper.create()),a.ListWrapper.push(this._additionalChildren,e)}},{key:"ignoreCurrentElement",value:function(){this._ignoreCurrentElement=!0}}]),e}());t.CompileControl=c,Object.defineProperty(c.prototype.internalProcess,"parameters",{get:function(){return[[],[],[u.CompileElement],[u.CompileElement]]}}),Object.defineProperty(c.prototype.addParent,"parameters",{get:function(){return[[u.CompileElement]]}}),Object.defineProperty(c.prototype.addChild,"parameters",{get:function(){return[[u.CompileElement]]}})},function(e,t,r){"use strict";function n(e){return s.assert.argumentTypes(e,s.assert.type.string),o.StringWrapper.replaceAllMapped(e,p,function(e){return"-"+e[1].toLowerCase()})}function i(e){return s.assert.argumentTypes(e,s.assert.type.string),o.StringWrapper.replaceAllMapped(e,l,function(e){return e[1].toUpperCase()})}Object.defineProperty(t,"__esModule",{value:!0}),t.camelCaseToDashCase=n,t.dashCaseToCamelCase=i;var s=r(1),o=r(2),a=".ng-binding";t.NG_BINDING_CLASS_SELECTOR=a;var u="ng-binding";t.NG_BINDING_CLASS=u;var c=":";t.EVENT_TARGET_SEPARATOR=c;var p=o.RegExpWrapper.create("([A-Z])"),l=o.RegExpWrapper.create("-([a-z])");Object.defineProperty(n,"parameters",{get:function(){return[[s.assert.type.string]]}}),Object.defineProperty(i,"parameters",{get:function(){return[[s.assert.type.string]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(8),a=r(4),u=r(2),c=r(75),p=r(39),l=(r(38),r(72),function(){function e(t,r,i,o,u){n(this,e),s.assert.argumentTypes(t,p.RenderProtoView,r,a.List,i,a.List,o,a.List,u,a.List),this.proto=t,this.rootNodes=r,this.boundTextNodes=i,this.boundElements=o,this.viewContainers=a.ListWrapper.createFixedSize(o.length),this.contentTags=u,this.lightDoms=a.ListWrapper.createFixedSize(o.length),a.ListWrapper.fill(this.lightDoms,null),this.componentChildViews=a.ListWrapper.createFixedSize(o.length),this.hostLightDom=null,this.hydrated=!1,this.eventHandlerRemovers=[],this.imperativeHostViews=[]}return i(e,[{key:"getDirectParentLightDom",value:function(e){s.assert.argumentTypes(e,s.assert.type.number);var t=this.proto.elementBinders[e],r=null;return-1!==t.parentIndex&&1===t.distanceToParent&&(r=this.lightDoms[t.parentIndex]),r}},{key:"getOrCreateViewContainer",value:function(e){var t=this.viewContainers[e];return u.isBlank(t)&&(t=new c.ViewContainer(this,e),this.viewContainers[e]=t),t}},{key:"setElementProperty",value:function(e,t,r){s.assert.argumentTypes(e,s.assert.type.number,t,s.assert.type.string,r,s.assert.type.any);var n=a.MapWrapper.get(this.proto.elementBinders[e].propertySetters,t);n(this.boundElements[e],r)}},{key:"setText",value:function(e,t){s.assert.argumentTypes(e,s.assert.type.number,t,s.assert.type.string),o.DOM.setText(this.boundTextNodes[e],t)}},{key:"getViewContainer",value:function(e){return s.assert.argumentTypes(e,s.assert.type.number),s.assert.returnType(this.viewContainers[e],c.ViewContainer)}},{key:"setEventDispatcher",value:function(e){s.assert.argumentTypes(e,s.assert.type.any),this._eventDispatcher=e}},{key:"dispatchEvent",value:function(e,t,r){var n=!0;if(u.isPresent(this._eventDispatcher)){var i=a.MapWrapper.create();a.MapWrapper.set(i,"$event",r),n=this._eventDispatcher.dispatchEvent(e,t,i),n||r.preventDefault()}return s.assert.returnType(n,s.assert.type["boolean"])}}]),e}());t.RenderView=l,Object.defineProperty(l,"parameters",{get:function(){return[[p.RenderProtoView],[a.List],[a.List],[a.List],[a.List]]}}),Object.defineProperty(l.prototype.getDirectParentLightDom,"parameters",{get:function(){return[[s.assert.type.number]]}}),Object.defineProperty(l.prototype.setElementProperty,"parameters",{get:function(){return[[s.assert.type.number],[s.assert.type.string],[s.assert.type.any]]}}),Object.defineProperty(l.prototype.setText,"parameters",{get:function(){return[[s.assert.type.number],[s.assert.type.string]]}}),Object.defineProperty(l.prototype.getViewContainer,"parameters",{get:function(){return[[s.assert.type.number]]}}),Object.defineProperty(l.prototype.setEventDispatcher,"parameters",{get:function(){return[[s.assert.type.any]]}})},function(e,t,r){var n=r(5),i=r(19)("unscopables");!n.FW||i in[]||n.hide(Array.prototype,i,{}),e.exports=function(e){n.FW&&([][i][e]=!0)}},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(4),a=r(35),u=0;t.RECORD_TYPE_SELF=u;var c=1;t.RECORD_TYPE_CONST=c;var p=2;t.RECORD_TYPE_PRIMITIVE_OP=p;var l=3;t.RECORD_TYPE_PROPERTY=l;var f=4;t.RECORD_TYPE_LOCAL=f;var h=5;t.RECORD_TYPE_INVOKE_METHOD=h;var d=6;t.RECORD_TYPE_INVOKE_CLOSURE=d;var y=7;t.RECORD_TYPE_KEYED_ACCESS=y;var m=8;t.RECORD_TYPE_PIPE=m;var g=9;t.RECORD_TYPE_BINDING_PIPE=g;var v=10;t.RECORD_TYPE_INTERPOLATE=v;var _=function(){function e(t,r,i,u,c,p,l,f,h,d,y){n(this,e),s.assert.argumentTypes(t,s.assert.type.number,r,s.assert.type.string,i,s.assert.type.any,u,o.List,c,o.List,p,s.assert.type.number,l,s.assert.type.number,f,a.BindingRecord,h,s.assert.type.string,d,s.assert.type["boolean"],y,s.assert.type["boolean"]),this.mode=t,this.name=r,this.funcOrValue=i,this.args=u,this.fixedArgs=c,this.contextIndex=p,this.selfIndex=l,this.bindingRecord=f,this.lastInBinding=d,this.lastInDirective=y,this.expressionAsString=h}return i(e,[{key:"isPureFunction",value:function(){return s.assert.returnType(this.mode===v||this.mode===p,s.assert.type["boolean"])}}]),e}();t.ProtoRecord=_,Object.defineProperty(_,"parameters",{get:function(){return[[s.assert.type.number],[s.assert.type.string],[],[o.List],[o.List],[s.assert.type.number],[s.assert.type.number],[a.BindingRecord],[s.assert.type.string],[s.assert.type["boolean"]],[s.assert.type["boolean"]]]}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Function;t.SetterFn=n;var i=Function;t.GetterFn=i;var s=Function;t.MethodFn=s},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(2),a=r(34),u=r(48),c=r(47),p="directive",l="element",f="textNode",h=function(){function e(t,r,i,o,p,l){n(this,e),s.assert.argumentTypes(t,s.assert.type.string,r,u.AST,i,s.assert.type.number,o,s.assert.type.string,p,a.SetterFn,l,c.DirectiveRecord),this.mode=t,this.ast=r,this.elementIndex=i,this.propertyName=o,this.setter=p,this.directiveRecord=l}return i(e,[{key:"callOnChange",value:function(){return o.isPresent(this.directiveRecord)&&this.directiveRecord.callOnChange}},{key:"isOnPushChangeDetection",value:function(){return o.isPresent(this.directiveRecord)&&this.directiveRecord.isOnPushChangeDetection()}},{key:"isDirective",value:function(){return this.mode===p}},{key:"isElement",value:function(){return this.mode===l}},{key:"isTextNode",value:function(){return this.mode===f}}],[{key:"createForDirective",value:function(t,r,n,i){return s.assert.argumentTypes(t,u.AST,r,s.assert.type.string,n,a.SetterFn,i,c.DirectiveRecord),new e(p,t,0,r,n,i)}},{key:"createForElement",value:function(t,r,n){return s.assert.argumentTypes(t,u.AST,r,s.assert.type.number,n,s.assert.type.string),new e(l,t,r,n,null,null)}},{key:"createForTextNode",value:function(t,r){return s.assert.argumentTypes(t,u.AST,r,s.assert.type.number),new e(f,t,r,null,null,null)}}]),e}();t.BindingRecord=h,Object.defineProperty(h,"parameters",{get:function(){return[[s.assert.type.string],[u.AST],[s.assert.type.number],[s.assert.type.string],[a.SetterFn],[c.DirectiveRecord]]}}),Object.defineProperty(h.createForDirective,"parameters",{get:function(){return[[u.AST],[s.assert.type.string],[a.SetterFn],[c.DirectiveRecord]]}}),Object.defineProperty(h.createForElement,"parameters",{get:function(){return[[u.AST],[s.assert.type.number],[s.assert.type.string]]}}),Object.defineProperty(h.createForTextNode,"parameters",{get:function(){return[[u.AST],[s.assert.type.number]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(4),a=r(90),u=r(26),c=r(35),p=function(){function e(){n(this,e)}return i(e,[{key:"instantiate",value:function(e,t,r,n){return s.assert.argumentTypes(e,s.assert.type.any,t,o.List,r,o.List,n,o.List),s.assert.returnType(null,h)}}]),e}();t.ProtoChangeDetector=p,Object.defineProperty(p.prototype.instantiate,"parameters",{get:function(){return[[s.assert.type.any],[o.List],[o.List],[o.List]]}});var l=function(){function e(){n(this,e)}return i(e,[{key:"createProtoChangeDetector",value:function(e){var t=void 0===arguments[1]?u.DEFAULT:arguments[1];return s.assert.argumentTypes(e,s.assert.type.string,t,s.assert.type.string),s.assert.returnType(null,p)}}]),e}();t.ChangeDetection=l,Object.defineProperty(l.prototype.createProtoChangeDetector,"parameters",{get:function(){return[[s.assert.type.string],[s.assert.type.string]]}});var f=function(){function e(){n(this,e)}return i(e,[{key:"notifyOnBinding",value:function(e,t){s.assert.argumentTypes(e,c.BindingRecord,t,s.assert.type.any)}}]),e}();t.ChangeDispatcher=f,Object.defineProperty(f.prototype.notifyOnBinding,"parameters",{get:function(){return[[c.BindingRecord],[s.assert.type.any]]}});var h=function(){function e(){n(this,e)}return i(e,[{key:"addChild",value:function(t){s.assert.argumentTypes(t,e)}},{key:"addShadowDomChild",value:function(t){s.assert.argumentTypes(t,e)}},{key:"removeChild",value:function(t){s.assert.argumentTypes(t,e)}},{key:"removeShadowDomChild",value:function(t){s.assert.argumentTypes(t,e)}},{key:"remove",value:function(){}},{key:"hydrate",value:function(e,t,r){s.assert.argumentTypes(e,s.assert.type.any,t,a.Locals,r,s.assert.type.any)}},{key:"dehydrate",value:function(){}},{key:"markPathToRootAsCheckOnce",value:function(){}},{key:"detectChanges",value:function(){}},{key:"checkNoChanges",value:function(){}}]),e}();t.ChangeDetector=h,Object.defineProperty(h.prototype.addChild,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(h.prototype.addShadowDomChild,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(h.prototype.removeChild,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(h.prototype.removeShadowDomChild,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(h.prototype.hydrate,"parameters",{get:function(){return[[s.assert.type.any],[a.Locals],[s.assert.type.any]]}})},function(e,t,r){"use strict";var n=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(2),u=r(8),c=r(4),p=r(66),l="^",f=function(){function e(t,r){i(this,e),o.assert.argumentTypes(t,o.assert.genericType(c.List,h),r,p.VmTurnZone),this._zone=r,this._plugins=t;for(var n=0;n<t.length;n++)t[n].manager=this}return s(e,[{key:"addEventListener",value:function(e,t,r){o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string,r,Function);var n=this._removeBubbleSymbol(t),i=this._findPluginFor(n);i.addEventListener(e,n,r,n!=t)}},{key:"addGlobalEventListener",value:function(e,t,r){o.assert.argumentTypes(e,o.assert.type.string,t,o.assert.type.string,r,Function);var n=this._removeBubbleSymbol(t),i=this._findPluginFor(n);return o.assert.returnType(i.addGlobalEventListener(e,n,r,n!=t),Function)}},{key:"getZone",value:function(){return o.assert.returnType(this._zone,p.VmTurnZone)}},{key:"_findPluginFor",value:function(e){o.assert.argumentTypes(e,o.assert.type.string);for(var t=this._plugins,r=0;r<t.length;r++){var n=t[r];if(n.supports(e))return o.assert.returnType(n,h)}throw new a.BaseException("No event manager plugin found for event "+e)}},{key:"_removeBubbleSymbol",value:function(e){return o.assert.argumentTypes(e,o.assert.type.string),o.assert.returnType(e[0]==l?a.StringWrapper.substring(e,1):e,o.assert.type.string)}}]),e}();t.EventManager=f,Object.defineProperty(f,"parameters",{get:function(){return[[o.assert.genericType(c.List,h)],[p.VmTurnZone]]}}),Object.defineProperty(f.prototype.addEventListener,"parameters",{get:function(){return[[],[o.assert.type.string],[Function]]}}),Object.defineProperty(f.prototype.addGlobalEventListener,"parameters",{get:function(){return[[o.assert.type.string],[o.assert.type.string],[Function]]}}),Object.defineProperty(f.prototype._findPluginFor,"parameters",{get:function(){return[[o.assert.type.string]]}}),Object.defineProperty(f.prototype._removeBubbleSymbol,"parameters",{get:function(){return[[o.assert.type.string]]}});var h=function(){function e(){i(this,e)}return s(e,[{key:"supports",value:function(e){return o.assert.argumentTypes(e,o.assert.type.string),o.assert.returnType(!1,o.assert.type["boolean"])}},{key:"addEventListener",value:function(e,t,r,n){throw o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string,r,Function,n,o.assert.type["boolean"]),"not implemented"}},{key:"addGlobalEventListener",value:function(e,t,r,n){throw o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string,r,Function,n,o.assert.type["boolean"]),"not implemented"}}]),e}();t.EventManagerPlugin=h,Object.defineProperty(h.prototype.supports,"parameters",{get:function(){return[[o.assert.type.string]]}}),Object.defineProperty(h.prototype.addEventListener,"parameters",{get:function(){return[[],[o.assert.type.string],[Function],[o.assert.type["boolean"]]]}}),Object.defineProperty(h.prototype.addGlobalEventListener,"parameters",{get:function(){return[[],[o.assert.type.string],[Function],[o.assert.type["boolean"]]]}});var d=function(e){function t(){i(this,t),null!=e&&e.apply(this,arguments)}return n(t,e),s(t,[{key:"supports",value:function(e){return o.assert.argumentTypes(e,o.assert.type.string),o.assert.returnType(!0,o.assert.type["boolean"])}},{key:"addEventListener",value:function(e,t,r,n){o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string,r,Function,n,o.assert.type["boolean"]);var i=this._getOutsideHandler(n,e,r,this.manager._zone);this.manager._zone.runOutsideAngular(function(){u.DOM.on(e,t,i)})}},{key:"addGlobalEventListener",value:function(e,t,r,n){o.assert.argumentTypes(e,o.assert.type.string,t,o.assert.type.string,r,Function,n,o.assert.type["boolean"]);var i=u.DOM.getGlobalEventTarget(e),s=this._getOutsideHandler(n,i,r,this.manager._zone);return o.assert.returnType(this.manager._zone.runOutsideAngular(function(){return u.DOM.onAndCancel(i,t,s)}),Function)}},{key:"_getOutsideHandler",value:function(e,r,n,i){return o.assert.argumentTypes(e,o.assert.type["boolean"],r,o.assert.type.any,n,Function,i,p.VmTurnZone),e?t.bubbleCallback(r,n,i):t.sameElementCallback(r,n,i)}}],[{key:"sameElementCallback",value:function(e,t,r){return function(n){n.target===e&&r.run(function(){return t(n)})}}},{key:"bubbleCallback",value:function(e,t,r){return function(e){return r.run(function(){return t(e)})}}}]),t}(h);t.DomEventsPlugin=d,Object.defineProperty(d.prototype.supports,"parameters",{get:function(){return[[o.assert.type.string]]}}),Object.defineProperty(d.prototype.addEventListener,"parameters",{get:function(){return[[],[o.assert.type.string],[Function],[o.assert.type["boolean"]]]}}),Object.defineProperty(d.prototype.addGlobalEventListener,"parameters",{get:function(){return[[o.assert.type.string],[o.assert.type.string],[Function],[o.assert.type["boolean"]]]}}),Object.defineProperty(d.prototype._getOutsideHandler,"parameters",{get:function(){return[[o.assert.type["boolean"]],[],[Function],[p.VmTurnZone]]}})},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<e.length;++r){var n=e[r],i=n.select;if(0===i.length)n.insert(c.ListWrapper.clone(t)),c.ListWrapper.clear(t);else{var s=function(e){return u.DOM.elementMatches(e,i)},o=c.ListWrapper.filter(t,s);n.insert(o),c.ListWrapper.removeAll(t,o)}}for(var r=0;r<t.length;r++){var a=t[r];p.isPresent(a.parentNode)&&u.DOM.remove(t[r])}}var i=function(e){return e&&e.__esModule?e:{"default":e}},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(8),c=r(4),p=r(2),l=r(31),f=i(l),h=r(72),d=function g(){o(this,g)};t.DestinationLightDom=d;var y=function v(e,t){o(this,v),this.node=e,this.boundElementIndex=t},m=function(){function e(t,r,n){o(this,e),a.assert.argumentTypes(t,f.RenderView,r,f.RenderView,n,a.assert.type.any),this.lightDomView=t,this.shadowDomView=r,this.nodes=u.DOM.childNodesAsList(n),this.roots=null}return s(e,[{key:"redistribute",value:function(){n(this.contentTags(),this.expandedDomNodes())}},{key:"contentTags",value:function(){return a.assert.returnType(this._collectAllContentTags(this.shadowDomView,[]),a.assert.genericType(c.List,h.Content))}},{key:"_collectAllContentTags",value:function(e,t){var r=this;a.assert.argumentTypes(e,f.RenderView,t,a.assert.genericType(c.List,h.Content));for(var n=e.contentTags,i=e.viewContainers,s=0;s<i.length;s++){var o=i[s],u=n[s];p.isPresent(u)&&c.ListWrapper.push(t,u),p.isPresent(o)&&c.ListWrapper.forEach(o.contentTagContainers(),function(e){r._collectAllContentTags(e,t)})}return a.assert.returnType(t,a.assert.genericType(c.List,h.Content))}},{key:"expandedDomNodes",value:function(){for(var e=[],t=this._roots(),r=0;r<t.length;++r){var n=t[r];if(p.isPresent(n.boundElementIndex)){var i=this.lightDomView.viewContainers[n.boundElementIndex],s=this.lightDomView.contentTags[n.boundElementIndex];p.isPresent(i)?e=c.ListWrapper.concat(e,i.nodes()):p.isPresent(s)?e=c.ListWrapper.concat(e,s.nodes()):c.ListWrapper.push(e,n.node)}else c.ListWrapper.push(e,n.node)}return a.assert.returnType(e,c.List)}},{key:"_roots",value:function(){if(p.isPresent(this.roots))return this.roots;var e=this.lightDomView.boundElements;return this.roots=c.ListWrapper.map(this.nodes,function(t){for(var r=null,n=0;n<e.length;n++){var i=e[n];if(p.isPresent(i)&&i===t){r=n;break}}return new y(t,r)}),this.roots}}]),e}();t.LightDom=m,Object.defineProperty(m,"parameters",{get:function(){return[[f.RenderView],[f.RenderView],[]]}}),Object.defineProperty(m.prototype._collectAllContentTags,"parameters",{get:function(){return[[f.RenderView],[a.assert.genericType(c.List,h.Content)]]}}),Object.defineProperty(n,"parameters",{get:function(){return[[a.assert.genericType(c.List,h.Content)],[c.List]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(2),a=r(8),u=r(4),c=(r(102),r(30)),p=function(){function e(t){var r=t.elementBinders,i=t.element,s=t.imperativeRendererId;n(this,e),this.element=i,this.elementBinders=r,this.imperativeRendererId=s,o.isPresent(s)?(this.rootBindingOffset=0,this.isTemplateElement=!1):(this.isTemplateElement=a.DOM.isTemplateElement(this.element),this.rootBindingOffset=o.isPresent(this.element)&&a.DOM.hasClass(this.element,c.NG_BINDING_CLASS)?1:0)}return i(e,[{key:"mergeChildComponentProtoViews",value:function(t){s.assert.argumentTypes(t,s.assert.genericType(u.List,e));for(var r=0,n=0;n<this.elementBinders.length;n++){var i=this.elementBinders[n];o.isPresent(i.componentId)&&(i.nestedProtoView=t[r],r++)}}}]),e}();t.RenderProtoView=p,Object.defineProperty(p.prototype.mergeChildComponentProtoViews,"parameters",{get:function(){return[[s.assert.genericType(u.List,p)]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(7),a=r(2),u=r(8),c=function(){function e(){n(this,e),a.isBlank(e.a)&&(e.a=u.DOM.createElement("a"))}return i(e,[{key:"resolve",value:function(t,r){if(s.assert.argumentTypes(t,s.assert.type.string,r,s.assert.type.string),a.isBlank(t))return u.DOM.resolveAndSetHref(e.a,r,null),s.assert.returnType(u.DOM.getHref(e.a),s.assert.type.string);if(a.isBlank(r)||""==r)return s.assert.returnType(t,s.assert.type.string);if("/"==r[0])throw new a.BaseException("Could not resolve the url "+r+" from "+t);var n=a.RegExpWrapper.firstMatch(p,r);return a.isPresent(n[1])?s.assert.returnType(r,s.assert.type.string):(u.DOM.resolveAndSetHref(e.a,t,r),s.assert.returnType(u.DOM.getHref(e.a),s.assert.type.string))}}]),e}();t.UrlResolver=c,Object.defineProperty(c,"annotations",{get:function(){return[new o.Injectable]}}),Object.defineProperty(c.prototype.resolve,"parameters",{get:function(){return[[s.assert.type.string],[s.assert.type.string]]}});var p=a.RegExpWrapper.create("^([^:/?#]+:)?")},function(e,t,r){"use strict";var n=r(5),i=r(17);e.exports=function(e){var t=1==e,r=2==e,s=3==e,o=4==e,a=6==e,u=5==e||a;return function(c){for(var p,l,f=Object(n.assertDefined(this)),h=n.ES5Object(f),d=i(c,arguments[1],3),y=n.toLength(h.length),m=0,g=t?Array(y):r?[]:void 0;y>m;m++)if((u||m in h)&&(p=h[m],l=d(p,m,f),e))if(t)g[m]=l;else if(l)switch(e){case 3:return!0;case 5:return p;case 6:return m;case 2:g.push(p)}else if(o)return!1;return a?-1:s||o?o:g}}},function(e,t,r){"use strict";var n=r(5),i=r(6),s=r(16),o=r(13).inst;e.exports=function(e,t,a,u,c){function p(e,t){var r=d[e];n.FW&&(d[e]=function(e,n){var i=r.call(this,0===e?0:e,n);return t?this:i})}var l=n.g[e],f=l,h=u?"set":"add",d=f&&f.prototype,y={};if(n.isFunction(f)&&(c||!s.BUGGY&&d.forEach&&d.entries)){var m,g=new f,v=g[h](c?{}:-0,1);r(57)(function(e){new f(e)})||(f=function(t){o(this,f,e);var r=new l;return void 0!=t&&s.forOf(t,u,r[h],r),r},f.prototype=d,n.FW&&(d.constructor=f)),c||g.forEach(function(e,t){m=1/t===-(1/0)}),m&&(p("delete"),p("has"),u&&p("get")),(m||v!==g)&&p(h,!0)}else f=a.getConstructor(e,u,h),n.mix(f.prototype,t);return r(14).set(f,e),r(44)(f),y[e]=f,i(i.G+i.W+i.F*(f!=l),y),c||s.std(f,e,a.getIterConstructor(),a.next,u?"key+value":"value",!u,!0),f}},function(e,t,r){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3]);case 5:return n?e(t[0],t[1],t[2],t[3],t[4]):e.call(r,t[0],t[1],t[2],t[3],t[4])}return e.apply(r,t)}},function(e,t,r){var n=r(5);e.exports=function(e){n.DESC&&n.FW&&n.setDesc(e,r(19)("species"),{configurable:!0,get:n.that})}},function(e,t,r){"use strict";function n(e,t){var r=y++%20,n=m[r];return n.previousValue=e,n.currentValue=t,n}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(2),u=r(4),c=r(33),p=r(60),l=r(27),f=r(26),h=new Object;t.uninitialized=h;var d=function v(e,t){s(this,v),o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.any),this.previousValue=e,this.currentValue=t};t.SimpleChange=d,Object.defineProperty(d,"parameters",{get:function(){return[[o.assert.type.any],[o.assert.type.any]]}});var y=0,m=[new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null),new d(null,null)],g=function(){function e(){s(this,e)}return i(e,null,[{key:"unitialized",value:function(){return h}},{key:"arrayFn0",value:function(){return[]}},{key:"arrayFn1",value:function(e){return[e]}},{key:"arrayFn2",value:function(e,t){return[e,t]}},{key:"arrayFn3",value:function(e,t,r){return[e,t,r]}},{key:"arrayFn4",value:function(e,t,r,n){return[e,t,r,n]}},{key:"arrayFn5",value:function(e,t,r,n,i){return[e,t,r,n,i]}},{key:"arrayFn6",value:function(e,t,r,n,i,s){return[e,t,r,n,i,s]}},{key:"arrayFn7",value:function(e,t,r,n,i,s,o){return[e,t,r,n,i,s,o]}},{key:"arrayFn8",value:function(e,t,r,n,i,s,o,a){return[e,t,r,n,i,s,o,a]}},{key:"arrayFn9",value:function(e,t,r,n,i,s,o,a,u){return[e,t,r,n,i,s,o,a,u]}},{key:"operation_negate",value:function(e){return!e}},{key:"operation_add",value:function(e,t){return e+t}},{key:"operation_subtract",value:function(e,t){return e-t}},{key:"operation_multiply",value:function(e,t){return e*t}},{key:"operation_divide",value:function(e,t){return e/t}},{key:"operation_remainder",value:function(e,t){return e%t}},{key:"operation_equals",value:function(e,t){return e==t}},{key:"operation_not_equals",value:function(e,t){return e!=t}},{key:"operation_less_then",value:function(e,t){return t>e}},{key:"operation_greater_then",value:function(e,t){return e>t}},{key:"operation_less_or_equals_then",value:function(e,t){return t>=e}},{key:"operation_greater_or_equals_then",value:function(e,t){return e>=t}},{key:"operation_logical_and",value:function(e,t){return e&&t}},{key:"operation_logical_or",value:function(e,t){return e||t}},{key:"cond",value:function(e){function t(t,r,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,r){return e?t:r})},{key:"mapFn",value:function(e){function t(t){for(var r=u.StringMapWrapper.create(),n=0;n<e.length;++n)u.StringMapWrapper.set(r,e[n],t[n]);return r}switch(e.length){case 0:return function(){return[]};case 1:return function(e){return t([e])};case 2:return function(e,r){return t([e,r])};case 3:return function(e,r,n){return t([e,r,n])};case 4:return function(e,r,n,i){return t([e,r,n,i])};case 5:return function(e,r,n,i,s){return t([e,r,n,i,s])};case 6:return function(e,r,n,i,s,o){return t([e,r,n,i,s,o])};case 7:return function(e,r,n,i,s,o,a){return t([e,r,n,i,s,o,a])};case 8:return function(e,r,n,i,s,o,a,u){return t([e,r,n,i,s,o,a,u])};case 9:return function(e,r,n,i,s,o,a,u,c){return t([e,r,n,i,s,o,a,u,c])};default:throw new a.BaseException("Does not support literal maps with more than 9 elements")}}},{key:"keyedAccess",value:function(e,t){return e[t[0]]}},{key:"noChangeMarker",value:function(e){return o.assert.returnType(e===l.NO_CHANGE,o.assert.type["boolean"])}},{key:"throwOnChange",value:function(e,t){throw o.assert.argumentTypes(e,c.ProtoRecord,t,o.assert.type.any),
new p.ExpressionChangedAfterItHasBeenChecked(e,t)}},{key:"changeDetectionMode",value:function(e){return o.assert.argumentTypes(e,o.assert.type.string),e==f.ON_PUSH?f.CHECK_ONCE:f.CHECK_ALWAYS}},{key:"simpleChange",value:function(e,t){return o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.any),o.assert.returnType(n(e,t),d)}},{key:"addChange",value:function(e,t,r){return o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string,r,o.assert.type.any),a.isBlank(e)&&(e={}),e[t]=r,e}}]),e}();t.ChangeDetectionUtil=g,Object.defineProperty(g.mapFn,"parameters",{get:function(){return[[u.List]]}}),Object.defineProperty(g.throwOnChange,"parameters",{get:function(){return[[c.ProtoRecord],[]]}}),Object.defineProperty(g.changeDetectionMode,"parameters",{get:function(){return[[o.assert.type.string]]}}),Object.defineProperty(g.simpleChange,"parameters",{get:function(){return[[o.assert.type.any],[o.assert.type.any]]}}),Object.defineProperty(g.addChange,"parameters",{get:function(){return[[],[o.assert.type.string],[]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(36),a=r(26),u=function(){function e(t){n(this,e),s.assert.argumentTypes(t,o.ChangeDetector),this._cd=t}return i(e,[{key:"requestCheck",value:function(){this._cd.markPathToRootAsCheckOnce()}},{key:"detach",value:function(){this._cd.mode=a.DETACHED}},{key:"reattach",value:function(){this._cd.mode=a.CHECK_ALWAYS,this.requestCheck()}}]),e}();t.ChangeDetectorRef=u,Object.defineProperty(u,"parameters",{get:function(){return[[o.ChangeDetector]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(26),a=r(2),u=function(){function e(t,r,i,o,a){n(this,e),s.assert.argumentTypes(t,s.assert.type.number,r,s.assert.type.number,i,s.assert.type["boolean"],o,s.assert.type["boolean"],a,s.assert.type.string),this.elementIndex=t,this.directiveIndex=r,this.callOnAllChangesDone=i,this.callOnChange=o,this.changeDetection=a}return i(e,[{key:"isOnPushChangeDetection",value:function(){return s.assert.returnType(a.StringWrapper.equals(this.changeDetection,o.ON_PUSH),s.assert.type["boolean"])}},{key:"name",get:function(){return""+this.elementIndex+"_"+this.directiveIndex}}]),e}();t.DirectiveRecord=u,Object.defineProperty(u,"parameters",{get:function(){return[[s.assert.type.number],[s.assert.type.number],[s.assert.type["boolean"]],[s.assert.type["boolean"]],[s.assert.type.string]]}})},function(e,t,r){"use strict";function n(e,t,r){u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.any,r,p.List);var n=r.length;if(n>10)throw new c.BaseException("Cannot have more than 10 argument");for(var i=S[n],s=0;n>s;s++)i[s]=r[s].eval(e,t);return i}var i=function x(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:x(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(1),c=r(2),p=r(4),l=function(){function e(){o(this,e)}return a(e,[{key:"eval",value:function(e,t){throw new c.BaseException("Not supported")}},{key:"isAssignable",get:function(){return!1}},{key:"assign",value:function(e,t,r){throw new c.BaseException("Not supported")}},{key:"visit",value:function(e){}},{key:"toString",value:function(){return u.assert.returnType("AST",u.assert.type.string)}}]),e}();t.AST=l;var f=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return s(t,e),a(t,[{key:"eval",value:function(e,t){return null}},{key:"visit",value:function(e){}}]),t}(l);t.EmptyExpr=f;var h=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return s(t,e),a(t,[{key:"eval",value:function(e,t){return e}},{key:"visit",value:function(e){return e.visitImplicitReceiver(this)}}]),t}(l);t.ImplicitReceiver=h;var d=function(e){function t(e){o(this,t),u.assert.argumentTypes(e,p.List),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.expressions=e}return s(t,e),a(t,[{key:"eval",value:function(e,t){for(var r,n=0;n<this.expressions.length;n++){var i=this.expressions[n].eval(e,t);c.isPresent(i)&&(r=i)}return r}},{key:"visit",value:function(e){return e.visitChain(this)}}]),t}(l);t.Chain=d,Object.defineProperty(d,"parameters",{get:function(){return[[p.List]]}});var y=function(e){function t(e,r,n){o(this,t),u.assert.argumentTypes(e,l,r,l,n,l),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.condition=e,this.trueExp=r,this.falseExp=n}return s(t,e),a(t,[{key:"eval",value:function(e,t){return this.condition.eval(e,t)?this.trueExp.eval(e,t):this.falseExp.eval(e,t)}},{key:"visit",value:function(e){return e.visitConditional(this)}}]),t}(l);t.Conditional=y,Object.defineProperty(y,"parameters",{get:function(){return[[l],[l],[l]]}});var m=function(e){function t(e,r,n,s){o(this,t),u.assert.argumentTypes(e,l,r,u.assert.type.string,n,Function,s,Function),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.receiver=e,this.name=r,this.getter=n,this.setter=s}return s(t,e),a(t,[{key:"eval",value:function(e,t){if(this.receiver instanceof h&&c.isPresent(t)&&t.contains(this.name))return t.get(this.name);var r=this.receiver.eval(e,t);return this.getter(r)}},{key:"isAssignable",get:function(){return!0}},{key:"assign",value:function(e,t,r){var n=this.receiver.eval(e,t);if(this.receiver instanceof h&&c.isPresent(t)&&t.contains(this.name))throw new c.BaseException("Cannot reassign a variable binding "+this.name);return this.setter(n,r)}},{key:"visit",value:function(e){return e.visitAccessMember(this)}}]),t}(l);t.AccessMember=m,Object.defineProperty(m,"parameters",{get:function(){return[[l],[u.assert.type.string],[Function],[Function]]}});var g=function(e){function t(e,r){o(this,t),u.assert.argumentTypes(e,l,r,l),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.obj=e,this.key=r}return s(t,e),a(t,[{key:"eval",value:function(e,t){var r=this.obj.eval(e,t),n=this.key.eval(e,t);return r[n]}},{key:"isAssignable",get:function(){return!0}},{key:"assign",value:function(e,t,r){var n=this.obj.eval(e,t),i=this.key.eval(e,t);return n[i]=r,r}},{key:"visit",value:function(e){return e.visitKeyedAccess(this)}}]),t}(l);t.KeyedAccess=g,Object.defineProperty(g,"parameters",{get:function(){return[[l],[l]]}});var v=function(e){function t(e,r,n,s){o(this,t),u.assert.argumentTypes(e,l,r,u.assert.type.string,n,p.List,s,u.assert.type["boolean"]),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.exp=e,this.name=r,this.args=n,this.inBinding=s}return s(t,e),a(t,[{key:"visit",value:function(e){return e.visitPipe(this)}}]),t}(l);t.Pipe=v,Object.defineProperty(v,"parameters",{get:function(){return[[l],[u.assert.type.string],[p.List],[u.assert.type["boolean"]]]}});var _=function(e){function t(e){o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.value=e}return s(t,e),a(t,[{key:"eval",value:function(e,t){return this.value}},{key:"visit",value:function(e){return e.visitLiteralPrimitive(this)}}]),t}(l);t.LiteralPrimitive=_;var b=function(e){function t(e){o(this,t),u.assert.argumentTypes(e,p.List),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.expressions=e}return s(t,e),a(t,[{key:"eval",value:function(e,t){return p.ListWrapper.map(this.expressions,function(r){return r.eval(e,t)})}},{key:"visit",value:function(e){return e.visitLiteralArray(this)}}]),t}(l);t.LiteralArray=b,Object.defineProperty(b,"parameters",{get:function(){return[[p.List]]}});var w=function(e){function t(e,r){o(this,t),u.assert.argumentTypes(e,p.List,r,p.List),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.keys=e,this.values=r}return s(t,e),a(t,[{key:"eval",value:function(e,t){for(var r=p.StringMapWrapper.create(),n=0;n<this.keys.length;++n)p.StringMapWrapper.set(r,this.keys[n],this.values[n].eval(e,t));return r}},{key:"visit",value:function(e){return e.visitLiteralMap(this)}}]),t}(l);t.LiteralMap=w,Object.defineProperty(w,"parameters",{get:function(){return[[p.List],[p.List]]}});var T=function(e){function t(e,r){o(this,t),u.assert.argumentTypes(e,p.List,r,p.List),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.strings=e,this.expressions=r}return s(t,e),a(t,[{key:"eval",value:function(e,t){throw new c.BaseException("evaluating an Interpolation is not supported")}},{key:"visit",value:function(e){e.visitInterpolation(this)}}]),t}(l);t.Interpolation=T,Object.defineProperty(T,"parameters",{get:function(){return[[p.List],[p.List]]}});var k=function(e){function t(e,r,n){o(this,t),u.assert.argumentTypes(e,u.assert.type.string,r,l,n,l),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.operation=e,this.left=r,this.right=n}return s(t,e),a(t,[{key:"eval",value:function(e,t){var r=this.left.eval(e,t);switch(this.operation){case"&&":return r&&this.right.eval(e,t);case"||":return r||this.right.eval(e,t)}var n=this.right.eval(e,t);switch(this.operation){case"+":return r+n;case"-":return r-n;case"*":return r*n;case"/":return r/n;case"%":return r%n;case"==":return r==n;case"!=":return r!=n;case"<":return n>r;case">":return r>n;case"<=":return n>=r;case">=":return r>=n;case"^":return r^n;case"&":return r&n}throw"Internal error [$operation] not handled"}},{key:"visit",value:function(e){return e.visitBinary(this)}}]),t}(l);t.Binary=k,Object.defineProperty(k,"parameters",{get:function(){return[[u.assert.type.string],[l],[l]]}});var L=function(e){function t(e){o(this,t),u.assert.argumentTypes(e,l),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.expression=e}return s(t,e),a(t,[{key:"eval",value:function(e,t){return!this.expression.eval(e,t)}},{key:"visit",value:function(e){return e.visitPrefixNot(this)}}]),t}(l);t.PrefixNot=L,Object.defineProperty(L,"parameters",{get:function(){return[[l]]}});var M=function(e){function t(e,r){o(this,t),u.assert.argumentTypes(e,l,r,l),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.target=e,this.value=r}return s(t,e),a(t,[{key:"eval",value:function(e,t){return this.target.assign(e,t,this.value.eval(e,t))}},{key:"visit",value:function(e){return e.visitAssignment(this)}}]),t}(l);t.Assignment=M,Object.defineProperty(M,"parameters",{get:function(){return[[l],[l]]}});var P=function(e){function t(e,r,n,s){o(this,t),u.assert.argumentTypes(e,l,r,u.assert.type.string,n,Function,s,p.List),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.receiver=e,this.fn=n,this.args=s,this.name=r}return s(t,e),a(t,[{key:"eval",value:function(e,t){var r=n(e,t,this.args);if(this.receiver instanceof h&&c.isPresent(t)&&t.contains(this.name)){var i=t.get(this.name);return c.FunctionWrapper.apply(i,r)}var s=this.receiver.eval(e,t);return this.fn(s,r)}},{key:"visit",value:function(e){return e.visitMethodCall(this)}}]),t}(l);t.MethodCall=P,Object.defineProperty(P,"parameters",{get:function(){return[[l],[u.assert.type.string],[Function],[p.List]]}});var O=function(e){function t(e,r){o(this,t),u.assert.argumentTypes(e,l,r,p.List),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.target=e,this.args=r}return s(t,e),a(t,[{key:"eval",value:function(e,t){var r=this.target.eval(e,t);if(!(r instanceof Function))throw new c.BaseException(""+r+" is not a function");return c.FunctionWrapper.apply(r,n(e,t,this.args))}},{key:"visit",value:function(e){return e.visitFunctionCall(this)}}]),t}(l);t.FunctionCall=O,Object.defineProperty(O,"parameters",{get:function(){return[[l],[p.List]]}});var D=function(e){function t(e,r,n){o(this,t),u.assert.argumentTypes(e,l,r,u.assert.type.string,n,u.assert.type.string),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.source=r,this.location=n,this.ast=e}return s(t,e),a(t,[{key:"eval",value:function(e,t){return this.ast.eval(e,t)}},{key:"isAssignable",get:function(){return this.ast.isAssignable}},{key:"assign",value:function(e,t,r){return this.ast.assign(e,t,r)}},{key:"visit",value:function(e){return this.ast.visit(e)}},{key:"toString",value:function(){return u.assert.returnType(""+this.source+" in "+this.location,u.assert.type.string)}}]),t}(l);t.ASTWithSource=D,Object.defineProperty(D,"parameters",{get:function(){return[[l],[u.assert.type.string],[u.assert.type.string]]}});var j=function Y(e,t,r,n){o(this,Y),u.assert.argumentTypes(e,u.assert.type.string,t,u.assert.type["boolean"],r,u.assert.type.string,n,D),this.key=e,this.keyIsVar=t,this.name=r,this.expression=n};t.TemplateBinding=j,Object.defineProperty(j,"parameters",{get:function(){return[[u.assert.type.string],[u.assert.type["boolean"]],[u.assert.type.string],[D]]}});var C=function(){function e(){o(this,e)}return a(e,[{key:"visitAccessMember",value:function(e){u.assert.argumentTypes(e,m)}},{key:"visitAssignment",value:function(e){u.assert.argumentTypes(e,M)}},{key:"visitBinary",value:function(e){u.assert.argumentTypes(e,k)}},{key:"visitChain",value:function(e){u.assert.argumentTypes(e,d)}},{key:"visitConditional",value:function(e){u.assert.argumentTypes(e,y)}},{key:"visitPipe",value:function(e){u.assert.argumentTypes(e,v)}},{key:"visitFunctionCall",value:function(e){u.assert.argumentTypes(e,O)}},{key:"visitImplicitReceiver",value:function(e){u.assert.argumentTypes(e,h)}},{key:"visitKeyedAccess",value:function(e){u.assert.argumentTypes(e,g)}},{key:"visitLiteralArray",value:function(e){u.assert.argumentTypes(e,b)}},{key:"visitLiteralMap",value:function(e){u.assert.argumentTypes(e,w)}},{key:"visitLiteralPrimitive",value:function(e){u.assert.argumentTypes(e,_)}},{key:"visitMethodCall",value:function(e){u.assert.argumentTypes(e,P)}},{key:"visitPrefixNot",value:function(e){u.assert.argumentTypes(e,L)}}]),e}();t.AstVisitor=C,Object.defineProperty(C.prototype.visitAccessMember,"parameters",{get:function(){return[[m]]}}),Object.defineProperty(C.prototype.visitAssignment,"parameters",{get:function(){return[[M]]}}),Object.defineProperty(C.prototype.visitBinary,"parameters",{get:function(){return[[k]]}}),Object.defineProperty(C.prototype.visitChain,"parameters",{get:function(){return[[d]]}}),Object.defineProperty(C.prototype.visitConditional,"parameters",{get:function(){return[[y]]}}),Object.defineProperty(C.prototype.visitPipe,"parameters",{get:function(){return[[v]]}}),Object.defineProperty(C.prototype.visitFunctionCall,"parameters",{get:function(){return[[O]]}}),Object.defineProperty(C.prototype.visitImplicitReceiver,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(C.prototype.visitKeyedAccess,"parameters",{get:function(){return[[g]]}}),Object.defineProperty(C.prototype.visitLiteralArray,"parameters",{get:function(){return[[b]]}}),Object.defineProperty(C.prototype.visitLiteralMap,"parameters",{get:function(){return[[w]]}}),Object.defineProperty(C.prototype.visitLiteralPrimitive,"parameters",{get:function(){return[[_]]}}),Object.defineProperty(C.prototype.visitMethodCall,"parameters",{get:function(){return[[P]]}}),Object.defineProperty(C.prototype.visitPrefixNot,"parameters",{get:function(){return[[L]]}});var E=function(){function e(){o(this,e)}return a(e,[{key:"visitImplicitReceiver",value:function(e){return u.assert.argumentTypes(e,h),new h}},{key:"visitInterpolation",value:function(e){return u.assert.argumentTypes(e,T),new T(e.strings,this.visitAll(e.expressions))}},{key:"visitLiteralPrimitive",value:function(e){return u.assert.argumentTypes(e,_),new _(e.value)}},{key:"visitAccessMember",value:function(e){return u.assert.argumentTypes(e,m),new m(e.receiver.visit(this),e.name,e.getter,e.setter)}},{key:"visitMethodCall",value:function(e){return u.assert.argumentTypes(e,P),new P(e.receiver.visit(this),e.name,e.fn,this.visitAll(e.args))}},{key:"visitFunctionCall",value:function(e){return u.assert.argumentTypes(e,O),new O(e.target.visit(this),this.visitAll(e.args))}},{key:"visitLiteralArray",value:function(e){return u.assert.argumentTypes(e,b),new b(this.visitAll(e.expressions))}},{key:"visitLiteralMap",value:function(e){return u.assert.argumentTypes(e,w),new w(e.keys,this.visitAll(e.values))}},{key:"visitBinary",value:function(e){return u.assert.argumentTypes(e,k),new k(e.operation,e.left.visit(this),e.right.visit(this))}},{key:"visitPrefixNot",value:function(e){return u.assert.argumentTypes(e,L),new L(e.expression.visit(this))}},{key:"visitConditional",value:function(e){return u.assert.argumentTypes(e,y),new y(e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}},{key:"visitPipe",value:function(e){return u.assert.argumentTypes(e,v),new v(e.exp.visit(this),e.name,this.visitAll(e.args),e.inBinding)}},{key:"visitKeyedAccess",value:function(e){return u.assert.argumentTypes(e,g),new g(e.obj.visit(this),e.key.visit(this))}},{key:"visitAll",value:function(e){u.assert.argumentTypes(e,p.List);for(var t=p.ListWrapper.createFixedSize(e.length),r=0;r<e.length;++r)t[r]=e[r].visit(this);return t}}]),e}();t.AstTransformer=E,Object.defineProperty(E.prototype.visitImplicitReceiver,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(E.prototype.visitInterpolation,"parameters",{get:function(){return[[T]]}}),Object.defineProperty(E.prototype.visitLiteralPrimitive,"parameters",{get:function(){return[[_]]}}),Object.defineProperty(E.prototype.visitAccessMember,"parameters",{get:function(){return[[m]]}}),Object.defineProperty(E.prototype.visitMethodCall,"parameters",{get:function(){return[[P]]}}),Object.defineProperty(E.prototype.visitFunctionCall,"parameters",{get:function(){return[[O]]}}),Object.defineProperty(E.prototype.visitLiteralArray,"parameters",{get:function(){return[[b]]}}),Object.defineProperty(E.prototype.visitLiteralMap,"parameters",{get:function(){return[[w]]}}),Object.defineProperty(E.prototype.visitBinary,"parameters",{get:function(){return[[k]]}}),Object.defineProperty(E.prototype.visitPrefixNot,"parameters",{get:function(){return[[L]]}}),Object.defineProperty(E.prototype.visitConditional,"parameters",{get:function(){return[[y]]}}),Object.defineProperty(E.prototype.visitPipe,"parameters",{get:function(){return[[v]]}}),Object.defineProperty(E.prototype.visitKeyedAccess,"parameters",{get:function(){return[[g]]}}),Object.defineProperty(E.prototype.visitAll,"parameters",{get:function(){return[[p.List]]}});var S=[[],[0],[0,0],[0,0,0],[0,0,0,0],[0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];Object.defineProperty(n,"parameters",{get:function(){return[[],[],[p.List]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(4),a=r(2),u=r(27),c=r(7),p=r(46),l=function(){function e(t){n(this,e),this.config=t}return i(e,[{key:"get",value:function(e,t,r){var n=this.config[e];if(a.isBlank(n))throw new a.BaseException("Cannot find a pipe for type '"+e+"' object '"+t+"'");var i=o.ListWrapper.find(n,function(e){return e.supports(t)});if(a.isBlank(i))throw new a.BaseException("Cannot find a pipe for type '"+e+"' object '"+t+"'");return s.assert.returnType(i.create(r),u.Pipe)}}]),e}();t.PipeRegistry=l,Object.defineProperty(l,"annotations",{get:function(){return[new c.Injectable]}}),Object.defineProperty(l.prototype.get,"parameters",{get:function(){return[[s.assert.type.string],[],[p.ChangeDetectorRef]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(8),u=r(2),c=r(15),p=(n(c),r(53)),l=function(){function e(t,r){i(this,e),this._view=t,this._boundElementIndex=r}return s(e,[{key:"domElement",get:function(){var e=o.assert.type(this._view.render,p.DirectDomViewRef);return e.delegate.boundElements[this._boundElementIndex]}},{key:"getAttribute",value:function(e){return o.assert.argumentTypes(e,o.assert.type.string),u.normalizeBlank(a.DOM.getAttribute(this.domElement,e))}}]),e}();t.NgElement=l,Object.defineProperty(l.prototype.getAttribute,"parameters",{get:function(){return[[o.assert.type.string]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(7),u=r(4),c=r(20),p=n(c),l=r(2),f=r(50),h=r(15),d=n(h),y=r(11),m="ViewFactory.viewPoolCapacity";t.VIEW_POOL_CAPACITY=m;var g=function(){function e(t,r){i(this,e),o.assert.argumentTypes(t,o.assert.type.any,r,y.Renderer),this._poolCapacityPerProtoView=t,this._pooledViewsPerProtoView=u.MapWrapper.create(),this._renderer=r}return s(e,[{key:"getView",value:function(e){o.assert.argumentTypes(e,d.AppProtoView);var t=u.MapWrapper.get(this._pooledViewsPerProtoView,e);return l.isPresent(t)&&t.length>0?o.assert.returnType(u.ListWrapper.removeLast(t),d.AppView):o.assert.returnType(this._createView(e),d.AppView)}},{key:"returnView",value:function(e){if(o.assert.argumentTypes(e,d.AppView),e.hydrated())throw new l.BaseException("Only dehydrated Views can be put back into the pool!");var t=e.proto,r=u.MapWrapper.get(this._pooledViewsPerProtoView,t);l.isBlank(r)&&(r=[],u.MapWrapper.set(this._pooledViewsPerProtoView,t,r)),r.length<this._poolCapacityPerProtoView&&u.ListWrapper.push(r,e)}},{key:"_createView",value:function(e){o.assert.argumentTypes(e,d.AppProtoView);for(var t=new d.AppView(this._renderer,this,e,e.protoLocals),r=e.protoChangeDetector.instantiate(t,e.bindings,e.getVariableBindings(),e.getdirectiveRecords()),n=e.elementBinders,i=u.ListWrapper.createFixedSize(n.length),s=[],a=u.ListWrapper.createFixedSize(n.length),c=u.ListWrapper.createFixedSize(n.length),h=0;h<n.length;h++){var y=n[h],m=null,g=y.protoElementInjector;if(l.isPresent(g))if(l.isPresent(g.parent)){var v=i[g.parent.index];m=g.instantiate(v)}else m=g.instantiate(null),u.ListWrapper.push(s,m);i[h]=m;var _=null;if(y.hasStaticComponent()){var b=this._createView(y.nestedProtoView);_=b.changeDetector,r.addShadowDomChild(_),c[h]=b}l.isPresent(m)&&(a[h]=new p.PreBuiltObjects(t,new f.NgElement(t,h),_))}return t.init(r,i,s,a,c),o.assert.returnType(t,d.AppView)}}]),e}();t.ViewFactory=g,Object.defineProperty(g,"annotations",{get:function(){return[new a.Injectable]}}),Object.defineProperty(g,"parameters",{get:function(){return[[new a.Inject(m)],[y.Renderer]]}}),Object.defineProperty(g.prototype.getView,"parameters",{get:function(){return[[d.AppProtoView]]}}),Object.defineProperty(g.prototype.returnView,"parameters",{get:function(){return[[d.AppView]]}}),Object.defineProperty(g.prototype._createView,"parameters",{get:function(){return[[d.AppProtoView]]}})},function(e,t,r){"use strict";var n=function v(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:v(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(2),c=r(9),p=r(4),l=r(70),f="VALID";t.VALID=f;var h="INVALID";t.INVALID=h;var d=function(){function e(t){s(this,e),a.assert.argumentTypes(t,Function),this.validator=t,this._pristine=!0}return o(e,[{key:"value",get:function(){return a.assert.returnType(this._value,a.assert.type.any)}},{key:"status",get:function(){return a.assert.returnType(this._status,a.assert.type.string)}},{key:"valid",get:function(){return a.assert.returnType(this._status===f,a.assert.type["boolean"])}},{key:"errors",get:function(){return a.assert.returnType(this._errors,p.StringMap)}},{key:"pristine",get:function(){return a.assert.returnType(this._pristine,a.assert.type["boolean"])}},{key:"dirty",get:function(){return a.assert.returnType(!this.pristine,a.assert.type["boolean"])}},{key:"valueChanges",get:function(){return a.assert.returnType(this._valueChanges,c.Observable)}},{key:"setParent",value:function(e){this._parent=e}},{key:"_updateParent",value:function(){u.isPresent(this._parent)&&this._parent._updateValue()}}]),e}();t.AbstractControl=d,Object.defineProperty(d,"parameters",{get:function(){return[[Function]]}});var y=function(e){function t(e){var r=void 0===arguments[1]?l.Validators.nullValidator:arguments[1];s(this,t),a.assert.argumentTypes(e,a.assert.type.any,r,Function),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,r),this._setValueErrorsStatus(e),this._valueChanges=new c.EventEmitter}return i(t,e),o(t,[{key:"updateValue",value:function(e){a.assert.argumentTypes(e,a.assert.type.any),this._setValueErrorsStatus(e),this._pristine=!1,c.ObservableWrapper.callNext(this._valueChanges,this._value),this._updateParent()}},{key:"_setValueErrorsStatus",value:function(e){this._value=e,this._errors=this.validator(this),this._status=u.isPresent(this._errors)?h:f}}]),t}(d);t.Control=y,Object.defineProperty(y,"parameters",{get:function(){return[[a.assert.type.any],[Function]]}}),Object.defineProperty(y.prototype.updateValue,"parameters",{get:function(){return[[a.assert.type.any]]}});var m=function(e){function t(e){var r=void 0===arguments[1]?null:arguments[1],i=void 0===arguments[2]?l.Validators.group:arguments[2];s(this,t),a.assert.argumentTypes(e,p.StringMap,r,p.StringMap,i,Function),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,i),this.controls=e,this._optionals=u.isPresent(r)?r:{},this._valueChanges=new c.EventEmitter,this._setParentForControls(),this._setValueErrorsStatus()}return i(t,e),o(t,[{key:"include",value:function(e){a.assert.argumentTypes(e,a.assert.type.string),p.StringMapWrapper.set(this._optionals,e,!0),this._updateValue()}},{key:"exclude",value:function(e){a.assert.argumentTypes(e,a.assert.type.string),p.StringMapWrapper.set(this._optionals,e,!1),this._updateValue()}},{key:"contains",value:function(e){a.assert.argumentTypes(e,a.assert.type.string);var t=p.StringMapWrapper.contains(this.controls,e);return a.assert.returnType(t&&this._included(e),a.assert.type["boolean"])}},{key:"_setParentForControls",value:function(){var e=this;p.StringMapWrapper.forEach(this.controls,function(t,r){t.setParent(e)})}},{key:"_updateValue",value:function(){this._setValueErrorsStatus(),this._pristine=!1,c.ObservableWrapper.callNext(this._valueChanges,this._value),this._updateParent()}},{key:"_setValueErrorsStatus",value:function(){this._value=this._reduceValue(),this._errors=this.validator(this),this._status=u.isPresent(this._errors)?h:f}},{key:"_reduceValue",value:function(){return this._reduceChildren({},function(e,t,r){return e[r]=t.value,e})}},{key:"_reduceChildren",value:function(e,t){var r=this;a.assert.argumentTypes(e,a.assert.type.any,t,Function);var n=e;return p.StringMapWrapper.forEach(this.controls,function(e,i){r._included(i)&&(n=t(n,e,i))}),n}},{key:"_included",value:function(e){a.assert.argumentTypes(e,a.assert.type.string);var t=p.StringMapWrapper.contains(this._optionals,e);return a.assert.returnType(!t||p.StringMapWrapper.get(this._optionals,e),a.assert.type["boolean"])}}]),t}(d);t.ControlGroup=m,Object.defineProperty(m,"parameters",{get:function(){return[[p.StringMap],[p.StringMap],[Function]]}}),Object.defineProperty(m.prototype.include,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(m.prototype.exclude,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(m.prototype.contains,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(m.prototype._reduceChildren,"parameters",{get:function(){return[[a.assert.type.any],[Function]]}}),Object.defineProperty(m.prototype._included,"parameters",{get:function(){return[[a.assert.type.string]]}});var g=function(e){function t(e){var r=void 0===arguments[1]?l.Validators.array:arguments[1];s(this,t),a.assert.argumentTypes(e,a.assert.genericType(p.List,d),r,Function),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,r),this.controls=e,this._valueChanges=new c.EventEmitter,this._setParentForControls(),this._setValueErrorsStatus()}return i(t,e),o(t,[{key:"at",value:function(e){return a.assert.argumentTypes(e,a.assert.type.number),a.assert.returnType(this.controls[e],d)}},{key:"push",value:function(e){a.assert.argumentTypes(e,d),p.ListWrapper.push(this.controls,e),e.setParent(this),this._updateValue()}},{key:"insert",value:function(e,t){a.assert.argumentTypes(e,a.assert.type.number,t,d),p.ListWrapper.insert(this.controls,e,t),t.setParent(this),this._updateValue()}},{key:"removeAt",value:function(e){a.assert.argumentTypes(e,a.assert.type.number),p.ListWrapper.removeAt(this.controls,e),this._updateValue()}},{key:"length",get:function(){return a.assert.returnType(this.controls.length,a.assert.type.number)}},{key:"_updateValue",value:function(){this._setValueErrorsStatus(),this._pristine=!1,c.ObservableWrapper.callNext(this._valueChanges,this._value),this._updateParent()}},{key:"_setParentForControls",value:function(){var e=this;p.ListWrapper.forEach(this.controls,function(t){t.setParent(e)})}},{key:"_setValueErrorsStatus",value:function(){this._value=p.ListWrapper.map(this.controls,function(e){return e.value}),this._errors=this.validator(this),this._status=u.isPresent(this._errors)?h:f}}]),t}(d);t.ControlArray=g,Object.defineProperty(g,"parameters",{get:function(){return[[a.assert.genericType(p.List,d)],[Function]]}}),Object.defineProperty(g.prototype.at,"parameters",{
get:function(){return[[a.assert.type.number]]}}),Object.defineProperty(g.prototype.push,"parameters",{get:function(){return[[d]]}}),Object.defineProperty(g.prototype.insert,"parameters",{get:function(){return[[a.assert.type.number],[d]]}}),Object.defineProperty(g.prototype.removeAt,"parameters",{get:function(){return[[a.assert.type.number]]}})},function(e,t,r){"use strict";function n(e){return h.assert.argumentTypes(e,_.ViewContainerRef),i(e.view).getOrCreateViewContainer(e.elementIndex)}function i(e){return h.assert.argumentTypes(e,C),g.isPresent(e)?e.delegate:null}function s(e){return h.assert.argumentTypes(e,j),g.isPresent(e)?e.delegate:null}function o(e){return h.assert.argumentTypes(e,b.RenderView),new C(e)}function a(e){var t=void 0===arguments[1]?null:arguments[1];return g.isBlank(t)&&(t=[]),m.ListWrapper.push(t,o(e)),m.ListWrapper.forEach(e.componentChildViews,function(e){g.isPresent(e)&&a(e,t)}),t}var u=function(e){return e&&e.__esModule?e:{"default":e}},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=function S(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:S(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},f=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var h=r(1),d=r(7),y=r(9),m=r(4),g=r(2),v=r(11),_=u(v),b=r(31),w=r(39),T=r(76),k=r(103),L=r(101),M=r(25),P=r(74),O=r(8),D=r(75);Object.defineProperty(n,"parameters",{get:function(){return[[_.ViewContainerRef]]}}),Object.defineProperty(i,"parameters",{get:function(){return[[C]]}}),Object.defineProperty(s,"parameters",{get:function(){return[[j]]}}),Object.defineProperty(o,"parameters",{get:function(){return[[b.RenderView]]}});var j=function(e){function t(e){p(this,t),h.assert.argumentTypes(e,w.RenderProtoView),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.delegate=e}return f(t,e),t}(_.ProtoViewRef);t.DirectDomProtoViewRef=j,Object.defineProperty(j,"parameters",{get:function(){return[[w.RenderProtoView]]}});var C=function(e){function t(e){p(this,t),h.assert.argumentTypes(e,b.RenderView),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.delegate=e}return f(t,e),t}(_.ViewRef);t.DirectDomViewRef=C,Object.defineProperty(C,"parameters",{get:function(){return[[b.RenderView]]}});var E=function(e){function t(e,r,n,i){p(this,t),h.assert.argumentTypes(e,L.Compiler,r,T.ViewFactory,n,k.RenderViewHydrator,i,M.ShadowDomStrategy),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._compiler=e,this._viewFactory=r,this._viewHydrator=n,this._shadowDomStrategy=i}return f(t,e),c(t,[{key:"createHostProtoView",value:function(e){var t=O.DOM.createElement("div"),r=new P.ProtoViewBuilder(t),n=r.bindElement(t,"root element");return n.setComponentId(e),n.bindDirective(0),this._shadowDomStrategy.processElement(null,e,t),h.assert.returnType(y.PromiseWrapper.resolve(r.build()),h.assert.genericType(y.Promise,_.ProtoViewDto))}},{key:"createImperativeComponentProtoView",value:function(e){var t=new P.ProtoViewBuilder(null);return t.setImperativeRendererId(e),h.assert.returnType(y.PromiseWrapper.resolve(t.build()),h.assert.genericType(y.Promise,_.ProtoViewDto))}},{key:"compile",value:function(e){return h.assert.argumentTypes(e,_.ViewDefinition),h.assert.returnType(this._compiler.compile(e),h.assert.genericType(y.Promise,_.ProtoViewDto))}},{key:"mergeChildComponentProtoViews",value:function(e,t){h.assert.argumentTypes(e,_.ProtoViewRef,t,h.assert.genericType(m.List,_.ProtoViewRef)),s(e).mergeChildComponentProtoViews(m.ListWrapper.map(t,s))}},{key:"createViewInContainer",value:function(e,t,r){h.assert.argumentTypes(e,_.ViewContainerRef,t,h.assert.type.number,r,_.ProtoViewRef);var i=this._viewFactory.getView(s(r)),o=n(e);return this._viewHydrator.hydrateViewInViewContainer(o,i),o.insert(i,t),h.assert.returnType(a(i),h.assert.genericType(m.List,_.ViewRef))}},{key:"destroyViewInContainer",value:function(e,t){h.assert.argumentTypes(e,_.ViewContainerRef,t,h.assert.type.number);var r=n(e),i=r.detach(t);this._viewHydrator.dehydrateViewInViewContainer(r,i),this._viewFactory.returnView(i)}},{key:"insertViewIntoContainer",value:function(e,t,r){var s=void 0===arguments[1]?-1:arguments[1];h.assert.argumentTypes(e,_.ViewContainerRef,s,h.assert.type.any,r,_.ViewRef),n(e).insert(i(r),s)}},{key:"detachViewFromContainer",value:function(e,t){h.assert.argumentTypes(e,_.ViewContainerRef,t,h.assert.type.number),n(e).detach(t)}},{key:"createDynamicComponentView",value:function(e,t,r){h.assert.argumentTypes(e,_.ViewRef,t,h.assert.type.number,r,_.ProtoViewRef);var n=i(e),o=this._viewFactory.getView(s(r));return this._viewHydrator.hydrateDynamicComponentView(n,t,o),h.assert.returnType(a(o),h.assert.genericType(m.List,_.ViewRef))}},{key:"destroyDynamicComponentView",value:function(e,t){throw h.assert.argumentTypes(e,_.ViewRef,t,h.assert.type.number),new g.BaseException("Not supported yet")}},{key:"createInPlaceHostView",value:function(e,t,r){h.assert.argumentTypes(e,_.ViewRef,t,h.assert.type.any,r,_.ProtoViewRef);var n=i(e),o=this._viewFactory.createInPlaceHostView(t,s(r));return this._viewHydrator.hydrateInPlaceHostView(n,o),h.assert.returnType(a(o),h.assert.genericType(m.List,_.ViewRef))}},{key:"destroyInPlaceHostView",value:function(e,t){h.assert.argumentTypes(e,_.ViewRef,t,_.ViewRef);var r=i(e),n=i(t);this._viewHydrator.dehydrateInPlaceHostView(r,n)}},{key:"setImperativeComponentRootNodes",value:function(e,t,r){h.assert.argumentTypes(e,_.ViewRef,t,h.assert.type.number,r,m.List);var n=i(e),s=n.boundElements[t],o=n.componentChildViews[t];if(g.isBlank(o))throw new g.BaseException("There is no componentChildView at index "+t);if(g.isBlank(o.proto.imperativeRendererId))throw new g.BaseException("This component view has no imperative renderer");D.ViewContainer.removeViewNodes(o),o.rootNodes=r,this._shadowDomStrategy.attachTemplate(s,o)}},{key:"setElementProperty",value:function(e,t,r,n){h.assert.argumentTypes(e,_.ViewRef,t,h.assert.type.number,r,h.assert.type.string,n,h.assert.type.any),i(e).setElementProperty(t,r,n)}},{key:"setText",value:function(e,t,r){h.assert.argumentTypes(e,_.ViewRef,t,h.assert.type.number,r,h.assert.type.string),i(e).setText(t,r)}},{key:"setEventDispatcher",value:function(e,t){h.assert.argumentTypes(e,_.ViewRef,t,h.assert.type.any),i(e).setEventDispatcher(t)}}]),t}(_.Renderer);t.DirectDomRenderer=E,Object.defineProperty(E,"annotations",{get:function(){return[new d.Injectable]}}),Object.defineProperty(E,"parameters",{get:function(){return[[L.Compiler],[T.ViewFactory],[k.RenderViewHydrator],[M.ShadowDomStrategy]]}}),Object.defineProperty(E.prototype.compile,"parameters",{get:function(){return[[_.ViewDefinition]]}}),Object.defineProperty(E.prototype.mergeChildComponentProtoViews,"parameters",{get:function(){return[[_.ProtoViewRef],[h.assert.genericType(m.List,_.ProtoViewRef)]]}}),Object.defineProperty(E.prototype.createViewInContainer,"parameters",{get:function(){return[[_.ViewContainerRef],[h.assert.type.number],[_.ProtoViewRef]]}}),Object.defineProperty(E.prototype.destroyViewInContainer,"parameters",{get:function(){return[[_.ViewContainerRef],[h.assert.type.number]]}}),Object.defineProperty(E.prototype.insertViewIntoContainer,"parameters",{get:function(){return[[_.ViewContainerRef],[],[_.ViewRef]]}}),Object.defineProperty(E.prototype.detachViewFromContainer,"parameters",{get:function(){return[[_.ViewContainerRef],[h.assert.type.number]]}}),Object.defineProperty(E.prototype.createDynamicComponentView,"parameters",{get:function(){return[[_.ViewRef],[h.assert.type.number],[_.ProtoViewRef]]}}),Object.defineProperty(E.prototype.destroyDynamicComponentView,"parameters",{get:function(){return[[_.ViewRef],[h.assert.type.number]]}}),Object.defineProperty(E.prototype.createInPlaceHostView,"parameters",{get:function(){return[[_.ViewRef],[],[_.ProtoViewRef]]}}),Object.defineProperty(E.prototype.destroyInPlaceHostView,"parameters",{get:function(){return[[_.ViewRef],[_.ViewRef]]}}),Object.defineProperty(E.prototype.setImperativeComponentRootNodes,"parameters",{get:function(){return[[_.ViewRef],[h.assert.type.number],[m.List]]}}),Object.defineProperty(E.prototype.setElementProperty,"parameters",{get:function(){return[[_.ViewRef],[h.assert.type.number],[h.assert.type.string],[h.assert.type.any]]}}),Object.defineProperty(E.prototype.setText,"parameters",{get:function(){return[[_.ViewRef],[h.assert.type.number],[h.assert.type.string]]}}),Object.defineProperty(E.prototype.setEventDispatcher,"parameters",{get:function(){return[[_.ViewRef],[h.assert.type.any]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(9),a=function(){function e(){n(this,e)}return i(e,[{key:"get",value:function(e){return s.assert.argumentTypes(e,s.assert.type.string),s.assert.returnType(null,s.assert.genericType(o.Promise,s.assert.type.string))}}]),e}();t.XHR=a,Object.defineProperty(a.prototype.get,"parameters",{get:function(){return[[s.assert.type.string]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(298),a=n(o),u=new a["default"]("https://hacker-news.firebaseio.com/v0/"),c=function(){function e(){i(this,e),this.itemStore={},this.userStore={}}return s(e,[{key:"itemStore",value:void 0,enumerable:!0},{key:"userStore",value:void 0,enumerable:!0},{key:"topStories",value:void 0,enumerable:!0},{key:"fetchTopStories",value:function(){var e=this;return new Promise(function(t){e.topStoriesRef().once("value",function(r){e.topStories=r.val().splice(0,20),t(e.topStories)})})}},{key:"fetchItems",value:function(){var e=this,t=void 0===arguments[0]?[]:arguments[0];return new Promise(function(r){var n=[];t.forEach(function(t){n.push(new Promise(function(r){e.itemRef(t).on("value",function(n){e.itemStore[t]=n.val(),r(e.itemStore[t])})}))}),Promise.all(n).then(r)})}},{key:"fetchItem",value:function(e){return e?this.fetchItems([e]).then(function(e){return e[0]}):Promise.reject()}},{key:"fetchUser",value:function(e){var t=this;return e?new Promise(function(r){t.userRef(e).on("value",function(n){t.userStore[e]=n.val(),r(t.userStore[e])})}):Promise.reject()}},{key:"topStoriesRef",value:function(){return u.child("topstories/")}},{key:"itemRef",value:function(e){return u.child("item/"+e)}},{key:"userRef",value:function(e){return u.child("user/"+e)}}]),e}();t.HNApi=c},function(e,t,r){"use strict";function n(){var e={},t=window.location.search.substring(1);return t.split("&").forEach(function(t){var r=t.split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}),e}var i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){i(this,e),this.queryObj=n(),this.itemId=this.queryObj.itemId,this.userId=this.queryObj.userId}return s(e,[{key:"urlForUser",value:function(e){return"index.html?userId="+e}},{key:"urlForItem",value:function(e){return"index.html?itemId="+e}}]),e}(),a=new o;t.router=a},function(e,t,r){var n=r(19)("iterator"),i=!1;try{var s=[7][n]();s["return"]=function(){i=!0},Array.from(s,function(){throw 2})}catch(o){}e.exports=function(e){if(!i)return!1;var t=!1;try{var r=[7],s=r[n]();s.next=function(){t=!0},r[n]=function(){return s},e(r)}catch(o){}return t}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(r?t:this).replace(e,n)}}},function(e,t,r){"use strict";var n=r(5);e.exports=function(e){return function(t){var r,i,s=String(n.assertDefined(this)),o=n.toInteger(t),a=s.length;return 0>o||o>=a?e?"":void 0:(r=s.charCodeAt(o),55296>r||r>56319||o+1===a||(i=s.charCodeAt(o+1))<56320||i>57343?e?s.charAt(o):r:e?s.slice(o,o+2):(r-55296<<10)+(i-56320)+65536)}}},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(33),u=function(e){function t(r,i){n(this,t),o.assert.argumentTypes(r,a.ProtoRecord,i,o.assert.type.any);var s=new e;return s.__proto__=t.prototype,s.message="Expression '"+r.expressionAsString+"' has changed after it was checked. "+("Previous value: '"+i.previousValue+"'. Current value: '"+i.currentValue+"'"),s}return s(t,e),i(t,[{key:"toString",value:function(){return o.assert.returnType(this.message,o.assert.type.string)}}]),t}(Error);t.ExpressionChangedAfterItHasBeenChecked=u,Object.defineProperty(u,"parameters",{get:function(){return[[a.ProtoRecord],[o.assert.type.any]]}});var c=function(e){function t(r,i){n(this,t),o.assert.argumentTypes(r,a.ProtoRecord,i,o.assert.type.any);var s=new e;return s.__proto__=t.prototype,s.originalException=i,s.location=r.expressionAsString,s.message=""+s.originalException+" in ["+s.location+"]",s}return s(t,e),i(t,[{key:"toString",value:function(){return o.assert.returnType(this.message,o.assert.type.string)}}]),t}(Error);t.ChangeDetectionError=c,Object.defineProperty(c,"parameters",{get:function(){return[[a.ProtoRecord],[o.assert.type.any]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),s=function o(e){var t=e.templateUrl,r=e.template,i=e.directives,s=e.renderer;n(this,o),this.templateUrl=t,this.template=r,this.directives=i,this.renderer=s};t.View=s,Object.defineProperty(s,"annotations",{get:function(){return[new i.CONST]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function p(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:p(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=r(7),u=function(e){function t(){n(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return s(t,e),t}(a.DependencyAnnotation);t.Parent=u,Object.defineProperty(u,"annotations",{get:function(){return[new o.CONST]}});var c=function(e){function t(){n(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return s(t,e),t}(a.DependencyAnnotation);t.Ancestor=c,Object.defineProperty(c,"annotations",{get:function(){return[new o.CONST]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(7),u=r(2),c=r(9),p=r(4),l=r(64),f=r(12),h=r(15),d=r(20),y=r(97),m=r(61),g=r(94),v=r(96),_=r(40),b=r(11),w=n(b),T=function(){function e(){i(this,e),this._cache=p.MapWrapper.create()}return s(e,[{key:"set",value:function(e,t){o.assert.argumentTypes(e,u.Type,t,h.AppProtoView),p.MapWrapper.set(this._cache,e,t)}},{key:"get",value:function(e){o.assert.argumentTypes(e,u.Type);var t=p.MapWrapper.get(this._cache,e);return o.assert.returnType(u.normalizeBlank(t),h.AppProtoView)}},{key:"clear",value:function(){p.MapWrapper.clear(this._cache)}}]),e}();t.CompilerCache=T,Object.defineProperty(T,"annotations",{get:function(){return[new a.Injectable]}}),Object.defineProperty(T.prototype.set,"parameters",{get:function(){return[[u.Type],[h.AppProtoView]]}}),Object.defineProperty(T.prototype.get,"parameters",{get:function(){return[[u.Type]]}});var k=function(){function e(t,r,n,s,a,u,c){i(this,e),o.assert.argumentTypes(t,l.DirectiveMetadataReader,r,T,n,y.TemplateResolver,s,g.ComponentUrlMapper,a,_.UrlResolver,u,w.Renderer,c,v.ProtoViewFactory),this._reader=t,this._compilerCache=r,this._compiling=p.MapWrapper.create(),this._templateResolver=n,this._componentUrlMapper=s,this._urlResolver=a,this._appUrl=a.resolve(null,"./"),this._renderer=u,this._protoViewFactory=c}return s(e,[{key:"_bindDirective",value:function(e){if(e instanceof d.DirectiveBinding)return e;var t=this._reader.read(e);return d.DirectiveBinding.createFromType(t.type,t.annotation)}},{key:"compileInHost",value:function(e){var t=this;return o.assert.argumentTypes(e,o.assert.type.any),o.assert.returnType(this._renderer.createHostProtoView("host").then(function(r){return t._compileNestedProtoViews(null,r,[t._bindDirective(e)],!0)}),o.assert.genericType(c.Promise,h.AppProtoView))}},{key:"compile",value:function(e){o.assert.argumentTypes(e,u.Type);var t=this._compile(this._bindDirective(e));return o.assert.returnType(c.PromiseWrapper.isPromise(t)?t:c.PromiseWrapper.resolve(t),o.assert.genericType(c.Promise,h.AppProtoView))}},{key:"_compile",value:function(e){var t=this,r=e.key.token,n=this._compilerCache.get(r);if(u.isPresent(n))return n;var i=p.MapWrapper.get(this._compiling,r);if(u.isPresent(i))return i;var s=this._templateResolver.resolve(r);if(u.isPresent(s.renderer)){var o=[];i=this._renderer.createImperativeComponentProtoView(s.renderer).then(function(r){return t._compileNestedProtoViews(e,r,o,!0)})}else{var o=p.ListWrapper.map(this._flattenDirectives(s),function(e){return t._bindDirective(e)}),a=this._buildRenderTemplate(r,s,o);i=this._renderer.compile(a).then(function(r){return t._compileNestedProtoViews(e,r,o,!0)})}return p.MapWrapper.set(this._compiling,r,i),i}},{key:"_compileNestedProtoViews",value:function(e,t,r,n){var i=this,s=[],o=this._protoViewFactory.createProtoView(e,t,r);if(n&&u.isPresent(e)){var a=e.key.token;this._compilerCache.set(a,o),p.MapWrapper["delete"](this._compiling,a)}var l=0;p.ListWrapper.forEach(o.elementBinders,function(n){var a=n.componentDirective,h=t.elementBinders[l].nestedProtoView,d=function(e){n.nestedProtoView=e,e.parentProtoView=u.isPresent(a)?null:o},y=null;u.isPresent(a)?a.annotation instanceof f.DynamicComponent||(y=i._compile(a)):u.isPresent(h)&&(y=i._compileNestedProtoViews(e,h,r,!1)),c.PromiseWrapper.isPromise(y)?p.ListWrapper.push(s,y.then(d)):u.isPresent(y)&&d(y),l++});var h=function(e){var t=[];return p.ListWrapper.forEach(o.elementBinders,function(e){if(u.isPresent(e.componentDirective)){var r=e.nestedProtoView;p.ListWrapper.push(t,u.isPresent(r)?r.render:null)}}),i._renderer.mergeChildComponentProtoViews(o.render,t),o};return s.length>0?c.PromiseWrapper.all(s).then(h):h(null)}},{key:"_buildRenderTemplate",value:function(t,r,n){var i=this._urlResolver.resolve(this._appUrl,this._componentUrlMapper.getUrl(t)),s=null;return s=u.isPresent(r.templateUrl)?this._urlResolver.resolve(i,r.templateUrl):i,new w.ViewDefinition({componentId:u.stringify(t),absUrl:s,template:r.template,directives:p.ListWrapper.map(n,e.buildRenderDirective)})}},{key:"_flattenDirectives",value:function(e){if(o.assert.argumentTypes(e,m.View),u.isBlank(e.directives))return o.assert.returnType([],o.assert.genericType(p.List,u.Type));var t=[];return this._flattenList(e.directives,t),o.assert.returnType(t,o.assert.genericType(p.List,u.Type))}},{key:"_flattenList",value:function(e,t){o.assert.argumentTypes(e,o.assert.genericType(p.List,o.assert.type.any),t,o.assert.genericType(p.List,u.Type));for(var r=0;r<e.length;r++){var n=e[r];p.ListWrapper.isList(n)?this._flattenList(n,t):p.ListWrapper.push(t,n)}}}],[{key:"buildRenderDirective",value:function(e){var t,r=e.annotation,n=!0;r instanceof f.Component||r instanceof f.DynamicComponent?t=w.DirectiveMetadata.COMPONENT_TYPE:r instanceof f.Viewport?t=w.DirectiveMetadata.VIEWPORT_TYPE:r instanceof f.Decorator&&(t=w.DirectiveMetadata.DECORATOR_TYPE,n=r.compileChildren);var i=[],s=[];return p.ListWrapper.forEach(e.dependencies,function(e){u.isPresent(e.propSetterName)&&p.ListWrapper.push(i,e.propSetterName),u.isPresent(e.attributeName)&&p.ListWrapper.push(s,e.attributeName)}),new w.DirectiveMetadata({id:u.stringify(e.key.token),type:t,selector:r.selector,compileChildren:n,hostListeners:u.isPresent(r.hostListeners)?p.MapWrapper.createFromStringMap(r.hostListeners):null,properties:u.isPresent(r.properties)?p.MapWrapper.createFromStringMap(r.properties):null,setters:i,readAttributes:s})}}]),e}();t.Compiler=k,Object.defineProperty(k,"annotations",{get:function(){return[new a.Injectable]}}),Object.defineProperty(k,"parameters",{get:function(){return[[l.DirectiveMetadataReader],[T],[y.TemplateResolver],[g.ComponentUrlMapper],[_.UrlResolver],[w.Renderer],[v.ProtoViewFactory]]}}),Object.defineProperty(k.prototype.compileInHost,"parameters",{get:function(){return[[o.assert.type.any]]}}),Object.defineProperty(k.prototype.compile,"parameters",{get:function(){return[[u.Type]]}}),Object.defineProperty(k.prototype._compile,"parameters",{get:function(){return[[d.DirectiveBinding]]}}),Object.defineProperty(k.prototype._flattenDirectives,"parameters",{get:function(){return[[m.View]]}}),Object.defineProperty(k.prototype._flattenList,"parameters",{get:function(){return[[o.assert.genericType(p.List,o.assert.type.any)],[o.assert.genericType(p.List,u.Type)]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(7),a=r(2),u=r(12),c=r(250),p=r(22),l=function(){function e(){n(this,e)}return i(e,[{key:"read",value:function(e){s.assert.argumentTypes(e,a.Type);var t=p.reflector.annotations(e);if(a.isPresent(t))for(var r=0;r<t.length;r++){var n=t[r];if(n instanceof u.Directive){var i=null;return n instanceof u.Component&&a.isPresent(n.injectables)&&(i=o.Injector.resolve(n.injectables)),s.assert.returnType(new c.DirectiveMetadata(e,n,i),c.DirectiveMetadata)}}throw new a.BaseException("No Directive annotation found on "+a.stringify(e))}}]),e}();t.DirectiveMetadataReader=l,Object.defineProperty(l,"annotations",{get:function(){return[new o.Injectable]}}),Object.defineProperty(l.prototype.read,"parameters",{get:function(){return[[a.Type]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(7),u=r(4),c=r(20),p=n(c),l=r(2),f=r(28),h=n(f),d=r(15),y=n(d),m=r(10),g=r(11),v=n(g),_=r(51),b=function(){function e(t,r){i(this,e),o.assert.argumentTypes(t,v.Renderer,r,_.ViewFactory),this._renderer=t,this._viewFactory=r}return s(e,[{key:"hydrateDynamicComponentView",value:function(e,t,r,n){o.assert.argumentTypes(e,p.ElementRef,t,y.AppView,r,p.DirectiveBinding,n,a.Injector);var i=e.hostView,s=e.boundElementIndex,u=i.proto.elementBinders[s];if(!u.hasDynamicComponent())throw new l.BaseException("There is no dynamic component directive at element "+s);if(l.isPresent(i.componentChildViews[s]))throw new l.BaseException("There already is a bound component at element "+s);var c=i.elementInjectors[s];l.isBlank(n)&&(n=c.getLightDomAppInjector());var f=this._createShadowDomAppInjector(r,n);l.isBlank(f)&&(f=null);var h=c.dynamicallyCreateComponent(r,f);i.componentChildViews[s]=t,i.changeDetector.addShadowDomChild(t.changeDetector);var d=this._renderer.createDynamicComponentView(i.render,s,t.proto.render);this._viewHydrateRecurse(t,d,0,f,c,h,null)}},{key:"dehydrateDynamicComponentView",value:function(e,t){throw o.assert.argumentTypes(e,y.AppView,t,o.assert.type.number),new l.BaseException("Not yet implemented!")}},{key:"hydrateInPlaceHostView",value:function(e,t,r,n){o.assert.argumentTypes(e,p.ElementRef,t,o.assert.type.any,r,y.AppView,n,a.Injector);var i=null;if(l.isPresent(e)){var s=e.hostView.componentChildViews[e.boundElementIndex];i=s.render,s.changeDetector.addChild(r.changeDetector),u.ListWrapper.push(s.imperativeHostViews,r),l.isBlank(n)&&(n=e.injector)}var c=r.proto.elementBinders[0],f=this._createShadowDomAppInjector(c.componentDirective,n),h=this._renderer.createInPlaceHostView(i,t,r.proto.render);this._viewHydrateRecurse(r,h,0,f,null,new Object,null)}},{key:"dehydrateInPlaceHostView",value:function(e,t){o.assert.argumentTypes(e,p.ElementRef,t,y.AppView);var r=null;if(l.isPresent(e)){var n=e.hostView.componentChildViews[e.boundElementIndex];r=n.render,u.ListWrapper.remove(n.imperativeHostViews,t),n.changeDetector.removeChild(t.changeDetector)}var i=t.render;this._viewDehydrateRecurse(t),this._renderer.destroyInPlaceHostView(r,i)}},{key:"hydrateViewInViewContainer",value:function(e,t,r){var n=void 0===arguments[3]?null:arguments[3];if(o.assert.argumentTypes(e,h.ViewContainer,t,o.assert.type.number,r,y.AppView,n,a.Injector),!e.hydrated())throw new l.BaseException("Cannot create views on a dehydrated ViewContainer");l.isBlank(n)&&(n=e.elementInjector.getLightDomAppInjector());var i=this._renderer.createViewInContainer(e.getRender(),t,r.proto.render);e.parentView.changeDetector.addChild(r.changeDetector),this._viewHydrateRecurse(r,i,0,n,e.elementInjector.getHost(),e.parentView.context,e.parentView.locals)}},{key:"dehydrateViewInViewContainer",value:function(e,t,r){o.assert.argumentTypes(e,h.ViewContainer,t,o.assert.type.number,r,y.AppView),r.changeDetector.remove(),this._viewDehydrateRecurse(r),this._renderer.destroyViewInContainer(e.getRender(),t)}},{key:"_viewHydrateRecurse",value:function(e,t,r,n,i,s,c){if(o.assert.argumentTypes(e,y.AppView,t,o.assert.genericType(u.List,v.ViewRef),r,o.assert.type.number,n,a.Injector,i,p.ElementInjector,s,Object,c,m.Locals),e.hydrated())throw new l.BaseException("The view is already hydrated.");e.viewHydrator=this,e.render=t[r++],e.context=s,e.locals.parent=c;for(var f=e.proto.elementBinders,h=0;h<f.length;++h){var d=f[h].componentDirective,g=null;g=l.isPresent(d)?this._createShadowDomAppInjector(d,n):null;var _=e.elementInjectors[h];if(l.isPresent(_)){_.instantiateDirectives(n,i,g,e.preBuiltObjects[h]),this._setUpEventEmitters(e,_,h);var b=_.getExportImplicitName();_.isExportingComponent()?e.locals.set(b,_.getComponent()):_.isExportingElement()&&e.locals.set(b,_.getNgElement().domElement)}f[h].hasStaticComponent()&&(r=this._viewHydrateRecurse(e.componentChildViews[h],t,r,g,_,_.getComponent(),null))}return e.changeDetector.hydrate(e.context,e.locals,e),e.renderer.setEventDispatcher(e.render,e),o.assert.returnType(r,o.assert.type.number)}},{key:"_setUpEventEmitters",value:function(e,t,r){o.assert.argumentTypes(e,y.AppView,t,p.ElementInjector,r,o.assert.type.number);for(var n=t.getEventEmitterAccessors(),i=0;i<n.length;++i)for(var s=n[i],a=t.getDirectiveAtIndex(i),u=0;u<s.length;++u){var c=s[u];c.subscribe(e,r,a)}}},{key:"_viewDehydrateRecurse",value:function(e){o.assert.argumentTypes(e,y.AppView);for(var t=0;t<e.componentChildViews.length;t++){var r=e.componentChildViews[t];if(l.isPresent(r)){this._viewDehydrateRecurse(r);var n=e.proto.elementBinders[t];n.hasDynamicComponent()&&(e.changeDetector.removeShadowDomChild(r.changeDetector),e.componentChildViews[t]=null,this._viewFactory.returnView(r))}}for(var t=0;t<e.imperativeHostViews.length;t++){var i=e.imperativeHostViews[t];this._viewDehydrateRecurse(i),e.changeDetector.removeChild(i.changeDetector),this._viewFactory.returnView(i)}e.imperativeHostViews=[];for(var t=0;t<e.elementInjectors.length;t++)l.isPresent(e.elementInjectors[t])&&e.elementInjectors[t].clearDirectives();if(l.isPresent(e.viewContainers))for(var t=0;t<e.viewContainers.length;t++){var s=e.viewContainers[t];l.isPresent(s)&&this._viewContainerDehydrateRecurse(s)}e.render=null,l.isPresent(e.locals)&&e.locals.clearValues(),e.context=null,e.changeDetector.dehydrate()}},{key:"_createShadowDomAppInjector",value:function(e,t){var r=null,n=e.resolvedInjectables;return r=l.isPresent(n)?t.createChildFromResolved(n):t}},{key:"_viewContainerDehydrateRecurse",value:function(e){o.assert.argumentTypes(e,h.ViewContainer);for(var t=0;t<e.length;t++){var r=e.get(t);r.changeDetector.remove(),this._viewDehydrateRecurse(r)}e.internalClearWithoutRender()}}]),e}();t.AppViewHydrator=b,Object.defineProperty(b,"annotations",{get:function(){return[new a.Injectable]}}),Object.defineProperty(b,"parameters",{get:function(){return[[v.Renderer],[_.ViewFactory]]}}),Object.defineProperty(b.prototype.hydrateDynamicComponentView,"parameters",{get:function(){return[[p.ElementRef],[y.AppView],[p.DirectiveBinding],[a.Injector]]}}),Object.defineProperty(b.prototype.dehydrateDynamicComponentView,"parameters",{get:function(){return[[y.AppView],[o.assert.type.number]]}}),Object.defineProperty(b.prototype.hydrateInPlaceHostView,"parameters",{get:function(){return[[p.ElementRef],[],[y.AppView],[a.Injector]]}}),Object.defineProperty(b.prototype.dehydrateInPlaceHostView,"parameters",{get:function(){return[[p.ElementRef],[y.AppView]]}}),Object.defineProperty(b.prototype.hydrateViewInViewContainer,"parameters",{get:function(){return[[h.ViewContainer],[o.assert.type.number],[y.AppView],[a.Injector]]}}),Object.defineProperty(b.prototype.dehydrateViewInViewContainer,"parameters",{get:function(){return[[h.ViewContainer],[o.assert.type.number],[y.AppView]]}}),Object.defineProperty(b.prototype._viewHydrateRecurse,"parameters",{get:function(){
return[[y.AppView],[o.assert.genericType(u.List,v.ViewRef)],[o.assert.type.number],[a.Injector],[p.ElementInjector],[Object],[m.Locals]]}}),Object.defineProperty(b.prototype._setUpEventEmitters,"parameters",{get:function(){return[[y.AppView],[p.ElementInjector],[o.assert.type.number]]}}),Object.defineProperty(b.prototype._viewDehydrateRecurse,"parameters",{get:function(){return[[y.AppView]]}}),Object.defineProperty(b.prototype._viewContainerDehydrateRecurse,"parameters",{get:function(){return[[h.ViewContainer]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),o=r(2),a=function(){function e(t){var r=t.enableLongStackTrace;n(this,e),this._nestedRunCounter=0,this._onTurnStart=null,this._onTurnDone=null,this._onErrorHandler=null,this._outerZone=o.global.zone,this._innerZone=this._createInnerZone(this._outerZone,r)}return i(e,[{key:"initCallbacks",value:function(){var e=void 0===arguments[0]?{}:arguments[0],t=e.onTurnStart,r=e.onTurnDone,n=(e.onScheduleMicrotask,e.onErrorHandler);this._onTurnStart=o.normalizeBlank(t),this._onTurnDone=o.normalizeBlank(r),this._onErrorHandler=o.normalizeBlank(n)}},{key:"run",value:function(e){return this._innerZone.run(e)}},{key:"runOutsideAngular",value:function(e){return this._outerZone.run(e)}},{key:"_createInnerZone",value:function(e,t){var r,n=this,i=this;return r=t?s.StringMapWrapper.merge(Zone.longStackTraceZone,{onError:function(e){i._onError(this,e)}}):{onError:function(e){i._onError(this,e)}},e.fork(r).fork({beforeTask:function(){n._beforeTask()},afterTask:function(){n._afterTask()}})}},{key:"_beforeTask",value:function(){this._nestedRunCounter++,1===this._nestedRunCounter&&this._onTurnStart&&this._onTurnStart()}},{key:"_afterTask",value:function(){this._nestedRunCounter--,0===this._nestedRunCounter&&this._onTurnDone&&this._onTurnDone()}},{key:"_onError",value:function(e,t){if(!o.isPresent(this._onErrorHandler))throw t;for(var r=[o.normalizeBlank(t.stack)];e&&e.constructedAtException;)r.push(e.constructedAtException.get()),e=e.parent;this._onErrorHandler(t,r)}}]),e}();t.VmTurnZone=a},function(e,t,r){"use strict";function n(e){return p.assert.returnType(new w(e),w)}function i(e,t){return l.isBlank(t)?s(e):f.ListWrapper.map(t,function(e){return g.fromKey(d.Key.get(e))})}function s(e){var t=h.reflector.parameters(e);if(l.isBlank(t))return p.assert.returnType([],f.List);if(f.ListWrapper.any(t,function(e){return l.isBlank(e)}))throw new m.NoAnnotationError(e);return p.assert.returnType(f.ListWrapper.map(t,function(t){return o(e,t)}),f.List)}function o(e,t){for(var r=[],n=null,i=!1,s=!1,o=!1,u=0;u<t.length;++u){var c=t[u];c instanceof l.Type?n=c:c instanceof y.Inject?n=c.token:c instanceof y.InjectPromise?(n=c.token,o=!0):c instanceof y.InjectLazy?(n=c.token,s=!0):c instanceof y.Optional?i=!0:c instanceof y.DependencyAnnotation&&(l.isPresent(c.token)&&(n=c.token),f.ListWrapper.push(r,c))}if(l.isPresent(n))return a(n,o,s,i,r);throw new m.NoAnnotationError(e)}function a(e,t,r,n,i){return p.assert.returnType(new g(d.Key.get(e),t,r,n,i),g)}var u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.bind=n;var p=r(1),l=r(2),f=r(4),h=r(22),d=r(69),y=r(100),m=r(68),g=function(){function e(t,r,n,i,s){u(this,e),p.assert.argumentTypes(t,d.Key,r,p.assert.type["boolean"],n,p.assert.type["boolean"],i,p.assert.type["boolean"],s,f.List),this.key=t,this.asPromise=r,this.lazy=n,this.optional=i,this.properties=s}return c(e,null,[{key:"fromKey",value:function(t){return p.assert.argumentTypes(t,d.Key),new e(t,!1,!1,!1,[])}}]),e}();t.Dependency=g,Object.defineProperty(g,"parameters",{get:function(){return[[d.Key],[p.assert.type["boolean"]],[p.assert.type["boolean"]],[p.assert.type["boolean"]],[f.List]]}}),Object.defineProperty(g.fromKey,"parameters",{get:function(){return[[d.Key]]}});var v=[],_=function(){function e(t,r){var n=r.toClass,i=r.toValue,s=r.toAlias,o=r.toFactory,a=r.toAsyncFactory,c=r.deps;u(this,e),this.token=t,this.toClass=n,this.toValue=i,this.toAlias=s,this.toFactory=o,this.toAsyncFactory=a,this.dependencies=c}return c(e,[{key:"resolve",value:function(){var e,t,r=this,n=!1;return l.isPresent(this.toClass)?(e=h.reflector.factory(this.toClass),t=s(this.toClass)):l.isPresent(this.toAlias)?(e=function(e){return e},t=[g.fromKey(d.Key.get(this.toAlias))]):l.isPresent(this.toFactory)?(e=this.toFactory,t=i(this.toFactory,this.dependencies)):l.isPresent(this.toAsyncFactory)?(e=this.toAsyncFactory,t=i(this.toAsyncFactory,this.dependencies),n=!0):(e=function(){return r.toValue},t=v),p.assert.returnType(new b(d.Key.get(this.token),e,t,n),b)}}]),e}();t.Binding=_,Object.defineProperty(_,"annotations",{get:function(){return[new l.CONST]}});var b=function T(e,t,r,n){u(this,T),p.assert.argumentTypes(e,d.Key,t,Function,r,p.assert.genericType(f.List,g),n,p.assert.type["boolean"]),this.key=e,this.factory=t,this.dependencies=r,this.providedAsPromise=n};t.ResolvedBinding=b,Object.defineProperty(b,"parameters",{get:function(){return[[d.Key],[Function],[p.assert.genericType(f.List,g)],[p.assert.type["boolean"]]]}});var w=function(){function e(t){u(this,e),this.token=t}return c(e,[{key:"toClass",value:function(e){return p.assert.argumentTypes(e,l.Type),p.assert.returnType(new _(this.token,{toClass:e}),_)}},{key:"toValue",value:function(e){return p.assert.returnType(new _(this.token,{toValue:e}),_)}},{key:"toAlias",value:function(e){return p.assert.returnType(new _(this.token,{toAlias:e}),_)}},{key:"toFactory",value:function(e){var t=void 0===arguments[1]?null:arguments[1];return p.assert.argumentTypes(e,Function,t,f.List),p.assert.returnType(new _(this.token,{toFactory:e,deps:t}),_)}},{key:"toAsyncFactory",value:function(e){var t=void 0===arguments[1]?null:arguments[1];return p.assert.argumentTypes(e,Function,t,f.List),p.assert.returnType(new _(this.token,{toAsyncFactory:e,deps:t}),_)}}]),e}();t.BindingBuilder=w,Object.defineProperty(w.prototype.toClass,"parameters",{get:function(){return[[l.Type]]}}),Object.defineProperty(w.prototype.toFactory,"parameters",{get:function(){return[[Function],[f.List]]}}),Object.defineProperty(w.prototype.toAsyncFactory,"parameters",{get:function(){return[[Function],[f.List]]}}),Object.defineProperty(i,"parameters",{get:function(){return[[Function],[f.List]]}})},function(e,t,r){"use strict";function n(e){c.assert.argumentTypes(e,p.List);for(var t=[],r=0;r<e.length;++r){if(p.ListWrapper.contains(t,e[r]))return p.ListWrapper.push(t,e[r]),t;p.ListWrapper.push(t,e[r])}return t}function i(e){if(e.length>1){var t=n(p.ListWrapper.reversed(e)),r=p.ListWrapper.map(t,function(e){return l.stringify(e.token)});return" ("+r.join(" -> ")+")"}return""}var s=function _(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:_(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var c=r(1),p=r(4),l=r(2);Object.defineProperty(n,"parameters",{get:function(){return[[p.List]]}}),Object.defineProperty(i,"parameters",{get:function(){return[[p.List]]}});var f=function(e){function t(r,n){o(this,t),c.assert.argumentTypes(r,c.assert.type.any,n,Function);var i=new e;return i.__proto__=t.prototype,i.keys=[r],i.constructResolvingMessage=n,i.message=i.constructResolvingMessage(i.keys),i}return u(t,e),a(t,[{key:"addKey",value:function(e){p.ListWrapper.push(this.keys,e),this.message=this.constructResolvingMessage(this.keys)}},{key:"toString",value:function(){return this.message}}]),t}(Error);t.AbstractBindingError=f,Object.defineProperty(f,"parameters",{get:function(){return[[],[Function]]}});var h=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,function(e){c.assert.argumentTypes(e,p.List);var t=l.stringify(p.ListWrapper.first(e).token);return"No provider for "+t+"!"+i(e)})}return u(t,e),t}(f);t.NoBindingError=h;var d=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,function(e){c.assert.argumentTypes(e,p.List);var t=l.stringify(p.ListWrapper.first(e).token);return"Cannot instantiate "+t+" synchronously. It is provided as a promise!"+i(e)})}return u(t,e),t}(f);t.AsyncBindingError=d;var y=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,function(e){return c.assert.argumentTypes(e,p.List),"Cannot instantiate cyclic dependency!"+i(e)})}return u(t,e),t}(f);t.CyclicDependencyError=y;var m=function(e){function t(e,r){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,r,function(t){c.assert.argumentTypes(t,p.List);var r=l.stringify(p.ListWrapper.first(t).token);return"Error during instantiation of "+r+"!"+i(t)+". ORIGINAL ERROR: "+e})}return u(t,e),t}(f);t.InstantiationError=m;var g=function(e){function t(r){o(this,t);var n=new e;return n.__proto__=t.prototype,n.message="Invalid binding "+r,n}return u(t,e),a(t,[{key:"toString",value:function(){return this.message}}]),t}(Error);t.InvalidBindingError=g;var v=function(e){function t(r){o(this,t);var n=new e;return n.__proto__=t.prototype,n.message="Cannot resolve all parameters for "+l.stringify(r)+". Make sure they all have valid type or annotations.",n}return u(t,e),a(t,[{key:"toString",value:function(){return this.message}}]),t}(Error);t.NoAnnotationError=v},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(4),a=function(){function e(t,r){n(this,e),this.token=t,this.id=r,this.metadata=null}return i(e,null,[{key:"get",value:function(t){return s.assert.returnType(c.get(t),e)}},{key:"numberOfKeys",get:function(){return c.numberOfKeys}}]),e}();t.Key=a;var u=function(){function e(){n(this,e),this._allKeys=o.MapWrapper.create()}return i(e,[{key:"get",value:function(e){if(e instanceof a)return s.assert.returnType(e,a);if(o.MapWrapper.contains(this._allKeys,e))return s.assert.returnType(o.MapWrapper.get(this._allKeys,e),a);var t=new a(e,a.numberOfKeys);return o.MapWrapper.set(this._allKeys,e,t),s.assert.returnType(t,a)}},{key:"numberOfKeys",get:function(){return o.MapWrapper.size(this._allKeys)}}]),e}();t.KeyRegistry=u;var c=new u},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(2),u=r(4),c=r(52),p=n(c),l=function(){function e(){i(this,e)}return s(e,null,[{key:"required",value:function(e){return o.assert.argumentTypes(e,p.Control),a.isBlank(e.value)||""==e.value?{required:!0}:null}},{key:"nullValidator",value:function(e){return o.assert.argumentTypes(e,o.assert.type.any),null}},{key:"compose",value:function(e){return o.assert.argumentTypes(e,o.assert.genericType(u.List,Function)),o.assert.returnType(function(t){o.assert.argumentTypes(t,p.Control);var r=u.ListWrapper.reduce(e,function(e,r){var n=r(t);return a.isPresent(n)?u.StringMapWrapper.merge(e,n):e},{});return u.StringMapWrapper.isEmpty(r)?null:r},Function)}},{key:"group",value:function(t){o.assert.argumentTypes(t,p.ControlGroup);var r={};return u.StringMapWrapper.forEach(t.controls,function(n,i){t.contains(i)&&a.isPresent(n.errors)&&e._mergeErrors(n,r)}),u.StringMapWrapper.isEmpty(r)?null:r}},{key:"array",value:function(t){o.assert.argumentTypes(t,p.ControlArray);var r={};return u.ListWrapper.forEach(t.controls,function(t){a.isPresent(t.errors)&&e._mergeErrors(t,r)}),u.StringMapWrapper.isEmpty(r)?null:r}},{key:"_mergeErrors",value:function(e,t){u.StringMapWrapper.forEach(e.errors,function(r,n){u.StringMapWrapper.contains(t,n)||(t[n]=[]),u.ListWrapper.push(t[n],e)})}}]),e}();t.Validators=l,Object.defineProperty(l.required,"parameters",{get:function(){return[[p.Control]]}}),Object.defineProperty(l.nullValidator,"parameters",{get:function(){return[[o.assert.type.any]]}}),Object.defineProperty(l.compose,"parameters",{get:function(){return[[o.assert.genericType(u.List,Function)]]}}),Object.defineProperty(l.group,"parameters",{get:function(){return[[p.ControlGroup]]}}),Object.defineProperty(l.array,"parameters",{get:function(){return[[p.ControlArray]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(7),a=r(2),u=r(4),c=r(9),p=r(8),l=r(54),f=r(11),h=r(40),d=function(){function e(t,r){n(this,e),s.assert.argumentTypes(t,l.XHR,r,h.UrlResolver),this._xhr=t,this._htmlCache=u.StringMapWrapper.create()}return i(e,[{key:"load",value:function(e){if(s.assert.argumentTypes(e,f.ViewDefinition),a.isPresent(e.template))return s.assert.returnType(c.PromiseWrapper.resolve(p.DOM.createTemplate(e.template)),c.Promise);var t=e.absUrl;if(a.isPresent(t)){var r=u.StringMapWrapper.get(this._htmlCache,t);return a.isBlank(r)&&(r=this._xhr.get(t).then(function(e){var t=p.DOM.createTemplate(e);return t}),u.StringMapWrapper.set(this._htmlCache,t,r)),s.assert.returnType(r,c.Promise)}throw new a.BaseException("View should have either the url or template property set")}}]),e}();t.TemplateLoader=d,Object.defineProperty(d,"annotations",{get:function(){return[new o.Injectable]}}),Object.defineProperty(d,"parameters",{get:function(){return[[l.XHR],[h.UrlResolver]]}}),Object.defineProperty(d.prototype.load,"parameters",{get:function(){return[[f.ViewDefinition]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function v(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:v(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(1),c=r(38),p=n(c),l=r(8),f=r(2),h=r(4),d=function(){function e(){o(this,e)}return a(e,[{key:"insert",value:function(e){u.assert.argumentTypes(e,h.List)}}]),e}();Object.defineProperty(d.prototype.insert,"parameters",{get:function(){return[[h.List]]}});var y=function(e){function t(e){o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.beginScript=e,this.endScript=l.DOM.nextSibling(this.beginScript),this.nodes=[]}return s(t,e),a(t,[{key:"insert",value:function(e){u.assert.argumentTypes(e,h.List),this.nodes=e,l.DOM.insertAllBefore(this.endScript,e),this._removeNodesUntil(h.ListWrapper.isEmpty(e)?this.endScript:e[0])}},{key:"_removeNodesUntil",value:function(e){for(var t=l.DOM.parentElement(this.beginScript),r=l.DOM.nextSibling(this.beginScript);r!==e;r=l.DOM.nextSibling(this.beginScript))l.DOM.removeChild(t,r)}}]),t}(d);Object.defineProperty(y.prototype.insert,"parameters",{get:function(){return[[h.List]]}});var m=function(e){function t(e){o(this,t),u.assert.argumentTypes(e,p.LightDom),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.nodes=[],this.destinationLightDom=e}return s(t,e),a(t,[{key:"insert",value:function(e){u.assert.argumentTypes(e,h.List),this.nodes=e,this.destinationLightDom.redistribute()}}]),t}(d);Object.defineProperty(m,"parameters",{get:function(){return[[p.LightDom]]}}),Object.defineProperty(m.prototype.insert,"parameters",{get:function(){return[[h.List]]}});var g=function(){function e(t,r){o(this,e),u.assert.argumentTypes(t,u.assert.type.any,r,u.assert.type.string),this.select=r,this.contentStartElement=t,this._strategy=null}return a(e,[{key:"hydrate",value:function(e){u.assert.argumentTypes(e,p.LightDom),this._strategy=f.isPresent(e)?new m(e):new y(this.contentStartElement)}},{key:"dehydrate",value:function(){this._strategy=null}},{key:"nodes",value:function(){return u.assert.returnType(this._strategy.nodes,h.List)}},{key:"insert",value:function(e){u.assert.argumentTypes(e,h.List),this._strategy.insert(e)}}]),e}();t.Content=g,Object.defineProperty(g,"parameters",{get:function(){return[[],[u.assert.type.string]]}}),Object.defineProperty(g.prototype.hydrate,"parameters",{get:function(){return[[p.LightDom]]}}),Object.defineProperty(g.prototype.insert,"parameters",{get:function(){return[[h.List]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(7),a=r(2),u=r(40),c=function(){function e(t){n(this,e),s.assert.argumentTypes(t,u.UrlResolver),this._resolver=t}return i(e,[{key:"resolveUrls",value:function(e,t){return s.assert.argumentTypes(e,s.assert.type.string,t,s.assert.type.string),e=this._replaceUrls(e,p,t),e=this._replaceUrls(e,l,t)}},{key:"_replaceUrls",value:function(e,t,r){var n=this;return s.assert.argumentTypes(e,s.assert.type.string,t,a.RegExp,r,s.assert.type.string),a.StringWrapper.replaceAllMapped(e,t,function(e){var t=e[1],i=a.StringWrapper.replaceAll(e[2],f,""),s=e[3],o=n._resolver.resolve(r,i);return t+"'"+o+"'"+s})}}]),e}();t.StyleUrlResolver=c,Object.defineProperty(c,"annotations",{get:function(){return[new o.Injectable]}}),Object.defineProperty(c,"parameters",{get:function(){return[[u.UrlResolver]]}}),Object.defineProperty(c.prototype.resolveUrls,"parameters",{get:function(){return[[s.assert.type.string],[s.assert.type.string]]}}),Object.defineProperty(c.prototype._replaceUrls,"parameters",{get:function(){return[[s.assert.type.string],[a.RegExp],[s.assert.type.string]]}});var p=a.RegExpWrapper.create("(url\\()([^)]*)(\\))"),l=a.RegExpWrapper.create("(@import[\\s]+(?!url\\())['\"]([^'\"]*)['\"](.*;)"),f=a.RegExpWrapper.create("['\"]")},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function M(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:M(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(1),c=r(2),p=r(4),l=r(8),f=r(10),h=(r(34),r(39)),d=r(102),y=r(286),m=r(11),g=n(m),v=r(53),_=n(v),b=r(30),w=function(){function e(t){o(this,e),this.rootElement=t,this.elements=[],this.variableBindings=p.MapWrapper.create(),this.imperativeRendererId=null}return a(e,[{key:"setImperativeRendererId",value:function(t){return u.assert.argumentTypes(t,u.assert.type.string),this.imperativeRendererId=t,u.assert.returnType(this,e)}},{key:"bindElement",value:function(e){var t=void 0===arguments[1]?null:arguments[1],r=new T(this.elements.length,e,t);return p.ListWrapper.push(this.elements,r),l.DOM.addClass(e,b.NG_BINDING_CLASS),u.assert.returnType(r,T)}},{key:"bindVariable",value:function(e,t){p.MapWrapper.set(this.variableBindings,t,e)}},{key:"build",value:function(){var e=[],t=[];return p.ListWrapper.forEach(this.elements,function(r){var n=p.MapWrapper.create(),i=p.ListWrapper.map(r.directives,function(e){return r.eventBuilder.merge(e.eventBuilder),new g.DirectiveBinder({directiveIndex:e.directiveIndex,propertyBindings:e.propertyBindings,eventBindings:e.eventBindings})});p.MapWrapper.forEach(r.propertySetters,function(e,t){p.MapWrapper.set(n,t,e)});var s=c.isPresent(r.nestedProtoView)?r.nestedProtoView.build():null,o=c.isPresent(r.parent)?r.parent.index:-1;p.ListWrapper.push(t,new g.ElementBinder({index:r.index,parentIndex:o,distanceToParent:r.distanceToParent,directives:i,nestedProtoView:s,propertyBindings:r.propertyBindings,variableBindings:r.variableBindings,eventBindings:r.eventBindings,textBindings:r.textBindings,readAttributes:r.readAttributes})),p.ListWrapper.push(e,new d.ElementBinder({textNodeIndices:r.textBindingIndices,contentTagSelector:r.contentTagSelector,parentIndex:o,distanceToParent:r.distanceToParent,nestedProtoView:c.isPresent(s)?s.render.delegate:null,componentId:r.componentId,eventLocals:new f.LiteralArray(r.eventBuilder.buildEventLocals()),localEvents:r.eventBuilder.buildLocalEvents(),globalEvents:r.eventBuilder.buildGlobalEvents(),propertySetters:n}))}),u.assert.returnType(new g.ProtoViewDto({render:new _.DirectDomProtoViewRef(new h.RenderProtoView({element:this.rootElement,elementBinders:e,imperativeRendererId:this.imperativeRendererId})),elementBinders:t,variableBindings:this.variableBindings}),g.ProtoViewDto)}}]),e}();t.ProtoViewBuilder=w,Object.defineProperty(w.prototype.setImperativeRendererId,"parameters",{get:function(){return[[u.assert.type.string]]}});var T=function(){function e(t,r,n){o(this,e),this.element=r,this.index=t,this.parent=null,this.distanceToParent=0,this.directives=[],this.nestedProtoView=null,this.propertyBindings=p.MapWrapper.create(),this.variableBindings=p.MapWrapper.create(),this.eventBindings=p.ListWrapper.create(),this.eventBuilder=new L,this.textBindings=[],this.textBindingIndices=[],this.contentTagSelector=null,this.propertySetters=p.MapWrapper.create(),this.componentId=null,this.readAttributes=p.MapWrapper.create()}return a(e,[{key:"setParent",value:function(t,r){return u.assert.argumentTypes(t,e,r,u.assert.type.any),this.parent=t,c.isPresent(t)&&(this.distanceToParent=r),u.assert.returnType(this,e)}},{key:"readAttribute",value:function(e){u.assert.argumentTypes(e,u.assert.type.string),c.isBlank(p.MapWrapper.get(this.readAttributes,e))&&p.MapWrapper.set(this.readAttributes,e,l.DOM.getAttribute(this.element,e))}},{key:"bindDirective",value:function(e){u.assert.argumentTypes(e,u.assert.type.number);var t=new k(e);return p.ListWrapper.push(this.directives,t),u.assert.returnType(t,k)}},{key:"bindNestedProtoView",value:function(e){if(c.isPresent(this.nestedProtoView))throw new c.BaseException("Only one nested view per element is allowed");return this.nestedProtoView=new w(e),u.assert.returnType(this.nestedProtoView,w)}},{key:"bindProperty",value:function(e,t){p.MapWrapper.set(this.propertyBindings,e,t),this.bindPropertySetter(e)}},{key:"bindPropertySetter",value:function(e){p.MapWrapper.set(this.propertySetters,e,y.setterFactory(e))}},{key:"bindVariable",value:function(e,t){c.isPresent(this.nestedProtoView)?this.nestedProtoView.bindVariable(e,t):p.MapWrapper.set(this.variableBindings,t,e)}},{key:"bindEvent",value:function(e,t){var r=void 0===arguments[2]?null:arguments[2];p.ListWrapper.push(this.eventBindings,this.eventBuilder.add(e,t,r))}},{key:"bindText",value:function(e,t){p.ListWrapper.push(this.textBindingIndices,e),p.ListWrapper.push(this.textBindings,t)}},{key:"setContentTagSelector",value:function(e){u.assert.argumentTypes(e,u.assert.type.string),this.contentTagSelector=e}},{key:"setComponentId",value:function(e){u.assert.argumentTypes(e,u.assert.type.string),this.componentId=e}}]),e}();t.ElementBinderBuilder=T,Object.defineProperty(T.prototype.setParent,"parameters",{get:function(){return[[T],[]]}}),Object.defineProperty(T.prototype.readAttribute,"parameters",{get:function(){return[[u.assert.type.string]]}}),Object.defineProperty(T.prototype.bindDirective,"parameters",{get:function(){return[[u.assert.type.number]]}}),Object.defineProperty(T.prototype.setContentTagSelector,"parameters",{get:function(){return[[u.assert.type.string]]}}),Object.defineProperty(T.prototype.setComponentId,"parameters",{get:function(){return[[u.assert.type.string]]}});var k=function(){function e(t){o(this,e),this.directiveIndex=t,this.propertyBindings=p.MapWrapper.create(),this.eventBindings=p.ListWrapper.create(),this.eventBuilder=new L}return a(e,[{key:"bindProperty",value:function(e,t){p.MapWrapper.set(this.propertyBindings,e,t)}},{key:"bindEvent",value:function(e,t){var r=void 0===arguments[2]?null:arguments[2];p.ListWrapper.push(this.eventBindings,this.eventBuilder.add(e,t,r))}}]),e}();t.DirectiveBuilder=k;var L=function(e){function t(){o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.locals=[],this.localEvents=[],this.globalEvents=[],this._implicitReceiver=new f.ImplicitReceiver}return s(t,e),a(t,[{key:"add",value:function(e,t,r){u.assert.argumentTypes(e,u.assert.type.string,t,f.ASTWithSource,r,u.assert.type.string);var n=t.ast,i=c.isPresent(r)?r+b.EVENT_TARGET_SEPARATOR+e:e,s=new g.EventBinding(i,new f.ASTWithSource(n,t.source,t.location)),o=new d.Event(e,r,i);return c.isBlank(r)?p.ListWrapper.push(this.localEvents,o):p.ListWrapper.push(this.globalEvents,o),u.assert.returnType(s,g.EventBinding)}},{key:"visitAccessMember",value:function(e){for(var t=!1,r=e;!t&&r instanceof f.AccessMember;)"$event"==r.name&&(t=!0),r=r.receiver;if(t){p.ListWrapper.push(this.locals,e);var n=this.locals.length-1;return new f.AccessMember(this._implicitReceiver,""+n,function(e){return e[n]},null)}return e}},{key:"buildEventLocals",value:function(){return this.locals}},{key:"buildLocalEvents",value:function(){return this.localEvents}},{key:"buildGlobalEvents",value:function(){return this.globalEvents}},{key:"merge",value:function(e){u.assert.argumentTypes(e,t),this._merge(this.localEvents,e.localEvents),this._merge(this.globalEvents,e.globalEvents),p.ListWrapper.concat(this.locals,e.locals)}},{key:"_merge",value:function(e,t){u.assert.argumentTypes(e,u.assert.genericType(p.List,d.Event),t,u.assert.genericType(p.List,d.Event));for(var r=p.ListWrapper.create(),n=0;n<e.length;n++)p.ListWrapper.push(r,e[n].fullName);for(var i=0;i<t.length;i++)p.ListWrapper.contains(r,t[i].fullName)||p.ListWrapper.push(e,t[i])}}]),t}(f.AstTransformer);t.EventBuilder=L,Object.defineProperty(L.prototype.add,"parameters",{get:function(){return[[u.assert.type.string],[f.ASTWithSource],[u.assert.type.string]]}}),Object.defineProperty(L.prototype.visitAccessMember,"parameters",{get:function(){return[[f.AccessMember]]}}),Object.defineProperty(L.prototype.merge,"parameters",{get:function(){return[[L]]}}),Object.defineProperty(L.prototype._merge,"parameters",{get:function(){return[[u.assert.genericType(p.List,d.Event)],[u.assert.genericType(p.List,d.Event)]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(2),u=r(4),c=r(8),p=r(31),l=n(p),f=function(){function e(t,r){i(this,e),o.assert.argumentTypes(t,l.RenderView,r,o.assert.type.number),this.parentView=t,this.boundElementIndex=r,this.views=[]}return s(e,[{key:"get",value:function(e){return o.assert.argumentTypes(e,o.assert.type.number),o.assert.returnType(this.views[e],l.RenderView)}},{key:"size",value:function(){return this.views.length}},{key:"_siblingToInsertAfter",value:function(e){return o.assert.argumentTypes(e,o.assert.type.number),0==e?this.parentView.boundElements[this.boundElementIndex]:u.ListWrapper.last(this.views[e-1].rootNodes)}},{key:"_checkHydrated",value:function(){if(!this.parentView.hydrated)throw new a.BaseException("Cannot change dehydrated ViewContainer")}},{key:"_getDirectParentLightDom",value:function(){return this.parentView.getDirectParentLightDom(this.boundElementIndex)}},{key:"clear",value:function(){this._checkHydrated();for(var e=this.views.length-1;e>=0;e--)this.detach(e);a.isPresent(this._getDirectParentLightDom())&&this._getDirectParentLightDom().redistribute()}},{key:"insert",value:function(t){var r=void 0===arguments[1]?-1:arguments[1];return this._checkHydrated(),-1==r&&(r=this.views.length),u.ListWrapper.insert(this.views,r,t),a.isBlank(this._getDirectParentLightDom())?e.moveViewNodesAfterSibling(this._siblingToInsertAfter(r),t):this._getDirectParentLightDom().redistribute(),a.isPresent(this.parentView.hostLightDom)&&this.parentView.hostLightDom.redistribute(),o.assert.returnType(t,l.RenderView)}},{key:"detach",value:function(t){o.assert.argumentTypes(t,o.assert.type.number),this._checkHydrated();var r=this.get(t);return u.ListWrapper.removeAt(this.views,t),a.isBlank(this._getDirectParentLightDom())?e.removeViewNodes(r):this._getDirectParentLightDom().redistribute(),a.isPresent(this.parentView.hostLightDom)&&this.parentView.hostLightDom.redistribute(),r}},{key:"contentTagContainers",value:function(){return this.views}},{key:"nodes",value:function(){for(var e=[],t=0;t<this.views.length;++t)e=u.ListWrapper.concat(e,this.views[t].rootNodes);return o.assert.returnType(e,u.List)}}],[{key:"moveViewNodesAfterSibling",value:function(e,t){for(var r=t.rootNodes.length-1;r>=0;--r)c.DOM.insertAfter(e,t.rootNodes[r])}},{key:"removeViewNodes",
value:function(e){var t=e.rootNodes.length;if(0!=t)for(var r=e.rootNodes[0].parentNode,n=t-1;n>=0;--n)c.DOM.removeChild(r,e.rootNodes[n])}}]),e}();t.ViewContainer=f,Object.defineProperty(f,"parameters",{get:function(){return[[l.RenderView],[o.assert.type.number]]}}),Object.defineProperty(f.prototype.get,"parameters",{get:function(){return[[o.assert.type.number]]}}),Object.defineProperty(f.prototype._siblingToInsertAfter,"parameters",{get:function(){return[[o.assert.type.number]]}}),Object.defineProperty(f.prototype.detach,"parameters",{get:function(){return[[o.assert.type.number]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(7),u=r(2),c=r(4),p=r(8),l=r(72),f=r(25),h=r(37),d=r(39),y=n(d),m=r(31),g=n(m),v=r(30),_="render.ViewFactory.viewPoolCapacity";t.VIEW_POOL_CAPACITY=_;var b=function(){function e(t,r,n){i(this,e),o.assert.argumentTypes(t,o.assert.type.any,r,h.EventManager,n,f.ShadowDomStrategy),this._poolCapacityPerProtoView=t,this._pooledViewsPerProtoView=c.MapWrapper.create(),this._eventManager=r,this._shadowDomStrategy=n}return s(e,[{key:"createInPlaceHostView",value:function(e,t){return o.assert.argumentTypes(e,o.assert.type.any,t,y.RenderProtoView),o.assert.returnType(this._createView(t,e),g.RenderView)}},{key:"getView",value:function(e){o.assert.argumentTypes(e,y.RenderProtoView);var t=c.MapWrapper.get(this._pooledViewsPerProtoView,e);return u.isPresent(t)&&t.length>0?o.assert.returnType(c.ListWrapper.removeLast(t),g.RenderView):o.assert.returnType(this._createView(e,null),g.RenderView)}},{key:"returnView",value:function(e){if(o.assert.argumentTypes(e,g.RenderView),e.hydrated)throw new u.BaseException("View is still hydrated");var t=e.proto,r=c.MapWrapper.get(this._pooledViewsPerProtoView,t);u.isBlank(r)&&(r=[],c.MapWrapper.set(this._pooledViewsPerProtoView,t,r)),r.length<this._poolCapacityPerProtoView&&c.ListWrapper.push(r,e)}},{key:"_createView",value:function(t,r){if(o.assert.argumentTypes(t,y.RenderProtoView,r,o.assert.type.any),u.isPresent(t.imperativeRendererId))return o.assert.returnType(new g.RenderView(t,[],[],[],[]),g.RenderView);var n,i=u.isPresent(r)?r:p.DOM.importIntoDoc(t.element);n=t.isTemplateElement?p.DOM.querySelectorAll(p.DOM.content(i),v.NG_BINDING_CLASS_SELECTOR):p.DOM.getElementsByClassName(i,v.NG_BINDING_CLASS);for(var s=c.ListWrapper.createFixedSize(n.length),a=0;a<n.length;++a)s[a]=n[a];var f;if(t.isTemplateElement){var h=p.DOM.firstChild(p.DOM.content(i));for(f=[];null!=h;)c.ListWrapper.push(f,h),h=p.DOM.nextSibling(h)}else f=[i];for(var d=t.elementBinders,m=[],_=c.ListWrapper.createFixedSize(d.length),b=c.ListWrapper.createFixedSize(d.length),a=0;a<d.length;a++){var w,T=d[a];w=0===a&&1===t.rootBindingOffset?i:s[a-t.rootBindingOffset],_[a]=w;for(var k=p.DOM.childNodes(p.DOM.templateAwareRoot(w)),L=T.textNodeIndices,M=0;M<L.length;M++)c.ListWrapper.push(m,k[L[M]]);var P=null;u.isPresent(T.contentTagSelector)&&(P=new l.Content(w,T.contentTagSelector)),b[a]=P}for(var O=new g.RenderView(t,f,m,_,b),a=0;a<d.length;a++){var T=d[a],w=_[a];if(T.hasStaticComponent()){var D=this._createView(T.nestedProtoView,null);e.setComponentView(this._shadowDomStrategy,O,a,D)}if(u.isPresent(T.eventLocals)&&u.isPresent(T.localEvents))for(var M=0;M<T.localEvents.length;M++)this._createEventListener(O,w,a,T.localEvents[M].name,T.eventLocals)}return o.assert.returnType(O,g.RenderView)}},{key:"_createEventListener",value:function(e,t,r,n,i){this._eventManager.addEventListener(t,n,function(t){e.dispatchEvent(r,n,t)})}}],[{key:"setComponentView",value:function(e,t,r,n){o.assert.argumentTypes(e,f.ShadowDomStrategy,t,g.RenderView,r,o.assert.type.number,n,g.RenderView);var i=t.boundElements[r],s=e.constructLightDom(t,n,i);e.attachTemplate(i,n),t.lightDoms[r]=s,t.componentChildViews[r]=n}}]),e}();t.ViewFactory=b,Object.defineProperty(b,"annotations",{get:function(){return[new a.Injectable]}}),Object.defineProperty(b,"parameters",{get:function(){return[[new a.Inject(_)],[h.EventManager],[f.ShadowDomStrategy]]}}),Object.defineProperty(b.prototype.createInPlaceHostView,"parameters",{get:function(){return[[],[y.RenderProtoView]]}}),Object.defineProperty(b.prototype.getView,"parameters",{get:function(){return[[y.RenderProtoView]]}}),Object.defineProperty(b.prototype.returnView,"parameters",{get:function(){return[[g.RenderView]]}}),Object.defineProperty(b.prototype._createView,"parameters",{get:function(){return[[y.RenderProtoView],[]]}}),Object.defineProperty(b.setComponentView,"parameters",{get:function(){return[[f.ShadowDomStrategy],[g.RenderView],[o.assert.type.number],[g.RenderView]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:null==t||"undefined"==typeof Symbol||t.constructor!==Symbol,configurable:!0,writable:!0})};Object.defineProperty(t,"__esModule",{value:!0});var o=r(21),a=r(55),u=r(56),c=r(104),p=r(290);r(294);var l,f=function(){function e(t){n(this,e),assert.argumentTypes(t,a.HNApi),this.domainPipe=p.DomainPipe.transform,this.loadChildren=!0,l=t,this.urlForUser=u.router.urlForUser,this.urlForItem=u.router.urlForItem,this.timeAgo=c.timeAgo}return i(e,[{key:"data",value:void 0,enumerable:!0},{key:"newItemId",set:function(e){this.itemId=e,this.fetchData()}},{key:"newLoadChildren",set:function(e){this.loadChildren="true"===e}},{key:"newTopLevel",set:function(e){this.topLevel="true"===e}},{key:"fetchData",value:function(){var e=this;l.fetchItem(this.itemId).then(function(t){e.data=t})}}]),e}();t.HNItem=f,s(f,"annotations",[new o.Component({selector:"hn-item",injectables:[a.HNApi],properties:{newItemId:"itemId",newLoadChildren:"loadChildren",newTopLevel:"topLevel"}}),new o.View({template:r(300),directives:[o.For,o.If,o.Switch,o.SwitchWhen,o.SwitchDefault]})]),s(f,"parameters",[[a.HNApi]])},function(e,t,r){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n=r(5);e.exports=function(e){return function(t){var r,i=n.toObject(this),s=n.toLength(i.length),o=n.toIndex(arguments[1],s);if(e&&t!=t){for(;s>o;)if(r=i[o++],r!=r)return!0}else for(;s>o;o++)if((e||o in i)&&i[o]===t)return e||o;return!e&&-1}}},function(e,t,r){"use strict";function n(e,t){if(!f(e))return("string"==typeof e?"S":"P")+e;if(y(e))return"F";if(!p(e,m)){if(!t)return"E";h(e,m,++T)}return"O"+e[m]}function i(e,t){var r,i=n(t);if("F"!=i)return e[g][i];for(r=e[_];r;r=r.n)if(r.k==t)return r}var s=r(5),o=r(17),a=r(18).safe,u=r(13),c=r(16),p=s.has,l=s.set,f=s.isObject,h=s.hide,d=c.step,y=Object.isFrozen||s.core.Object.isFrozen,m=a("id"),g=a("O1"),v=a("last"),_=a("first"),b=a("iter"),w=s.DESC?a("size"):"size",T=0;e.exports={getConstructor:function(e,t,r){function n(i){var o=u.inst(this,n,e);l(o,g,s.create(null)),l(o,w,0),l(o,v,void 0),l(o,_,void 0),void 0!=i&&c.forOf(i,t,o[r],o)}return s.mix(n.prototype,{clear:function(){for(var e=this,t=e[g],r=e[_];r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e[_]=e[v]=void 0,e[w]=0},"delete":function(e){var t=this,r=i(t,e);if(r){var n=r.n,s=r.p;delete t[g][r.i],r.r=!0,s&&(s.n=n),n&&(n.p=s),t[_]==r&&(t[_]=n),t[v]==r&&(t[v]=s),t[w]--}return!!r},forEach:function(e){for(var t,r=o(e,arguments[1],3);t=t?t.n:this[_];)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!i(this,e)}}),s.DESC&&s.setDesc(n.prototype,"size",{get:function(){return u.def(this[w])}}),n},def:function(e,t,r){var s,o,a=i(e,t);return a?a.v=r:(e[v]=a={i:o=n(t,!0),k:t,v:r,p:s=e[v],n:void 0,r:!1},e[_]||(e[_]=a),s&&(s.n=a),e[w]++,"F"!=o&&(e[g][o]=a)),e},getEntry:i,getIterConstructor:function(){return function(e,t){l(this,b,{o:e,k:t})}},next:function(){for(var e=this[b],t=e.k,r=e.l;r&&r.r;)r=r.p;return e.o&&(e.l=r=r?r.n:e.o[_])?"key"==t?d(0,r.k):"value"==t?d(0,r.v):d(0,[r.k,r.v]):(e.o=void 0,d(1))}}},function(e,t,r){"use strict";function n(e,t){return v.call(e.array,function(e){return e[0]===t})}function i(e){return e[m]||l(e,m,{array:[],get:function(e){var t=n(this,e);return t?t[1]:void 0},has:function(e){return!!n(this,e)},set:function(e,t){var r=n(this,e);r?r[1]=t:this.array.push([e,t])},"delete":function(e){var t=_.call(this.array,function(t){return t[0]===e});return~t&&this.array.splice(t,1),!!~t}})[m]}var s=r(5),o=r(18).safe,a=r(13),u=r(16).forOf,c=s.has,p=s.isObject,l=s.hide,f=Object.isFrozen||s.core.Object.isFrozen,h=0,d=o("id"),y=o("weak"),m=o("leak"),g=r(41),v=g(5),_=g(6);e.exports={getConstructor:function(e,t,r){function n(i){s.set(a.inst(this,n,e),d,h++),void 0!=i&&u(i,t,this[r],this)}return s.mix(n.prototype,{"delete":function(e){return p(e)?f(e)?i(this)["delete"](e):c(e,y)&&c(e[y],this[d])&&delete e[y][this[d]]:!1},has:function(e){return p(e)?f(e)?i(this).has(e):c(e,y)&&c(e[y],this[d]):!1}}),n},def:function(e,t,r){return f(a.obj(t))?i(e).set(t,r):(c(t,y)||l(t,y,{}),t[y][e[d]]=r),e},leakStore:i,WEAK:y,ID:d}},function(e,t,r){var n=r(5),i=r(13).obj;e.exports=function(e){return i(e),n.getSymbols?n.getNames(e).concat(n.getSymbols(e)):n.getNames(e)}},function(e,t,r){function n(e,t){s.obj(e),s(null===t||i.isObject(t),t,": can't set as prototype!")}var i=r(5),s=r(13);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t){try{t=r(17)(Function.call,i.getDesc(Object.prototype,"__proto__").set,2),t({},[])}catch(s){e=!0}return function(r,i){return n(r,i),e?r.__proto__=i:t(r,i),r}}():void 0),check:n}},function(e,t,r){"use strict";function n(){var e=+this;if(u.has(k,e)){var t=k[e];delete k[e],t()}}function i(e){n.call(e.data)}var s,o,a,u=r(5),c=r(17),p=r(14),l=r(43),f=u.g,h=u.isFunction,d=u.html,y=f.document,m=f.process,g=f.setImmediate,v=f.clearImmediate,_=f.postMessage,b=f.addEventListener,w=f.MessageChannel,T=0,k={},L="onreadystatechange";h(g)&&h(v)||(g=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return k[++T]=function(){l(h(e)?e:Function(e),t)},s(T),T},v=function(e){delete k[e]},"process"==p(m)?s=function(e){m.nextTick(c(n,e,1))}:b&&h(_)&&!f.importScripts?(s=function(e){_(e,"*")},b("message",i,!1)):h(w)?(o=new w,a=o.port2,o.port1.onmessage=i,s=c(a.postMessage,a,1)):s=y&&L in y.createElement("script")?function(e){d.appendChild(y.createElement("script"))[L]=function(){d.removeChild(this),n.call(e)}}:function(e){setTimeout(c(n,e,1),0)}),e.exports={set:g,clear:v}},function(e,t,r){var n=r(5),i=r(32),s=r(18).safe("iter"),o=r(16),a=o.step,u=o.Iterators;o.std(Array,"Array",function(e,t){n.set(this,s,{o:n.toObject(e),i:0,k:t})},function(){var e=this[s],t=e.o,r=e.k,n=e.i++;return!t||n>=t.length?(e.o=void 0,a(1)):"key"==r?a(0,n):"value"==r?a(0,t[n]):a(0,[n,t[n]])},"value"),u.Arguments=u.Array,i("keys"),i("values"),i("entries")},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],s=Object.getOwnPropertyDescriptor(t,i);s&&s.configurable&&void 0===e[i]&&Object.defineProperty(e,i,s)}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r(52);i(t,n(s));var o=r(266);i(t,n(o));var a=r(70);i(t,n(a));var u=r(268);i(t,n(u));var c=r(267);i(t,n(c))},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function d(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:d(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(2),c=r(4),p=r(46),l=r(36),f=r(26),h=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.lightDomChildren=[],this.shadowDomChildren=[],this.ref=new p.ChangeDetectorRef(this),this.mode=null}return o(t,e),i(t,[{key:"addChild",value:function(e){a.assert.argumentTypes(e,l.ChangeDetector),c.ListWrapper.push(this.lightDomChildren,e),e.parent=this}},{key:"removeChild",value:function(e){a.assert.argumentTypes(e,l.ChangeDetector),c.ListWrapper.remove(this.lightDomChildren,e)}},{key:"addShadowDomChild",value:function(e){a.assert.argumentTypes(e,l.ChangeDetector),c.ListWrapper.push(this.shadowDomChildren,e),e.parent=this}},{key:"removeShadowDomChild",value:function(e){a.assert.argumentTypes(e,l.ChangeDetector),c.ListWrapper.remove(this.shadowDomChildren,e)}},{key:"remove",value:function(){this.parent.removeChild(this)}},{key:"detectChanges",value:function(){this._detectChanges(!1)}},{key:"checkNoChanges",value:function(){this._detectChanges(!0)}},{key:"_detectChanges",value:function(e){a.assert.argumentTypes(e,a.assert.type["boolean"]),this.mode!==f.DETACHED&&this.mode!==f.CHECKED&&(this.detectChangesInRecords(e),this._detectChangesInLightDomChildren(e),this.callOnAllChangesDone(),this._detectChangesInShadowDomChildren(e),this.mode===f.CHECK_ONCE&&(this.mode=f.CHECKED))}},{key:"detectChangesInRecords",value:function(e){a.assert.argumentTypes(e,a.assert.type["boolean"])}},{key:"callOnAllChangesDone",value:function(){}},{key:"_detectChangesInLightDomChildren",value:function(e){a.assert.argumentTypes(e,a.assert.type["boolean"]);for(var t=this.lightDomChildren,r=0;r<t.length;++r)t[r]._detectChanges(e)}},{key:"_detectChangesInShadowDomChildren",value:function(e){a.assert.argumentTypes(e,a.assert.type["boolean"]);for(var t=this.shadowDomChildren,r=0;r<t.length;++r)t[r]._detectChanges(e)}},{key:"markAsCheckOnce",value:function(){this.mode=f.CHECK_ONCE}},{key:"markPathToRootAsCheckOnce",value:function(){for(var e=this;u.isPresent(e)&&e.mode!=f.DETACHED;)e.mode===f.CHECKED&&(e.mode=f.CHECK_ONCE),e=e.parent}}]),t}(l.ChangeDetector);t.AbstractChangeDetector=h,Object.defineProperty(h.prototype.addChild,"parameters",{get:function(){return[[l.ChangeDetector]]}}),Object.defineProperty(h.prototype.removeChild,"parameters",{get:function(){return[[l.ChangeDetector]]}}),Object.defineProperty(h.prototype.addShadowDomChild,"parameters",{get:function(){return[[l.ChangeDetector]]}}),Object.defineProperty(h.prototype.removeShadowDomChild,"parameters",{get:function(){return[[l.ChangeDetector]]}}),Object.defineProperty(h.prototype._detectChanges,"parameters",{get:function(){return[[a.assert.type["boolean"]]]}}),Object.defineProperty(h.prototype.detectChangesInRecords,"parameters",{get:function(){return[[a.assert.type["boolean"]]]}}),Object.defineProperty(h.prototype._detectChangesInLightDomChildren,"parameters",{get:function(){return[[a.assert.type["boolean"]]]}}),Object.defineProperty(h.prototype._detectChangesInShadowDomChildren,"parameters",{get:function(){return[[a.assert.type["boolean"]]]}})},function(e,t,r){"use strict";function n(e,t){return e===t?!0:e instanceof String&&t instanceof String&&e==t?!0:e!==e&&t!==t?!0:!1}var i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function _(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:_(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var u=r(1),c=r(2),p=r(4),l=r(87),f=r(35),h=r(47),d=r(49),y=r(45),m=r(33),g=r(60),v=function(e){function t(e,r,n,s,a){i(this,t),u.assert.argumentTypes(e,u.assert.type.string,r,u.assert.type.any,n,d.PipeRegistry,s,u.assert.genericType(p.List,m.ProtoRecord),a,p.List),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.dispatcher=r,this.pipeRegistry=n,this.values=p.ListWrapper.createFixedSize(s.length+1),this.pipes=p.ListWrapper.createFixedSize(s.length+1),this.prevContexts=p.ListWrapper.createFixedSize(s.length+1),this.changes=p.ListWrapper.createFixedSize(s.length+1),p.ListWrapper.fill(this.values,y.uninitialized),p.ListWrapper.fill(this.pipes,null),p.ListWrapper.fill(this.prevContexts,y.uninitialized),p.ListWrapper.fill(this.changes,!1),this.locals=null,this.directives=null,this.protos=s,this.directiveRecords=a,this.changeControlStrategy=e}return a(t,e),s(t,[{key:"hydrate",value:function(e,t,r){u.assert.argumentTypes(e,u.assert.type.any,t,u.assert.type.any,r,u.assert.type.any),this.mode=y.ChangeDetectionUtil.changeDetectionMode(this.changeControlStrategy),this.values[0]=e,this.locals=t,this.directives=r}},{key:"dehydrate",value:function(){this._destroyPipes(),p.ListWrapper.fill(this.values,y.uninitialized),p.ListWrapper.fill(this.changes,!1),p.ListWrapper.fill(this.pipes,null),p.ListWrapper.fill(this.prevContexts,y.uninitialized),this.locals=null}},{key:"_destroyPipes",value:function(){for(var e=0;e<this.pipes.length;++e)c.isPresent(this.pipes[e])&&this.pipes[e].onDestroy()}},{key:"hydrated",value:function(){return u.assert.returnType(this.values[0]!==y.uninitialized,u.assert.type["boolean"])}},{key:"detectChangesInRecords",value:function(e){u.assert.argumentTypes(e,u.assert.type["boolean"]);for(var t=u.assert.type(this.protos,u.assert.genericType(p.List,m.ProtoRecord)),r=null,n=!1,i=0;i<t.length;++i){var s=u.assert.type(t[i],m.ProtoRecord),o=s.bindingRecord,a=o.directiveRecord,l=this._check(s);c.isPresent(l)&&(e&&y.ChangeDetectionUtil.throwOnChange(s,l),this._updateDirectiveOrElement(l,o),n=!0,r=this._addChange(o,l,r)),s.lastInDirective&&(c.isPresent(r)&&(this._getDirectiveFor(a).onChange(r),r=null),n&&o.isOnPushChangeDetection()&&this._getDetectorFor(a).markAsCheckOnce(),n=!1)}}},{key:"callOnAllChangesDone",value:function(){for(var e=this.directiveRecords,t=e.length-1;t>=0;--t){var r=e[t];r.callOnAllChangesDone&&this._getDirectiveFor(r).onAllChangesDone()}}},{key:"_updateDirectiveOrElement",value:function(e,t){c.isBlank(t.directiveRecord)?this.dispatcher.notifyOnBinding(t,e.currentValue):t.setter(this._getDirectiveFor(t.directiveRecord),e.currentValue)}},{key:"_addChange",value:function(e,t,r){return u.assert.argumentTypes(e,f.BindingRecord,t,u.assert.type.any,r,u.assert.type.any),e.callOnChange()?y.ChangeDetectionUtil.addChange(r,e.propertyName,t):r}},{key:"_getDirectiveFor",value:function(e){return u.assert.argumentTypes(e,h.DirectiveRecord),this.directives.getDirectiveFor(e)}},{key:"_getDetectorFor",value:function(e){return u.assert.argumentTypes(e,h.DirectiveRecord),this.directives.getDetectorFor(e)}},{key:"_check",value:function(e){u.assert.argumentTypes(e,m.ProtoRecord);try{return e.mode===m.RECORD_TYPE_PIPE||e.mode===m.RECORD_TYPE_BINDING_PIPE?this._pipeCheck(e):this._referenceCheck(e)}catch(t){throw new g.ChangeDetectionError(e,t)}}},{key:"_referenceCheck",value:function(e){if(u.assert.argumentTypes(e,m.ProtoRecord),this._pureFuncAndArgsDidNotChange(e))return this._setChanged(e,!1),null;var t=this._readSelf(e),r=this._calculateCurrValue(e);return n(t,r)?(this._setChanged(e,!1),null):(this._writeSelf(e,r),this._setChanged(e,!0),e.lastInBinding?y.ChangeDetectionUtil.simpleChange(t,r):null)}},{key:"_calculateCurrValue",value:function(e){switch(u.assert.argumentTypes(e,m.ProtoRecord),e.mode){case m.RECORD_TYPE_SELF:return this._readContext(e);case m.RECORD_TYPE_CONST:return e.funcOrValue;case m.RECORD_TYPE_PROPERTY:var t=this._readContext(e);return e.funcOrValue(t);case m.RECORD_TYPE_LOCAL:return this.locals.get(e.name);case m.RECORD_TYPE_INVOKE_METHOD:var t=this._readContext(e),r=this._readArgs(e);return e.funcOrValue(t,r);case m.RECORD_TYPE_KEYED_ACCESS:var n=this._readArgs(e)[0];return this._readContext(e)[n];case m.RECORD_TYPE_INVOKE_CLOSURE:return c.FunctionWrapper.apply(this._readContext(e),this._readArgs(e));case m.RECORD_TYPE_INTERPOLATE:case m.RECORD_TYPE_PRIMITIVE_OP:return c.FunctionWrapper.apply(e.funcOrValue,this._readArgs(e));default:throw new c.BaseException("Unknown operation "+e.mode)}}},{key:"_pipeCheck",value:function(e){u.assert.argumentTypes(e,m.ProtoRecord);var t=this._readContext(e),r=this._pipeFor(e,t),n=r.transform(t);if(y.ChangeDetectionUtil.noChangeMarker(n))return this._setChanged(e,!1),null;var i=this._readSelf(e);return this._writeSelf(e,n),this._setChanged(e,!0),e.lastInBinding?y.ChangeDetectionUtil.simpleChange(i,n):null}},{key:"_pipeFor",value:function(e,t){u.assert.argumentTypes(e,m.ProtoRecord,t,u.assert.type.any);var r=this._readPipe(e);if(c.isPresent(r)&&r.supports(t))return r;c.isPresent(r)&&r.onDestroy();var n=e.mode===m.RECORD_TYPE_BINDING_PIPE?this.ref:null,i=this.pipeRegistry.get(e.name,t,n);return this._writePipe(e,i),i}},{key:"_readContext",value:function(e){return u.assert.argumentTypes(e,m.ProtoRecord),this.values[e.contextIndex]}},{key:"_readSelf",value:function(e){return u.assert.argumentTypes(e,m.ProtoRecord),this.values[e.selfIndex]}},{key:"_writeSelf",value:function(e,t){u.assert.argumentTypes(e,m.ProtoRecord,t,u.assert.type.any),this.values[e.selfIndex]=t}},{key:"_readPipe",value:function(e){return u.assert.argumentTypes(e,m.ProtoRecord),this.pipes[e.selfIndex]}},{key:"_writePipe",value:function(e,t){u.assert.argumentTypes(e,m.ProtoRecord,t,u.assert.type.any),this.pipes[e.selfIndex]=t}},{key:"_setChanged",value:function(e,t){u.assert.argumentTypes(e,m.ProtoRecord,t,u.assert.type["boolean"]),this.changes[e.selfIndex]=t}},{key:"_pureFuncAndArgsDidNotChange",value:function(e){return u.assert.argumentTypes(e,m.ProtoRecord),u.assert.returnType(e.isPureFunction()&&!this._argsChanged(e),u.assert.type["boolean"])}},{key:"_argsChanged",value:function(e){u.assert.argumentTypes(e,m.ProtoRecord);for(var t=e.args,r=0;r<t.length;++r)if(this.changes[t[r]])return u.assert.returnType(!0,u.assert.type["boolean"]);return u.assert.returnType(!1,u.assert.type["boolean"])}},{key:"_readArgs",value:function(e){u.assert.argumentTypes(e,m.ProtoRecord);for(var t=p.ListWrapper.createFixedSize(e.args.length),r=e.args,n=0;n<r.length;++n)t[n]=this.values[r[n]];return t}}]),t}(l.AbstractChangeDetector);t.DynamicChangeDetector=v,Object.defineProperty(v,"parameters",{get:function(){return[[u.assert.type.string],[u.assert.type.any],[d.PipeRegistry],[u.assert.genericType(p.List,m.ProtoRecord)],[p.List]]}}),Object.defineProperty(v.prototype.hydrate,"parameters",{get:function(){return[[u.assert.type.any],[u.assert.type.any],[u.assert.type.any]]}}),Object.defineProperty(v.prototype.detectChangesInRecords,"parameters",{get:function(){return[[u.assert.type["boolean"]]]}}),Object.defineProperty(v.prototype._addChange,"parameters",{get:function(){return[[f.BindingRecord],[],[]]}}),Object.defineProperty(v.prototype._getDirectiveFor,"parameters",{get:function(){return[[h.DirectiveRecord]]}}),Object.defineProperty(v.prototype._getDetectorFor,"parameters",{get:function(){return[[h.DirectiveRecord]]}}),Object.defineProperty(v.prototype._check,"parameters",{get:function(){return[[m.ProtoRecord]]}}),Object.defineProperty(v.prototype._referenceCheck,"parameters",{get:function(){return[[m.ProtoRecord]]}}),Object.defineProperty(v.prototype._calculateCurrValue,"parameters",{get:function(){return[[m.ProtoRecord]]}}),Object.defineProperty(v.prototype._pipeCheck,"parameters",{get:function(){return[[m.ProtoRecord]]}}),Object.defineProperty(v.prototype._pipeFor,"parameters",{get:function(){return[[m.ProtoRecord],[]]}}),Object.defineProperty(v.prototype._readContext,"parameters",{get:function(){return[[m.ProtoRecord]]}}),Object.defineProperty(v.prototype._readSelf,"parameters",{get:function(){return[[m.ProtoRecord]]}}),Object.defineProperty(v.prototype._writeSelf,"parameters",{get:function(){return[[m.ProtoRecord],[]]}}),Object.defineProperty(v.prototype._readPipe,"parameters",{get:function(){return[[m.ProtoRecord]]}}),Object.defineProperty(v.prototype._writePipe,"parameters",{get:function(){return[[m.ProtoRecord],[]]}}),Object.defineProperty(v.prototype._setChanged,"parameters",{get:function(){return[[m.ProtoRecord],[u.assert.type["boolean"]]]}}),Object.defineProperty(v.prototype._pureFuncAndArgsDidNotChange,"parameters",{get:function(){return[[m.ProtoRecord]]}}),Object.defineProperty(v.prototype._argsChanged,"parameters",{get:function(){return[[m.ProtoRecord]]}}),Object.defineProperty(v.prototype._readArgs,"parameters",{get:function(){return[[m.ProtoRecord]]}})},function(e,t,r){"use strict";function n(e,t){return _.assert.argumentTypes(e,T["int"],t,T["int"]),_.assert.returnType(new C(e,k,t,T.StringWrapper.fromCharCode(t)),C)}function i(e,t){return _.assert.argumentTypes(e,T["int"],t,_.assert.type.string),_.assert.returnType(new C(e,L,0,t),C)}function s(e,t){return _.assert.argumentTypes(e,T["int"],t,_.assert.type.string),_.assert.returnType(new C(e,M,0,t),C)}function o(e,t){return _.assert.argumentTypes(e,T["int"],t,_.assert.type.string),_.assert.returnType(new C(e,O,0,t),C)}function a(e,t){return _.assert.argumentTypes(e,T["int"],t,_.assert.type.string),_.assert.returnType(new C(e,P,0,t),C)}function u(e,t){return _.assert.argumentTypes(e,T["int"],t,_.assert.type.number),_.assert.returnType(new C(e,D,t,""),C)}function c(e){return _.assert.argumentTypes(e,T["int"]),_.assert.returnType(e>=x&&W>=e||e==je,_.assert.type["boolean"])}function p(e){return _.assert.argumentTypes(e,T["int"]),_.assert.returnType(e>=me&&Le>=e||e>=ue&&pe>=e||e==ye||e==B,_.assert.type["boolean"])}function l(e){return _.assert.argumentTypes(e,T["int"]),_.assert.returnType(e>=me&&Le>=e||e>=ue&&pe>=e||e>=oe&&ae>=e||e==ye||e==B,_.assert.type["boolean"])}function f(e){return _.assert.argumentTypes(e,T["int"]),_.assert.returnType(e>=oe&&ae>=e,_.assert.type["boolean"])}function h(e){return _.assert.argumentTypes(e,T["int"]),_.assert.returnType(e==ge||e==ce,_.assert.type["boolean"])}function d(e){return _.assert.argumentTypes(e,T["int"]),_.assert.returnType(e==$||e==J,_.assert.type["boolean"])}function y(e){switch(_.assert.argumentTypes(e,T["int"]),e){case _e:return _.assert.returnType(Y,T["int"]);case ve:return _.assert.returnType(R,T["int"]);case be:return _.assert.returnType(I,T["int"]);case we:return _.assert.returnType(x,T["int"]);case ke:return _.assert.returnType(A,T["int"]);default:return _.assert.returnType(e,T["int"])}}var m=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},g=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var _=r(1),b=r(7),w=r(4),T=r(2),k=1;t.TOKEN_TYPE_CHARACTER=k;var L=2;t.TOKEN_TYPE_IDENTIFIER=L;var M=3;t.TOKEN_TYPE_KEYWORD=M;var P=4;t.TOKEN_TYPE_STRING=P;var O=5;t.TOKEN_TYPE_OPERATOR=O;var D=6;t.TOKEN_TYPE_NUMBER=D;var j=function(){function e(){g(this,e)}return v(e,[{key:"tokenize",value:function(e){_.assert.argumentTypes(e,_.assert.type.string);for(var t=new Ee(e),r=[],n=t.scanToken();null!=n;)w.ListWrapper.push(r,n),n=t.scanToken();return _.assert.returnType(r,w.List)}}]),e}();t.Lexer=j,Object.defineProperty(j,"annotations",{get:function(){return[new b.Injectable]}}),Object.defineProperty(j.prototype.tokenize,"parameters",{get:function(){return[[_.assert.type.string]]}});var C=function(){function e(t,r,n,i){g(this,e),_.assert.argumentTypes(t,T["int"],r,T["int"],n,_.assert.type.number,i,_.assert.type.string),this.index=t,this.type=r,this._numValue=n,this._strValue=i}return v(e,[{key:"isCharacter",value:function(e){return _.assert.argumentTypes(e,T["int"]),_.assert.returnType(this.type==k&&this._numValue==e,_.assert.type["boolean"])}},{key:"isNumber",value:function(){return _.assert.returnType(this.type==D,_.assert.type["boolean"])}},{key:"isString",value:function(){return _.assert.returnType(this.type==P,_.assert.type["boolean"])}},{key:"isOperator",value:function(e){return _.assert.argumentTypes(e,_.assert.type.string),_.assert.returnType(this.type==O&&this._strValue==e,_.assert.type["boolean"])}},{key:"isIdentifier",value:function(){return _.assert.returnType(this.type==L,_.assert.type["boolean"])}},{key:"isKeyword",value:function(){return _.assert.returnType(this.type==M,_.assert.type["boolean"])}},{key:"isKeywordVar",value:function(){return _.assert.returnType(this.type==M&&"var"==this._strValue,_.assert.type["boolean"])}},{key:"isKeywordNull",value:function(){return _.assert.returnType(this.type==M&&"null"==this._strValue,_.assert.type["boolean"])}},{key:"isKeywordUndefined",value:function(){return _.assert.returnType(this.type==M&&"undefined"==this._strValue,_.assert.type["boolean"])}},{key:"isKeywordTrue",value:function(){return _.assert.returnType(this.type==M&&"true"==this._strValue,_.assert.type["boolean"])}},{key:"isKeywordFalse",value:function(){return _.assert.returnType(this.type==M&&"false"==this._strValue,_.assert.type["boolean"])}},{key:"toNumber",value:function(){return _.assert.returnType(this.type==D?this._numValue:-1,_.assert.type.number)}},{key:"toString",value:function(){var e=_.assert.type(this.type,T["int"]);return e>=k&&P>=e?_.assert.returnType(this._strValue,_.assert.type.string):e==D?_.assert.returnType(this._numValue.toString(),_.assert.type.string):_.assert.returnType(null,_.assert.type.string)}}]),e}();t.Token=C,Object.defineProperty(C,"parameters",{get:function(){return[[T["int"]],[T["int"]],[_.assert.type.number],[_.assert.type.string]]}}),Object.defineProperty(C.prototype.isCharacter,"parameters",{get:function(){return[[T["int"]]]}}),Object.defineProperty(C.prototype.isOperator,"parameters",{get:function(){return[[_.assert.type.string]]}}),Object.defineProperty(n,"parameters",{get:function(){return[[T["int"]],[T["int"]]]}}),Object.defineProperty(i,"parameters",{get:function(){return[[T["int"]],[_.assert.type.string]]}}),Object.defineProperty(s,"parameters",{get:function(){return[[T["int"]],[_.assert.type.string]]}}),Object.defineProperty(o,"parameters",{get:function(){return[[T["int"]],[_.assert.type.string]]}}),Object.defineProperty(a,"parameters",{get:function(){return[[T["int"]],[_.assert.type.string]]}}),Object.defineProperty(u,"parameters",{get:function(){return[[T["int"]],[_.assert.type.number]]}});var E=_.assert.type(new C(-1,0,0,""),C);t.EOF=E;var S=0;t.$EOF=S;var x=9;t.$TAB=x;var Y=10;t.$LF=Y;var A=11;t.$VTAB=A;var R=12;t.$FF=R;var I=13;t.$CR=I;var W=32;t.$SPACE=W;var F=33;t.$BANG=F;

var N=34;t.$DQ=N;var V=35;t.$HASH=V;var B=36;t.$$=B;var H=37;t.$PERCENT=H;var U=38;t.$AMPERSAND=U;var q=39;t.$SQ=q;var z=40;t.$LPAREN=z;var K=41;t.$RPAREN=K;var G=42;t.$STAR=G;var J=43;t.$PLUS=J;var Q=44;t.$COMMA=Q;var $=45;t.$MINUS=$;var Z=46;t.$PERIOD=Z;var X=47;t.$SLASH=X;var ee=58;t.$COLON=ee;var te=59;t.$SEMICOLON=te;var re=60;t.$LT=re;var ne=61;t.$EQ=ne;var ie=62;t.$GT=ie;var se=63;t.$QUESTION=se;var oe=48,ae=57,ue=65,ce=69,pe=90,le=91;t.$LBRACKET=le;var fe=92;t.$BACKSLASH=fe;var he=93;t.$RBRACKET=he;var de=94,ye=95,me=97,ge=101,ve=102,_e=110,be=114,we=116,Te=117,ke=118,Le=122,Me=123;t.$LBRACE=Me;var Pe=124;t.$BAR=Pe;var Oe=125;t.$RBRACE=Oe;var De=126,je=160,Ce=function(e){function t(r){g(this,t);var n=new e;return n.__proto__=t.prototype,n.message=r,n}return m(t,e),v(t,[{key:"toString",value:function(){return this.message}}]),t}(Error);t.ScannerError=Ce;var Ee=function(){function e(t){g(this,e),_.assert.argumentTypes(t,_.assert.type.string),this.input=t,this.length=t.length,this.peek=0,this.index=-1,this.advance()}return v(e,[{key:"advance",value:function(){this.peek=++this.index>=this.length?S:T.StringWrapper.charCodeAt(this.input,this.index)}},{key:"scanToken",value:function(){for(var e=this.input,t=this.length,r=this.peek,i=this.index;W>=r;){if(++i>=t){r=S;break}r=T.StringWrapper.charCodeAt(e,i)}if(this.peek=r,this.index=i,i>=t)return _.assert.returnType(null,C);if(p(r))return _.assert.returnType(this.scanIdentifier(),C);if(f(r))return _.assert.returnType(this.scanNumber(i),C);var s=_.assert.type(i,T["int"]);switch(r){case Z:return this.advance(),_.assert.returnType(f(this.peek)?this.scanNumber(s):n(s,Z),C);case z:case K:case Me:case Oe:case le:case he:case Q:case ee:case te:return _.assert.returnType(this.scanCharacter(s,r),C);case q:case N:return _.assert.returnType(this.scanString(),C);case V:return _.assert.returnType(this.scanOperator(s,T.StringWrapper.fromCharCode(r)),C);case J:case $:case G:case X:case H:case de:case se:return _.assert.returnType(this.scanOperator(s,T.StringWrapper.fromCharCode(r)),C);case re:case ie:case F:case ne:return _.assert.returnType(this.scanComplexOperator(s,ne,T.StringWrapper.fromCharCode(r),"="),C);case U:return _.assert.returnType(this.scanComplexOperator(s,U,"&","&"),C);case Pe:return _.assert.returnType(this.scanComplexOperator(s,Pe,"|","|"),C);case De:return _.assert.returnType(this.scanComplexOperator(s,X,"~","/"),C);case je:for(;c(this.peek);)this.advance();return _.assert.returnType(this.scanToken(),C)}return this.error("Unexpected character ["+T.StringWrapper.fromCharCode(r)+"]",0),_.assert.returnType(null,C)}},{key:"scanCharacter",value:function(e,t){return _.assert.argumentTypes(e,T["int"],t,T["int"]),_.assert(this.peek==t),this.advance(),_.assert.returnType(n(e,t),C)}},{key:"scanOperator",value:function(e,t){return _.assert.argumentTypes(e,T["int"],t,_.assert.type.string),_.assert(this.peek==T.StringWrapper.charCodeAt(t,0)),_.assert(w.SetWrapper.has(Se,t)),this.advance(),_.assert.returnType(o(e,t),C)}},{key:"scanComplexOperator",value:function(e,t,r,n){_.assert.argumentTypes(e,T["int"],t,T["int"],r,_.assert.type.string,n,_.assert.type.string),_.assert(this.peek==T.StringWrapper.charCodeAt(r,0)),this.advance();var i=_.assert.type(r,_.assert.type.string);return this.peek==t&&(this.advance(),i+=n),_.assert(w.SetWrapper.has(Se,i)),_.assert.returnType(o(e,i),C)}},{key:"scanIdentifier",value:function(){_.assert(p(this.peek));var e=_.assert.type(this.index,T["int"]);for(this.advance();l(this.peek);)this.advance();var t=_.assert.type(this.input.substring(e,this.index),_.assert.type.string);return w.SetWrapper.has(xe,t)?_.assert.returnType(s(e,t),C):_.assert.returnType(i(e,t),C)}},{key:"scanNumber",value:function(e){_.assert.argumentTypes(e,T["int"]),_.assert(f(this.peek));var t=_.assert.type(this.index===e,_.assert.type["boolean"]);for(this.advance();;){if(f(this.peek));else if(this.peek==Z)t=!1;else{if(!h(this.peek))break;this.advance(),d(this.peek)&&this.advance(),f(this.peek)||this.error("Invalid exponent",-1),t=!1}this.advance()}var r=_.assert.type(this.input.substring(e,this.index),_.assert.type.string),n=_.assert.type(t?T.NumberWrapper.parseIntAutoRadix(r):T.NumberWrapper.parseFloat(r),_.assert.type.number);return _.assert.returnType(u(e,n),C)}},{key:"scanString",value:function(){_.assert(this.peek==q||this.peek==N);var e=_.assert.type(this.index,T["int"]),t=_.assert.type(this.peek,T["int"]);this.advance();for(var r,n=_.assert.type(this.index,T["int"]),i=_.assert.type(this.input,_.assert.type.string);this.peek!=t;)if(this.peek==fe){null==r&&(r=new T.StringJoiner),r.add(i.substring(n,this.index)),this.advance();var s;if(this.peek==Te){var o=_.assert.type(i.substring(this.index+1,this.index+5),_.assert.type.string);try{s=T.NumberWrapper.parseInt(o,16)}catch(u){this.error("Invalid unicode escape [\\u"+o+"]",0)}for(var c=_.assert.type(0,T["int"]);5>c;c++)this.advance()}else s=y(this.peek),this.advance();r.add(T.StringWrapper.fromCharCode(s)),n=this.index}else this.peek==S?this.error("Unterminated quote",0):this.advance();var p=_.assert.type(i.substring(n,this.index),_.assert.type.string);this.advance();var l=_.assert.type(p,_.assert.type.string);return null!=r&&(r.add(p),l=r.toString()),_.assert.returnType(a(e,l),C)}},{key:"error",value:function(e,t){_.assert.argumentTypes(e,_.assert.type.string,t,T["int"]);var r=_.assert.type(this.index+t,T["int"]);throw new Ce("Lexer Error: "+e+" at column "+r+" in expression ["+this.input+"]")}}]),e}();Object.defineProperty(Ee,"parameters",{get:function(){return[[_.assert.type.string]]}}),Object.defineProperty(Ee.prototype.scanCharacter,"parameters",{get:function(){return[[T["int"]],[T["int"]]]}}),Object.defineProperty(Ee.prototype.scanOperator,"parameters",{get:function(){return[[T["int"]],[_.assert.type.string]]}}),Object.defineProperty(Ee.prototype.scanComplexOperator,"parameters",{get:function(){return[[T["int"]],[T["int"]],[_.assert.type.string],[_.assert.type.string]]}}),Object.defineProperty(Ee.prototype.scanNumber,"parameters",{get:function(){return[[T["int"]]]}}),Object.defineProperty(Ee.prototype.error,"parameters",{get:function(){return[[_.assert.type.string],[T["int"]]]}}),Object.defineProperty(c,"parameters",{get:function(){return[[T["int"]]]}}),Object.defineProperty(p,"parameters",{get:function(){return[[T["int"]]]}}),Object.defineProperty(l,"parameters",{get:function(){return[[T["int"]]]}}),Object.defineProperty(f,"parameters",{get:function(){return[[T["int"]]]}}),Object.defineProperty(h,"parameters",{get:function(){return[[T["int"]]]}}),Object.defineProperty(d,"parameters",{get:function(){return[[T["int"]]]}}),Object.defineProperty(y,"parameters",{get:function(){return[[T["int"]]]}});var Se=w.SetWrapper.createFromList(["+","-","*","/","~/","%","^","=","==","!=","<",">","<=",">=","&&","||","&","|","!","?","#"]),xe=w.SetWrapper.createFromList(["var","null","undefined","true","false"])},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(2),a=r(4),u=function(){function e(t,r){n(this,e),s.assert.argumentTypes(t,e,r,Map),this.parent=t,this.current=r}return i(e,[{key:"contains",value:function(e){return s.assert.argumentTypes(e,s.assert.type.string),a.MapWrapper.contains(this.current,e)?s.assert.returnType(!0,s.assert.type["boolean"]):o.isPresent(this.parent)?s.assert.returnType(this.parent.contains(e),s.assert.type["boolean"]):s.assert.returnType(!1,s.assert.type["boolean"])}},{key:"get",value:function(e){if(s.assert.argumentTypes(e,s.assert.type.string),a.MapWrapper.contains(this.current,e))return a.MapWrapper.get(this.current,e);if(o.isPresent(this.parent))return this.parent.get(e);throw new o.BaseException("Cannot find '"+e+"'")}},{key:"set",value:function(e,t){if(s.assert.argumentTypes(e,s.assert.type.string,t,s.assert.type.any),!a.MapWrapper.contains(this.current,e))throw new o.BaseException("Setting of new keys post-construction is not supported.");a.MapWrapper.set(this.current,e,t)}},{key:"clearValues",value:function(){a.MapWrapper.clearValues(this.current)}}]),e}();t.Locals=u,Object.defineProperty(u,"parameters",{get:function(){return[[u],[Map]]}}),Object.defineProperty(u.prototype.contains,"parameters",{get:function(){return[[s.assert.type.string]]}}),Object.defineProperty(u.prototype.get,"parameters",{get:function(){return[[s.assert.type.string]]}}),Object.defineProperty(u.prototype.set,"parameters",{get:function(){return[[s.assert.type.string],[]]}})},function(e,t,r){"use strict";function n(e){switch(h.assert.argumentTypes(e,h.assert.type.number),e){case 0:return h.assert.returnType(v.ChangeDetectionUtil.arrayFn0,Function);case 1:return h.assert.returnType(v.ChangeDetectionUtil.arrayFn1,Function);case 2:return h.assert.returnType(v.ChangeDetectionUtil.arrayFn2,Function);case 3:return h.assert.returnType(v.ChangeDetectionUtil.arrayFn3,Function);case 4:return h.assert.returnType(v.ChangeDetectionUtil.arrayFn4,Function);case 5:return h.assert.returnType(v.ChangeDetectionUtil.arrayFn5,Function);case 6:return h.assert.returnType(v.ChangeDetectionUtil.arrayFn6,Function);case 7:return h.assert.returnType(v.ChangeDetectionUtil.arrayFn7,Function);case 8:return h.assert.returnType(v.ChangeDetectionUtil.arrayFn8,Function);case 9:return h.assert.returnType(v.ChangeDetectionUtil.arrayFn9,Function);default:throw new d.BaseException("Does not support literal maps with more than 9 elements")}}function i(e){var t=y.ListWrapper.join(y.ListWrapper.map(e,function(e){return d.isString(e)?'"'+e+'"':""+e}),", ");return"mapFn(["+t+"])"}function s(e){switch(h.assert.argumentTypes(e,h.assert.type.string),e){case"+":return h.assert.returnType("operation_add",h.assert.type.string);case"-":return h.assert.returnType("operation_subtract",h.assert.type.string);case"*":return h.assert.returnType("operation_multiply",h.assert.type.string);case"/":return h.assert.returnType("operation_divide",h.assert.type.string);case"%":return h.assert.returnType("operation_remainder",h.assert.type.string);case"==":return h.assert.returnType("operation_equals",h.assert.type.string);case"!=":return h.assert.returnType("operation_not_equals",h.assert.type.string);case"<":return h.assert.returnType("operation_less_then",h.assert.type.string);case">":return h.assert.returnType("operation_greater_then",h.assert.type.string);case"<=":return h.assert.returnType("operation_less_or_equals_then",h.assert.type.string);case">=":return h.assert.returnType("operation_greater_or_equals_then",h.assert.type.string);case"&&":return h.assert.returnType("operation_logical_and",h.assert.type.string);case"||":return h.assert.returnType("operation_logical_or",h.assert.type.string);default:throw new d.BaseException("Unsupported operation "+e)}}function o(e){switch(h.assert.argumentTypes(e,h.assert.type.string),e){case"+":return h.assert.returnType(v.ChangeDetectionUtil.operation_add,Function);case"-":return h.assert.returnType(v.ChangeDetectionUtil.operation_subtract,Function);case"*":return h.assert.returnType(v.ChangeDetectionUtil.operation_multiply,Function);case"/":return h.assert.returnType(v.ChangeDetectionUtil.operation_divide,Function);case"%":return h.assert.returnType(v.ChangeDetectionUtil.operation_remainder,Function);case"==":return h.assert.returnType(v.ChangeDetectionUtil.operation_equals,Function);case"!=":return h.assert.returnType(v.ChangeDetectionUtil.operation_not_equals,Function);case"<":return h.assert.returnType(v.ChangeDetectionUtil.operation_less_then,Function);case">":return h.assert.returnType(v.ChangeDetectionUtil.operation_greater_then,Function);case"<=":return h.assert.returnType(v.ChangeDetectionUtil.operation_less_or_equals_then,Function);case">=":return h.assert.returnType(v.ChangeDetectionUtil.operation_greater_or_equals_then,Function);case"&&":return h.assert.returnType(v.ChangeDetectionUtil.operation_logical_and,Function);case"||":return h.assert.returnType(v.ChangeDetectionUtil.operation_logical_or,Function);default:throw new d.BaseException("Unsupported operation "+e)}}function a(e){return d.isPresent(e)?""+e:""}function u(e){var t=e.length,r=t>0?e[0]:null,n=t>1?e[1]:null,i=t>2?e[2]:null,s=t>3?e[3]:null,o=t>4?e[4]:null,u=t>5?e[5]:null,c=t>6?e[6]:null,p=t>7?e[7]:null,l=t>8?e[8]:null,f=t>9?e[9]:null;switch(t-1){case 1:return function(e){return r+a(e)+n};case 2:return function(e,t){return r+a(e)+n+a(t)+i};case 3:return function(e,t,o){return r+a(e)+n+a(t)+i+a(o)+s};case 4:return function(e,t,u,c){return r+a(e)+n+a(t)+i+a(u)+s+a(c)+o};case 5:return function(e,t,c,p,l){return r+a(e)+n+a(t)+i+a(c)+s+a(p)+o+a(l)+u};case 6:return function(e,t,p,l,f,h){return r+a(e)+n+a(t)+i+a(p)+s+a(l)+o+a(f)+u+a(h)+c};case 7:return function(e,t,l,f,h,d,y){return r+a(e)+n+a(t)+i+a(l)+s+a(f)+o+a(h)+u+a(d)+c+a(y)+p};case 8:return function(e,t,f,h,d,y,m,g){return r+a(e)+n+a(t)+i+a(f)+s+a(h)+o+a(d)+u+a(y)+c+a(m)+p+a(g)+l};case 9:return function(e,t,h,d,y,m,g,v,_){return r+a(e)+n+a(t)+i+a(h)+s+a(d)+o+a(y)+u+a(m)+c+a(g)+p+a(v)+l+a(_)+f};default:throw new d.BaseException("Does not support more than 9 expressions")}}var c=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function C(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:C(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},f=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var h=r(1),d=r(2),y=r(4),m=r(48),g=r(36),v=r(45),_=r(88),b=r(241),w=r(49),T=r(35),k=r(242),L=r(33),M=function(e){function t(e,r){c(this,t),h.assert.argumentTypes(e,w.PipeRegistry,r,h.assert.type.string),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._pipeRegistry=e,this._changeControlStrategy=r}return f(t,e),p(t,[{key:"instantiate",value:function(e,t,r,n){return h.assert.argumentTypes(e,h.assert.type.any,t,y.List,r,y.List,n,y.List),this._createRecordsIfNecessary(t,r),new _.DynamicChangeDetector(this._changeControlStrategy,e,this._pipeRegistry,this._records,n)}},{key:"_createRecordsIfNecessary",value:function(e,t){if(h.assert.argumentTypes(e,y.List,t,y.List),d.isBlank(this._records)){var r=new D;y.ListWrapper.forEach(e,function(e){r.addAst(e,t)}),this._records=k.coalesce(r.records)}}}]),t}(g.ProtoChangeDetector);t.DynamicProtoChangeDetector=M,Object.defineProperty(M,"parameters",{get:function(){return[[w.PipeRegistry],[h.assert.type.string]]}}),Object.defineProperty(M.prototype.instantiate,"parameters",{get:function(){return[[h.assert.type.any],[y.List],[y.List],[y.List]]}}),Object.defineProperty(M.prototype._createRecordsIfNecessary,"parameters",{get:function(){return[[y.List],[y.List]]}});var P=h.assert.type(0,h.assert.type.number),O=function(e){function t(e,r){c(this,t),h.assert.argumentTypes(e,h.assert.type.any,r,h.assert.type.string),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._pipeRegistry=e,this._factory=null,this._changeControlStrategy=r}return f(t,e),p(t,[{key:"instantiate",value:function(e,t,r,n){return h.assert.argumentTypes(e,h.assert.type.any,t,y.List,r,y.List,n,y.List),this._createFactoryIfNecessary(t,r,n),this._factory(e,this._pipeRegistry)}},{key:"_createFactoryIfNecessary",value:function(e,t,r){if(h.assert.argumentTypes(e,y.List,t,y.List,r,y.List),d.isBlank(this._factory)){var n=new D;y.ListWrapper.forEach(e,function(e){n.addAst(e,t)});var i=P++,s=k.coalesce(n.records),o="ChangeDetector"+i;this._factory=new b.ChangeDetectorJITGenerator(o,this._changeControlStrategy,s,r).generate()}}}]),t}(g.ProtoChangeDetector);t.JitProtoChangeDetector=O,Object.defineProperty(O,"parameters",{get:function(){return[[],[h.assert.type.string]]}}),Object.defineProperty(O.prototype.instantiate,"parameters",{get:function(){return[[h.assert.type.any],[y.List],[y.List],[y.List]]}}),Object.defineProperty(O.prototype._createFactoryIfNecessary,"parameters",{get:function(){return[[y.List],[y.List],[y.List]]}});var D=function(){function e(){c(this,e),this.records=[]}return p(e,[{key:"addAst",value:function(e){var t=void 0===arguments[1]?null:arguments[1];h.assert.argumentTypes(e,T.BindingRecord,t,y.List);var r=y.ListWrapper.last(this.records);d.isPresent(r)&&r.bindingRecord.directiveRecord==e.directiveRecord&&(r.lastInDirective=!1);var n=j.convert(e,this.records.length,t);if(!y.ListWrapper.isEmpty(n)){var r=y.ListWrapper.last(n);r.lastInBinding=!0,r.lastInDirective=!0,this.records=y.ListWrapper.concat(this.records,n)}}}]),e}();Object.defineProperty(D.prototype.addAst,"parameters",{get:function(){return[[T.BindingRecord],[y.List]]}});var j=function(){function e(t,r,n,i){c(this,e),h.assert.argumentTypes(t,T.BindingRecord,r,h.assert.type.number,n,h.assert.type.string,i,y.List),this.protoRecords=[],this.bindingRecord=t,this.contextIndex=r,this.expressionAsString=n,this.variableBindings=i}return p(e,[{key:"visitImplicitReceiver",value:function(e){return h.assert.argumentTypes(e,m.ImplicitReceiver),0}},{key:"visitInterpolation",value:function(e){h.assert.argumentTypes(e,m.Interpolation);var t=this._visitAll(e.expressions);return this._addRecord(L.RECORD_TYPE_INTERPOLATE,"interpolate",u(e.strings),t,e.strings,0)}},{key:"visitLiteralPrimitive",value:function(e){return h.assert.argumentTypes(e,m.LiteralPrimitive),this._addRecord(L.RECORD_TYPE_CONST,"literal",e.value,[],null,0)}},{key:"visitAccessMember",value:function(e){h.assert.argumentTypes(e,m.AccessMember);var t=e.receiver.visit(this);return d.isPresent(this.variableBindings)&&y.ListWrapper.contains(this.variableBindings,e.name)?this._addRecord(L.RECORD_TYPE_LOCAL,e.name,e.name,[],null,t):this._addRecord(L.RECORD_TYPE_PROPERTY,e.name,e.getter,[],null,t)}},{key:"visitMethodCall",value:function(e){h.assert.argumentTypes(e,m.MethodCall);var t=e.receiver.visit(this),r=this._visitAll(e.args);if(d.isPresent(this.variableBindings)&&y.ListWrapper.contains(this.variableBindings,e.name)){var n=this._addRecord(L.RECORD_TYPE_LOCAL,e.name,e.name,[],null,t);return this._addRecord(L.RECORD_TYPE_INVOKE_CLOSURE,"closure",null,r,null,n)}return this._addRecord(L.RECORD_TYPE_INVOKE_METHOD,e.name,e.fn,r,null,t)}},{key:"visitFunctionCall",value:function(e){h.assert.argumentTypes(e,m.FunctionCall);var t=e.target.visit(this),r=this._visitAll(e.args);return this._addRecord(L.RECORD_TYPE_INVOKE_CLOSURE,"closure",null,r,null,t)}},{key:"visitLiteralArray",value:function(e){h.assert.argumentTypes(e,m.LiteralArray);var t="arrayFn"+e.expressions.length;return this._addRecord(L.RECORD_TYPE_PRIMITIVE_OP,t,n(e.expressions.length),this._visitAll(e.expressions),null,0)}},{key:"visitLiteralMap",value:function(e){return h.assert.argumentTypes(e,m.LiteralMap),this._addRecord(L.RECORD_TYPE_PRIMITIVE_OP,i(e.keys),v.ChangeDetectionUtil.mapFn(e.keys),this._visitAll(e.values),null,0)}},{key:"visitBinary",value:function(e){h.assert.argumentTypes(e,m.Binary);var t=e.left.visit(this),r=e.right.visit(this);return this._addRecord(L.RECORD_TYPE_PRIMITIVE_OP,s(e.operation),o(e.operation),[t,r],null,0)}},{key:"visitPrefixNot",value:function(e){h.assert.argumentTypes(e,m.PrefixNot);var t=e.expression.visit(this);return this._addRecord(L.RECORD_TYPE_PRIMITIVE_OP,"operation_negate",v.ChangeDetectionUtil.operation_negate,[t],null,0)}},{key:"visitConditional",value:function(e){h.assert.argumentTypes(e,m.Conditional);var t=e.condition.visit(this),r=e.trueExp.visit(this),n=e.falseExp.visit(this);return this._addRecord(L.RECORD_TYPE_PRIMITIVE_OP,"cond",v.ChangeDetectionUtil.cond,[t,r,n],null,0)}},{key:"visitPipe",value:function(e){h.assert.argumentTypes(e,m.Pipe);var t=e.exp.visit(this),r=e.inBinding?L.RECORD_TYPE_BINDING_PIPE:L.RECORD_TYPE_PIPE;return this._addRecord(r,e.name,e.name,[],null,t)}},{key:"visitKeyedAccess",value:function(e){h.assert.argumentTypes(e,m.KeyedAccess);var t=e.obj.visit(this),r=e.key.visit(this);return this._addRecord(L.RECORD_TYPE_KEYED_ACCESS,"keyedAccess",v.ChangeDetectionUtil.keyedAccess,[r],null,t)}},{key:"_visitAll",value:function(e){h.assert.argumentTypes(e,y.List);for(var t=y.ListWrapper.createFixedSize(e.length),r=0;r<e.length;++r)t[r]=e[r].visit(this);return t}},{key:"_addRecord",value:function(e,t,r,n,i,s){var o=++this.contextIndex;return y.ListWrapper.push(this.protoRecords,new L.ProtoRecord(e,t,r,n,i,s,o,this.bindingRecord,this.expressionAsString,!1,!1)),o}}],[{key:"convert",value:function(t,r,n){h.assert.argumentTypes(t,T.BindingRecord,r,h.assert.type.number,n,y.List);var i=new e(t,r,t.ast.toString(),n);return t.ast.visit(i),i.protoRecords}}]),e}();Object.defineProperty(j,"parameters",{get:function(){return[[T.BindingRecord],[h.assert.type.number],[h.assert.type.string],[y.List]]}}),Object.defineProperty(j.convert,"parameters",{get:function(){return[[T.BindingRecord],[h.assert.type.number],[y.List]]}}),Object.defineProperty(j.prototype.visitImplicitReceiver,"parameters",{get:function(){return[[m.ImplicitReceiver]]}}),Object.defineProperty(j.prototype.visitInterpolation,"parameters",{get:function(){return[[m.Interpolation]]}}),Object.defineProperty(j.prototype.visitLiteralPrimitive,"parameters",{get:function(){return[[m.LiteralPrimitive]]}}),Object.defineProperty(j.prototype.visitAccessMember,"parameters",{get:function(){return[[m.AccessMember]]}}),Object.defineProperty(j.prototype.visitMethodCall,"parameters",{get:function(){return[[m.MethodCall]]}}),Object.defineProperty(j.prototype.visitFunctionCall,"parameters",{get:function(){return[[m.FunctionCall]]}}),Object.defineProperty(j.prototype.visitLiteralArray,"parameters",{get:function(){return[[m.LiteralArray]]}}),Object.defineProperty(j.prototype.visitLiteralMap,"parameters",{get:function(){return[[m.LiteralMap]]}}),Object.defineProperty(j.prototype.visitBinary,"parameters",{get:function(){return[[m.Binary]]}}),Object.defineProperty(j.prototype.visitPrefixNot,"parameters",{get:function(){return[[m.PrefixNot]]}}),Object.defineProperty(j.prototype.visitConditional,"parameters",{get:function(){return[[m.Conditional]]}}),Object.defineProperty(j.prototype.visitPipe,"parameters",{get:function(){return[[m.Pipe]]}}),Object.defineProperty(j.prototype.visitKeyedAccess,"parameters",{get:function(){return[[m.KeyedAccess]]}}),Object.defineProperty(j.prototype._visitAll,"parameters",{get:function(){return[[y.List]]}}),Object.defineProperty(n,"parameters",{get:function(){return[[h.assert.type.number]]}}),Object.defineProperty(i,"parameters",{get:function(){return[[y.List]]}}),Object.defineProperty(s,"parameters",{get:function(){return[[h.assert.type.string]]}}),Object.defineProperty(o,"parameters",{get:function(){return[[h.assert.type.string]]}}),Object.defineProperty(u,"parameters",{get:function(){return[[y.List]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function f(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:f(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),u=r(7),c=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.propName=e}return o(t,e),i(t,[{key:"token",get:function(){return Function}}]),t}(u.DependencyAnnotation);t.PropertySetter=c,Object.defineProperty(c,"annotations",{get:function(){return[new a.CONST]}});var p=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.attributeName=e}return o(t,e),i(t,[{key:"token",get:function(){return this}}]),t}(u.DependencyAnnotation);t.Attribute=p,Object.defineProperty(p,"annotations",{get:function(){return[new a.CONST]}});var l=function(e){function t(e){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.directive=e}return o(t,e),t}(u.DependencyAnnotation);t.Query=l,Object.defineProperty(l,"annotations",{get:function(){return[new a.CONST]}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),i=new n.OpaqueToken("ComponentRef");t.appComponentRefToken=i;var s=new n.OpaqueToken("AppChangeDetector");t.appChangeDetectorToken=s;var o=new n.OpaqueToken("AppElement");t.appElementToken=o;var a=new n.OpaqueToken("AppComponentAnnotatedType");t.appComponentAnnotatedTypeToken=a;var u=new n.OpaqueToken("AppDocument");t.appDocumentToken=u},function(e,t,r){"use strict";var n=function h(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:h(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(7),c=r(2),p=r(4),l=function(){function e(){s(this,e)}return o(e,[{key:"getUrl",value:function(e){return a.assert.argumentTypes(e,c.Type),a.assert.returnType("./",a.assert.type.string)}}]),e}();t.ComponentUrlMapper=l,Object.defineProperty(l,"annotations",{get:function(){return[new u.Injectable]}}),Object.defineProperty(l.prototype.getUrl,"parameters",{get:function(){return[[c.Type]]}});var f=function(e){function t(){s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._componentUrls=p.MapWrapper.create()}return i(t,e),o(t,[{key:"setComponentUrl",value:function(e,t){a.assert.argumentTypes(e,c.Type,t,a.assert.type.string),p.MapWrapper.set(this._componentUrls,e,t)}},{key:"getUrl",value:function(e){a.assert.argumentTypes(e,c.Type);var r=p.MapWrapper.get(this._componentUrls,e);return c.isPresent(r)?a.assert.returnType(r,a.assert.type.string):a.assert.returnType(n(Object.getPrototypeOf(t.prototype),"getUrl",this).call(this,e),a.assert.type.string)}}]),t}(l);t.RuntimeComponentUrlMapper=f,Object.defineProperty(f.prototype.setComponentUrl,"parameters",{get:function(){return[[c.Type],[a.assert.type.string]]}}),Object.defineProperty(f.prototype.getUrl,"parameters",{get:function(){return[[c.Type]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(7),a=r(63),u=r(64),c=r(2),p=r(9),l=r(12),f=r(51),h=r(65),d=r(20),y=r(15),m=function(){function e(t,r,i,o){n(this,e),s.assert.argumentTypes(t,d.ElementRef,r,s.assert.type.any,i,y.AppView,o,Function),this.location=t,this.instance=r,this.componentView=i,this._dispose=o}return i(e,[{key:"injector",get:function(){return this.location.injector}},{key:"hostView",get:function(){return this.location.hostView}},{key:"dispose",value:function(){this._dispose()}}]),e}();t.ComponentRef=m,Object.defineProperty(m,"parameters",{get:function(){return[[d.ElementRef],[s.assert.type.any],[y.AppView],[Function]]}});var g=function(){function e(t,r,i,o){n(this,e),s.assert.argumentTypes(t,a.Compiler,r,u.DirectiveMetadataReader,i,f.ViewFactory,o,h.AppViewHydrator),this._compiler=t,this._directiveMetadataReader=r,this._viewFactory=i,this._viewHydrator=o}return i(e,[{key:"loadIntoExistingLocation",value:function(e,t){var r=this,n=void 0===arguments[2]?null:arguments[2];s.assert.argumentTypes(e,c.Type,t,d.ElementRef,n,o.Injector),this._assertTypeIsComponent(e);var i=this._directiveMetadataReader.read(e).annotation,a=d.DirectiveBinding.createFromType(e,i);return s.assert.returnType(this._compiler.compile(e).then(function(e){var i=r._viewFactory.getView(e);r._viewHydrator.hydrateDynamicComponentView(t,i,a,n);var s=function(){throw new c.BaseException("Not implemented")};return new m(t,t.elementInjector.getDynamicallyLoadedComponent(),i,s)}),s.assert.genericType(p.Promise,m))}},{key:"loadIntoNewLocation",value:function(e,t,r){var n=this,i=void 0===arguments[3]?null:arguments[3];return s.assert.argumentTypes(e,c.Type,t,d.ElementRef,r,s.assert.type.any,i,o.Injector),this._assertTypeIsComponent(e),s.assert.returnType(this._compiler.compileInHost(e).then(function(e){var s=n._viewFactory.getView(e);n._viewHydrator.hydrateInPlaceHostView(t,r,s,i);var o=s.elementInjectors[0].getElementRef(),a=s.elementInjectors[0].getComponent(),u=function(){n._viewHydrator.dehydrateInPlaceHostView(t,s),n._viewFactory.returnView(s)};return new m(o,a,s.componentChildViews[0],u)}),s.assert.genericType(p.Promise,m))}},{key:"loadNextToExistingLocation",value:function(e,t){var r=void 0===arguments[2]?null:arguments[2];return s.assert.argumentTypes(e,c.Type,t,d.ElementRef,r,o.Injector),this._assertTypeIsComponent(e),s.assert.returnType(this._compiler.compileInHost(e).then(function(e){var n=t.viewContainer.create(-1,e,r),i=n.elementInjectors[0].getElementRef(),s=n.elementInjectors[0].getComponent(),o=function(){var e=t.viewContainer.indexOf(n);t.viewContainer.remove(e)};return new m(i,s,n.componentChildViews[0],o)}),s.assert.genericType(p.Promise,m))}},{key:"_assertTypeIsComponent",value:function(e){s.assert.argumentTypes(e,c.Type);var t=this._directiveMetadataReader.read(e).annotation;if(!(t instanceof l.Component))throw new c.BaseException("Could not load '"+c.stringify(e)+"' because it is not a component.")}}]),e}();t.DynamicComponentLoader=g,Object.defineProperty(g,"annotations",{get:function(){return[new o.Injectable]}}),Object.defineProperty(g,"parameters",{get:function(){return[[a.Compiler],[u.DirectiveMetadataReader],[f.ViewFactory],[h.AppViewHydrator]]}}),Object.defineProperty(g.prototype.loadIntoExistingLocation,"parameters",{get:function(){return[[c.Type],[d.ElementRef],[o.Injector]]}}),Object.defineProperty(g.prototype.loadIntoNewLocation,"parameters",{get:function(){return[[c.Type],[d.ElementRef],[s.assert.type.any],[o.Injector]]}}),Object.defineProperty(g.prototype.loadNextToExistingLocation,"parameters",{get:function(){return[[c.Type],[d.ElementRef],[o.Injector]]}}),Object.defineProperty(g.prototype._assertTypeIsComponent,"parameters",{get:function(){return[[c.Type]]}})},function(e,t,r){
"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(7),u=r(4),c=r(2),p=r(22),l=r(10),f=r(12),h=r(11),d=n(h),y=r(15),m=r(20),g=function(){function e(t){i(this,e),o.assert.argumentTypes(t,l.ChangeDetection),this._changeDetection=t}return s(e,[{key:"createProtoView",value:function(e,t,r){o.assert.argumentTypes(e,m.DirectiveBinding,t,d.ProtoViewDto,r,o.assert.genericType(u.List,m.DirectiveBinding));var n;if(c.isBlank(e))n=this._changeDetection.createProtoChangeDetector("root",null);else{var i=o.assert.type(e.annotation,f.Component);n=this._changeDetection.createProtoChangeDetector("dummy",i.changeDetection)}for(var s=new y.AppProtoView(t.render,n),a=0;a<t.elementBinders.length;a++){var p=t.elementBinders[a],l=new v(p.directives,r),h=this._findParentProtoElementInjectorWithDistance(a,s.elementBinders,t.elementBinders),g=this._createProtoElementInjector(a,h,l,p);this._createElementBinder(s,p,g,l),this._createDirectiveBinders(s,l)}return u.MapWrapper.forEach(t.variableBindings,function(e,t){s.bindVariable(t,e)}),o.assert.returnType(s,y.AppProtoView)}},{key:"_findParentProtoElementInjectorWithDistance",value:function(e,t,r){var n=0;do{var i=r[e];if(e=i.parentIndex,-1!==e){n+=i.distanceToParent;var s=t[e];if(c.isPresent(s.protoElementInjector))return new _(s.protoElementInjector,n)}}while(-1!==e);return new _(null,-1)}},{key:"_createProtoElementInjector",value:function(e,t,r,n){var i=null,s=u.MapWrapper.size(n.variableBindings)>0;if((r.directives.length>0||s)&&(i=new m.ProtoElementInjector(t.protoElementInjector,e,r.directives,c.isPresent(r.componentDirective),t.distance),i.attributes=n.readAttributes,s&&!c.isPresent(r.viewportDirective))){i.exportComponent=c.isPresent(r.componentDirective),i.exportElement=c.isBlank(r.componentDirective);var o=u.MapWrapper.get(n.variableBindings,"$implicit");c.isPresent(o)&&(i.exportImplicitName=o)}return i}},{key:"_createElementBinder",value:function(e,t,r,n){var i=null;-1!==t.parentIndex&&(i=e.elementBinders[t.parentIndex]);for(var s=e.bindElement(i,t.distanceToParent,r,n.componentDirective,n.viewportDirective),o=0;o<t.textBindings.length;o++)e.bindTextNode(t.textBindings[o]);return u.MapWrapper.forEach(t.propertyBindings,function(t,r){e.bindElementProperty(t,r)}),e.bindEvent(t.eventBindings,-1),u.MapWrapper.forEach(t.variableBindings,function(t,r){u.MapWrapper.set(e.protoLocals,t,null)}),s}},{key:"_createDirectiveBinders",value:function(e,t){for(var r=0;r<t.renderDirectives.length;r++){var n=t.renderDirectives[r];u.MapWrapper.forEach(n.propertyBindings,function(t,n){var i=p.reflector.setter(n);e.bindDirectiveProperty(r,t,n,i)}),e.bindEvent(n.eventBindings,r)}}}]),e}();t.ProtoViewFactory=g,Object.defineProperty(g,"annotations",{get:function(){return[new a.Injectable]}}),Object.defineProperty(g,"parameters",{get:function(){return[[l.ChangeDetection]]}}),Object.defineProperty(g.prototype.createProtoView,"parameters",{get:function(){return[[m.DirectiveBinding],[d.ProtoViewDto],[o.assert.genericType(u.List,m.DirectiveBinding)]]}});var v=function b(e,t){var r=this;i(this,b),this.renderDirectives=[],this.directives=[],this.viewportDirective=null,this.componentDirective=null,u.ListWrapper.forEach(e,function(e){var n=t[e.directiveIndex];n.annotation instanceof f.Component||n.annotation instanceof f.DynamicComponent?(r.componentDirective=n,u.ListWrapper.insert(r.renderDirectives,0,e),u.ListWrapper.insert(r.directives,0,n)):(n.annotation instanceof f.Viewport&&(r.viewportDirective=n),u.ListWrapper.push(r.renderDirectives,e),u.ListWrapper.push(r.directives,n))})},_=function w(e,t){i(this,w),o.assert.argumentTypes(e,m.ProtoElementInjector,t,o.assert.type.number),this.protoElementInjector=e,this.distance=t};Object.defineProperty(_,"parameters",{get:function(){return[[m.ProtoElementInjector],[o.assert.type.number]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(7),a=r(61),u=r(2),c=r(4),p=r(22),l=function(){function e(){n(this,e),this._cache=c.MapWrapper.create()}return i(e,[{key:"resolve",value:function(e){s.assert.argumentTypes(e,u.Type);var t=c.MapWrapper.get(this._cache,e);return u.isBlank(t)&&(t=this._resolve(e),c.MapWrapper.set(this._cache,e,t)),s.assert.returnType(t,a.View)}},{key:"_resolve",value:function(e){s.assert.argumentTypes(e,u.Type);for(var t=p.reflector.annotations(e),r=0;r<t.length;r++){var n=t[r];if(n instanceof a.View)return n}throw new u.BaseException("No template found for "+u.stringify(e))}}]),e}();t.TemplateResolver=l,Object.defineProperty(l,"annotations",{get:function(){return[new o.Injectable]}}),Object.defineProperty(l.prototype.resolve,"parameters",{get:function(){return[[u.Type]]}}),Object.defineProperty(l.prototype._resolve,"parameters",{get:function(){return[[u.Type]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(7),o=r(2),a=r(4),u=function(){function e(){n(this,e)}return i(e,[{key:"call",value:function(e){var t=void 0===arguments[1]?null:arguments[1],r=void 0===arguments[2]?null:arguments[2],n=a.isListLikeIterable(t)?a.ListWrapper.join(t,"\n\n"):t,i=o.isPresent(r)?"\n"+r:"";o.print(""+e+i+"\nSTACKTRACE:\n"+n)}}]),e}();t.ExceptionHandler=u,Object.defineProperty(u,"annotations",{get:function(){return[new s.Injectable]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(7),u=r(8),c=r(4),p=r(2),l=r(255),f=n(l),h=function(){function e(){i(this,e),this._pendingCount=0,this._callbacks=c.ListWrapper.create()}return s(e,[{key:"increaseCount",value:function(){var e=void 0===arguments[0]?1:arguments[0];if(o.assert.argumentTypes(e,o.assert.type.number),this._pendingCount+=e,this._pendingCount<0)throw new p.BaseException("pending async requests below zero");return 0==this._pendingCount&&this._runCallbacks(),this._pendingCount}},{key:"_runCallbacks",value:function(){for(;0!==this._callbacks.length;)c.ListWrapper.removeLast(this._callbacks)()}},{key:"whenStable",value:function(e){o.assert.argumentTypes(e,Function),c.ListWrapper.push(this._callbacks,e),0===this._pendingCount&&this._runCallbacks()}},{key:"getPendingCount",value:function(){return o.assert.returnType(this._pendingCount,o.assert.type.number)}},{key:"findBindings",value:function(e,t,r){return o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string,r,o.assert.type["boolean"]),o.assert.returnType([],c.List)}}]),e}();t.Testability=h,Object.defineProperty(h,"annotations",{get:function(){return[new a.Injectable]}}),Object.defineProperty(h.prototype.increaseCount,"parameters",{get:function(){return[[o.assert.type.number]]}}),Object.defineProperty(h.prototype.whenStable,"parameters",{get:function(){return[[Function]]}}),Object.defineProperty(h.prototype.findBindings,"parameters",{get:function(){return[[],[o.assert.type.string],[o.assert.type["boolean"]]]}});var d=function(){function e(){i(this,e),this._applications=c.MapWrapper.create(),f.GetTestability.addToWindow(this)}return s(e,[{key:"registerApplication",value:function(e,t){o.assert.argumentTypes(e,o.assert.type.any,t,h),c.MapWrapper.set(this._applications,e,t)}},{key:"findTestabilityInTree",value:function(e){return null==e?o.assert.returnType(null,h):c.MapWrapper.contains(this._applications,e)?o.assert.returnType(c.MapWrapper.get(this._applications,e),h):u.DOM.isShadowRoot(e)?o.assert.returnType(this.findTestabilityInTree(u.DOM.getHost(e)),h):o.assert.returnType(this.findTestabilityInTree(u.DOM.parentElement(e)),h)}}]),e}();t.TestabilityRegistry=d,Object.defineProperty(d,"annotations",{get:function(){return[new a.Injectable]}}),Object.defineProperty(d.prototype.registerApplication,"parameters",{get:function(){return[[],[h]]}})},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(t,"__esModule",{value:!0});var s=r(2),o=function f(e){i(this,f),this.token=e};t.Inject=o,Object.defineProperty(o,"annotations",{get:function(){return[new s.CONST]}});var a=function h(e){i(this,h),this.token=e};t.InjectPromise=a,Object.defineProperty(a,"annotations",{get:function(){return[new s.CONST]}});var u=function d(e){i(this,d),this.token=e};t.InjectLazy=u,Object.defineProperty(u,"annotations",{get:function(){return[new s.CONST]}});var c=function y(){i(this,y)};t.Optional=c,Object.defineProperty(c,"annotations",{get:function(){return[new s.CONST]}});var p=function(){function e(){i(this,e)}return n(e,[{key:"token",get:function(){return null}}]),e}();t.DependencyAnnotation=p,Object.defineProperty(p,"annotations",{get:function(){return[new s.CONST]}});var l=function m(){i(this,m)};t.Injectable=l,Object.defineProperty(l,"annotations",{get:function(){return[new s.CONST]}})},function(e,t,r){"use strict";var n=function _(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:_(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(7),c=r(9),p=r(2),l=r(11),f=r(271),h=r(71),d=r(272),y=r(10),m=r(25),g=function(){function e(t,r){s(this,e),a.assert.argumentTypes(t,d.CompileStepFactory,r,h.TemplateLoader),this._templateLoader=r,this._stepFactory=t}return o(e,[{key:"compile",value:function(e){var t=this,r=this._templateLoader.load(e);return a.assert.returnType(c.PromiseWrapper.then(r,function(r){return t._compileTemplate(e,r)},function(t){throw new p.BaseException('Failed to load the template "'+e.componentId+'"')}),a.assert.genericType(c.Promise,l.ProtoViewDto))}},{key:"_compileTemplate",value:function(e,t){var r,n=[],i=new f.CompilePipeline(this._stepFactory.createSteps(e,n));r=i.process(t,e.componentId);var s=r[0].inheritedProtoView.build();return n.length>0?a.assert.returnType(c.PromiseWrapper.all(n).then(function(e){return s}),a.assert.genericType(c.Promise,l.ProtoViewDto)):a.assert.returnType(c.PromiseWrapper.resolve(s),a.assert.genericType(c.Promise,l.ProtoViewDto))}}]),e}();t.Compiler=g,Object.defineProperty(g,"parameters",{get:function(){return[[d.CompileStepFactory],[h.TemplateLoader]]}}),Object.defineProperty(g.prototype.compile,"parameters",{get:function(){return[[l.ViewDefinition]]}}),Object.defineProperty(g.prototype._compileTemplate,"parameters",{get:function(){return[[l.ViewDefinition],[]]}});var v=function(e){function t(e,r,i){s(this,t),a.assert.argumentTypes(e,y.Parser,r,m.ShadowDomStrategy,i,h.TemplateLoader),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,new d.DefaultStepFactory(e,r),i)}return i(t,e),t}(g);t.DefaultCompiler=v,Object.defineProperty(v,"annotations",{get:function(){return[new u.Injectable]}}),Object.defineProperty(v,"parameters",{get:function(){return[[y.Parser],[m.ShadowDomStrategy],[h.TemplateLoader]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(2),u=(r(10),r(34),r(4),r(39)),c=(n(u),function(){function e(){var t=void 0===arguments[0]?{}:arguments[0],r=t.textNodeIndices,n=t.contentTagSelector,s=t.nestedProtoView,o=t.componentId,a=t.eventLocals,u=t.localEvents,c=t.globalEvents,p=t.parentIndex,l=t.distanceToParent,f=t.propertySetters;i(this,e),this.textNodeIndices=r,this.contentTagSelector=n,this.nestedProtoView=s,this.componentId=o,this.eventLocals=a,this.localEvents=u,this.globalEvents=c,this.parentIndex=p,this.distanceToParent=l,this.propertySetters=f}return s(e,[{key:"hasStaticComponent",value:function(){return a.isPresent(this.componentId)&&a.isPresent(this.nestedProtoView)}},{key:"hasDynamicComponent",value:function(){return a.isPresent(this.componentId)&&a.isBlank(this.nestedProtoView)}}]),e}());t.ElementBinder=c;var p=function l(e,t,r){i(this,l),o.assert.argumentTypes(e,o.assert.type.string,t,o.assert.type.string,r,o.assert.type.string),this.name=e,this.target=t,this.fullName=r};t.Event=p,Object.defineProperty(p,"parameters",{get:function(){return[[o.assert.type.string],[o.assert.type.string],[o.assert.type.string]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(7),u=r(2),c=r(4),p=r(38),l=n(p),f=r(37),h=r(76),d=r(75),y=n(d),m=r(31),g=n(m),v=r(25),_=function(){function e(t,r,n){i(this,e),o.assert.argumentTypes(t,f.EventManager,r,h.ViewFactory,n,v.ShadowDomStrategy),this._eventManager=t,this._viewFactory=r,this._shadowDomStrategy=n}return s(e,[{key:"hydrateDynamicComponentView",value:function(e,t,r){o.assert.argumentTypes(e,g.RenderView,t,o.assert.type.number,r,g.RenderView),h.ViewFactory.setComponentView(this._shadowDomStrategy,e,t,r);var n=e.lightDoms[t];this._viewHydrateRecurse(r,n),u.isPresent(n)&&n.redistribute()}},{key:"dehydrateDynamicComponentView",value:function(e,t){throw o.assert.argumentTypes(e,g.RenderView,t,o.assert.type.number),new u.BaseException("Not supported yet")}},{key:"hydrateInPlaceHostView",value:function(e,t){o.assert.argumentTypes(e,g.RenderView,t,g.RenderView),u.isPresent(e)&&c.ListWrapper.push(e.imperativeHostViews,t),this._viewHydrateRecurse(t,null)}},{key:"dehydrateInPlaceHostView",value:function(e,t){o.assert.argumentTypes(e,g.RenderView,t,g.RenderView),u.isPresent(e)&&c.ListWrapper.remove(e.imperativeHostViews,t),y.ViewContainer.removeViewNodes(t),t.rootNodes=[],this._viewDehydrateRecurse(t)}},{key:"hydrateViewInViewContainer",value:function(e,t){o.assert.argumentTypes(e,y.ViewContainer,t,g.RenderView),this._viewHydrateRecurse(t,e.parentView.hostLightDom)}},{key:"dehydrateViewInViewContainer",value:function(e,t){o.assert.argumentTypes(e,y.ViewContainer,t,g.RenderView),this._viewDehydrateRecurse(t)}},{key:"_viewHydrateRecurse",value:function(e,t){if(o.assert.argumentTypes(e,o.assert.type.any,t,l.LightDom),e.hydrated)throw new u.BaseException("The view is already hydrated.");e.hydrated=!0,e.hostLightDom=t;for(var r=0;r<e.contentTags.length;r++){var n=e.getDirectParentLightDom(r),i=e.contentTags[r];u.isPresent(i)&&i.hydrate(n)}for(var r=0;r<e.componentChildViews.length;r++){var s=e.componentChildViews[r];u.isPresent(s)&&this._viewHydrateRecurse(s,e.lightDoms[r])}for(var r=0;r<e.lightDoms.length;++r){var a=e.lightDoms[r];u.isPresent(a)&&a.redistribute()}e.eventHandlerRemovers=c.ListWrapper.create();for(var p=e.proto.elementBinders,f=0;f<p.length;f++){var h=p[f];if(u.isPresent(h.globalEvents))for(var r=0;r<h.globalEvents.length;r++){var d=h.globalEvents[r],y=this._createGlobalEventListener(e,f,d.name,d.target,d.fullName);c.ListWrapper.push(e.eventHandlerRemovers,y)}}}},{key:"_createGlobalEventListener",value:function(e,t,r,n,i){return o.assert.returnType(this._eventManager.addGlobalEventListener(n,r,function(r){e.dispatchEvent(t,i,r)}),Function)}},{key:"_viewDehydrateRecurse",value:function(e){for(var t=0;t<e.componentChildViews.length;t++){var r=e.componentChildViews[t];u.isPresent(r)&&(this._viewDehydrateRecurse(r),e.proto.elementBinders[t].hasDynamicComponent()&&(y.ViewContainer.removeViewNodes(r),this._viewFactory.returnView(r),e.lightDoms[t]=null,e.componentChildViews[t]=null))}for(var t=0;t<e.imperativeHostViews.length;t++){var n=e.imperativeHostViews[t];this._viewDehydrateRecurse(n),y.ViewContainer.removeViewNodes(n),n.rootNodes=[],this._viewFactory.returnView(n)}if(e.imperativeHostViews=[],u.isPresent(e.viewContainers))for(var t=0;t<e.viewContainers.length;t++){var i=e.viewContainers[t];u.isPresent(i)&&this._viewContainerDehydrateRecurse(i);var s=e.contentTags[t];u.isPresent(s)&&s.dehydrate()}for(var t=0;t<e.eventHandlerRemovers.length;t++)e.eventHandlerRemovers[t]();e.hostLightDom=null,e.eventHandlerRemovers=null,e.setEventDispatcher(null),e.hydrated=!1}},{key:"_viewContainerDehydrateRecurse",value:function(e){for(var t=0;t<e.views.length;t++)this._viewDehydrateRecurse(e.views[t]);e.clear()}}]),e}();t.RenderViewHydrator=_,Object.defineProperty(_,"annotations",{get:function(){return[new a.Injectable]}}),Object.defineProperty(_,"parameters",{get:function(){return[[f.EventManager],[h.ViewFactory],[v.ShadowDomStrategy]]}}),Object.defineProperty(_.prototype.hydrateDynamicComponentView,"parameters",{get:function(){return[[g.RenderView],[o.assert.type.number],[g.RenderView]]}}),Object.defineProperty(_.prototype.dehydrateDynamicComponentView,"parameters",{get:function(){return[[g.RenderView],[o.assert.type.number]]}}),Object.defineProperty(_.prototype.hydrateInPlaceHostView,"parameters",{get:function(){return[[g.RenderView],[g.RenderView]]}}),Object.defineProperty(_.prototype.dehydrateInPlaceHostView,"parameters",{get:function(){return[[g.RenderView],[g.RenderView]]}}),Object.defineProperty(_.prototype.hydrateViewInViewContainer,"parameters",{get:function(){return[[y.ViewContainer],[g.RenderView]]}}),Object.defineProperty(_.prototype.dehydrateViewInViewContainer,"parameters",{get:function(){return[[y.ViewContainer],[g.RenderView]]}}),Object.defineProperty(_.prototype._viewHydrateRecurse,"parameters",{get:function(){return[[],[l.LightDom]]}})},function(e,t,r){"use strict";function n(e){return o["default"](1e3*e).fromNow()}var i=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0}),t.timeAgo=n;var s=r(3),o=i(s)},function(e,t,r){
//! moment.js locale configuration
//! locale : afrikaans (af)
//! author : Werner Mollentze : https://github.com/wernerm
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,r){return 12>e?r?"vm":"VM":r?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : Moroccan Arabic (ar-ma)
//! author : ElFadili Yassine : https://github.com/ElFadiliY
//! author : Abdel Said : https://github.com/abdelsaid
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : Arabic Saudi Arabia (ar-sa)
//! author : Suhail Alkowaileet : https://github.com/xsoh
!function(e,t){t(r(3))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return 12>e?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}});return n})},function(e,t,r){
//! moment.js locale configuration
//! locale  : Tunisian Arabic (ar-tn)
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! Locale: Arabic (ar)
//! Author: Abdel Said: https://github.com/abdelsaid
//! Changes in months, weekdays: Ahmed Elkhatib
//! Native plural forms: forabi https://github.com/forabi
!function(e,t){t(r(3))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&10>=e%100?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},s=function(e){return function(t,r,s,o){var a=n(t),u=i[e][n(t)];return 2===a&&(u=u[r?0:1]),u.replace(/%d/i,t)}},o=["  "," "," "," "," "," "," "," "," ","  ","  ","  "],a=e.defineLocale("ar",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return 12>e?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:s("s"),m:s("m"),mm:s("m"),h:s("h"),hh:s("h"),d:s("d"),dd:s("d"),M:s("M"),MM:s("M"),y:s("y"),yy:s("y")},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}});return a})},function(e,t,r){
//! moment.js locale configuration
//! locale : azerbaijani (az)
//! author : topchiyev : https://github.com/topchiyev
!function(e,t){t(r(3))}(this,function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"},r=e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,r){return 4>e?"gec":12>e?"shr":17>e?"gndz":"axam"},ordinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var r=e%10,n=e%100-r,i=e>=100?100:null;return e+(t[r]||t[n]||t[i])},week:{dow:1,doy:7}});return r})},function(e,t,r){
//! moment.js locale configuration
//! locale : belarusian (be)
//! author : Dmitry Demidov : https://github.com/demidov91
//! author: Praleska: http://praleska.pro/
//! Author : Menelion Elensle : https://github.com/Oire
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t){var r=e.split("_");return t%10===1&&t%100!==11?r[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?r[1]:r[2]}function r(e,r,n){var i={mm:r?"__":"__",hh:r?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===n?r?"":"":"h"===n?r?"":"":e+" "+t(i[n],+e)}function n(e,t){var r={nominative:"___________".split("_"),accusative:"___________".split("_")},n=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return r[n][e.month()]}function i(e,t){var r={nominative:"______".split("_"),accusative:"______".split("_")},n=/\[ ?[] ?(?:|)? ?\] ?dddd/.test(t)?"accusative":"nominative";return r[n][e.day()]}var s=e.defineLocale("be",{months:n,monthsShort:"___________".split("_"),weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:r,mm:r,h:r,hh:r,d:"",dd:r,M:"",MM:r,y:"",yy:r},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,r){return 4>e?"":12>e?"":17>e?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!==2&&e%10!==3||e%100===12||e%100===13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});return s})},function(e,t,r){
//! moment.js locale configuration
//! locale : bulgarian (bg)
//! author : Krasen Borisov : https://github.com/kraz
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,r=e%100;return 0===e?e+"-":0===r?e+"-":r>10&&20>r?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : Bengali (bn)
//! author : Kaushik Gandhi : https://github.com/kaushikgandhi
!function(e,t){t(r(3))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,isPM:function(e){return/^(||)$/.test(e)},meridiem:function(e,t,r){return 4>e?"":10>e?"":17>e?"":20>e?"":""},week:{dow:0,doy:6}});return n})},function(e,t,r){
//! moment.js locale configuration
//! locale : tibetan (bo)
//! author : Thupten N. Chakrishar : https://github.com/vajradog
!function(e,t){t(r(3))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,isPM:function(e){return/^(||)$/.test(e)},meridiem:function(e,t,r){return 4>e?"":10>e?"":17>e?"":20>e?"":""},week:{dow:0,doy:6}});return n})},function(e,t,r){
//! moment.js locale configuration
//! locale : breton (br)
//! author : Jean-Baptiste Le Duigou : https://github.com/jbleduigou
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t,r){var n={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+i(n[r],e)}function r(e){switch(n(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function n(e){return e>9?n(e%10):e}function i(e,t){return 2===t?s(e):e}function s(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}var o=e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:r},ordinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){var t=1===e?"a":"vet";return e+t},week:{dow:1,doy:4}});return o})},function(e,t,r){
//! moment.js locale configuration
//! locale : bosnian (bs)
//! author : Nedim Cholich : https://github.com/frontyard
//! based on (hr) translation by Bojan Markovi
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t,r){var n=e+" ";switch(r){case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return n+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return n+=1===e?"dan":"dana";case"MM":return n+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return n+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}var r=e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return r})},function(e,t,r){
//! moment.js locale configuration
//! locale : catalan (ca)
//! author : Juan G. Hurtado : https://github.com/juanghurtado
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("ca",{months:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var r=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return("w"===t||"W"===t)&&(r="a"),e+r},week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : czech (cs)
//! author : petrbela : https://github.com/petrbela
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e){return e>1&&5>e&&1!==~~(e/10)}function r(e,r,n,i){var s=e+" ";switch(n){case"s":return r||i?"pr sekund":"pr sekundami";case"m":return r?"minuta":i?"minutu":"minutou";case"mm":return r||i?s+(t(e)?"minuty":"minut"):s+"minutami";case"h":return r?"hodina":i?"hodinu":"hodinou";case"hh":return r||i?s+(t(e)?"hodiny":"hodin"):s+"hodinami";case"d":return r||i?"den":"dnem";case"dd":return r||i?s+(t(e)?"dny":"dn"):s+"dny";case"M":return r||i?"msc":"mscem";case"MM":return r||i?s+(t(e)?"msce":"msc"):s+"msci";case"y":return r||i?"rok":"rokem";case"yy":return r||i?s+(t(e)?"roky":"let"):s+"lety"}}var n="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),i="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),s=e.defineLocale("cs",{months:n,monthsShort:i,monthsParse:function(e,t){var r,n=[];for(r=0;12>r;r++)n[r]=new RegExp("^"+e[r]+"$|^"+t[r]+"$","i");return n}(n,i),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})},function(e,t,r){
//! moment.js locale configuration
//! locale : chuvash (cv)
//! author : Anatoly Mironov : https://github.com/mirontoli
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], LT",LLLL:"dddd, YYYY [] MMMM [] D[-], LT"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){var t=/$/i.exec(e)?"":/$/i.exec(e)?"":"";return e+t},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : Welsh (cy)
//! author : Robert Allen
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,r="",n=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?r=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(r=n[t]),e+r},week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : danish (da)
//! author : Ulrik Nielsen : https://github.com/mrbase
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gr kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : austrian german (de-at)
//! author : lluchs : https://github.com/lluchs
//! author: Menelion Elensle: https://github.com/Oire
//! author : Martin Groller : https://github.com/MadMG
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t,r,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[r][0]:i[r][1]}var r=e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,r){
//! moment.js locale configuration
//! locale : german (de)
//! author : lluchs : https://github.com/lluchs
//! author: Menelion Elensle: https://github.com/Oire
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t,r,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[r][0]:i[r][1]}var r=e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,r){
//! moment.js locale configuration
//! locale : modern greek (el)
//! author : Aggelos Karalias : https://github.com/mehiel
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,r){return e>11?r?"":"":r?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var r=this._calendarEl[e],n=t&&t.hours();return"function"==typeof r&&(r=r.apply(t)),r.replace("{}",n%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : australian english (en-au)
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,r=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+r},week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : canadian english (en-ca)
//! author : Jonathan Abourbih : https://github.com/jonbca
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,r=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+r}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : great britain english (en-gb)
//! author : Chris Gedrim : https://github.com/chrisgedrim
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,r=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+r},week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : esperanto (eo)
//! author : Colin Dean : https://github.com/colindean
//! komento: Mi estas malcerta se mi korekte traktis akuzativojn en tiu traduko.
//!          Se ne, bonvolu korekti kaj avizi min por ke mi povas lerni!
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,r){return e>11?r?"p.t.m.":"P.T.M.":r?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : spanish (es)
//! author : Julio Napur : https://github.com/julionc
!function(e,t){t(r(3))}(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),r="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,n){return/-MMM-/.test(n)?r[e.month()]:t[e.month()]},weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return n})},function(e,t,r){
//! moment.js locale configuration
//! locale : estonian (et)
//! author : Henry Kehlmann : https://github.com/madhenry
//! improvements : Illimar Tambek : https://github.com/ragulka
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t,r,n){var i={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[r][2]?i[r][2]:i[r][1]:n?i[r][0]:i[r][1]}var r=e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,r){
//! moment.js locale configuration
//! locale : euskara (eu)
//! author : Eneko Illarramendi : https://github.com/eillarra
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : Persian (fa)
//! author : Ebrahim Byagowi : https://github.com/ebraminio
!function(e,t){t(r(3))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,r){return 12>e?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return r[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});return n})},function(e,t,r){
//! moment.js locale configuration
//! locale : finnish (fi)
//! author : Tarmo Aidantausta : https://github.com/bleadof
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t,n,i){var s="";switch(n){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":s=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":s=i?"tunnin":"tuntia";break;case"d":return i?"pivn":"piv";case"dd":s=i?"pivn":"piv";break;case"M":return i?"kuukauden":"kuukausi";case"MM":s=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":s=i?"vuoden":"vuotta"}return s=r(e,i)+" "+s}function r(e,t){return 10>e?t?i[e]:n[e]:e}var n="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),i=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",n[7],n[8],n[9]],s=e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})},function(e,t,r){
//! moment.js locale configuration
//! locale : faroese (fo)
//! author : Ragnar Johannesen : https://github.com/ragnar123
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : canadian french (fr-ca)
//! author : Jonathan Abourbih : https://github.com/jonbca
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : french (fr)
//! author : John Fischer : https://github.com/jfroffice
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : frisian (fy)
//! author : Robin van der Vliet : https://github.com/robin0van0der0v
!function(e,t){t(r(3))}(this,function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),r="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),n=e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,n){return/-MMM-/.test(n)?r[e.month()]:t[e.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return n})},function(e,t,r){
//! moment.js locale configuration
//! locale : galician (gl)
//! author : Juan G. Hurtado : https://github.com/juanghurtado
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuo_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xu._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mrcores_Xoves_Venres_Sbado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mr._Xov._Ven._Sb.".split("_"),weekdaysMin:"Do_Lu_Ma_M_Xo_Ve_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:7}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : Hebrew (he)
//! author : Tomer Cohen : https://github.com/tomer
//! author : Moshe Simantov : https://github.com/DevelopmentIL
//! author : Tal Ater : https://github.com/TalAter
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY LT",LLLL:"dddd, D []MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10===0&&10!==e?e+" ":e+" "}}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : hindi (hi)
//! author : Mayank Singhal : https://github.com/mayanksinghal
!function(e,t){t(r(3))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?4>e?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return 4>e?"":10>e?"":17>e?"":20>e?"":""},week:{dow:0,doy:6}});return n})},function(e,t,r){
//! moment.js locale configuration
//! locale : hrvatski (hr)
//! author : Bojan Markovi : https://github.com/bmarkovic
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t,r){var n=e+" ";switch(r){case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return n+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return n+=1===e?"dan":"dana";case"MM":return n+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return n+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}var r=e.defineLocale("hr",{months:"sjeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return r})},function(e,t,r){
//! moment.js locale configuration
//! locale : hungarian (hu)
//! author : Adam Brunner : https://github.com/adambrunner
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t,r,n){var i=e;switch(r){case"s":return n||t?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(n||t?" perc":" perce");case"mm":return i+(n||t?" perc":" perce");case"h":return"egy"+(n||t?" ra":" rja");case"hh":return i+(n||t?" ra":" rja");case"d":return"egy"+(n||t?" nap":" napja");case"dd":return i+(n||t?" nap":" napja");case"M":return"egy"+(n||t?" hnap":" hnapja");case"MM":return i+(n||t?" hnap":" hnapja");case"y":return"egy"+(n||t?" v":" ve");case"yy":return i+(n||t?" v":" ve")}return""}function r(e){return(e?"":"[mlt] ")+"["+n[this.day()]+"] LT[-kor]"}var n="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" "),i=e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,r){return 12>e?r===!0?"de":"DE":r===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i})},function(e,t,r){
//! moment.js locale configuration
//! locale : Armenian (hy-am)
//! author : Armendarabyan : https://github.com/armendarabyan
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t){var r={nominative:"___________".split("_"),accusative:"___________".split("_")},n=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return r[n][e.month()]}function r(e,t){var r="___________".split("_");return r[e.month()]}function n(e,t){var r="______".split("_");return r[e.day()]}var i=e.defineLocale("hy-am",{months:t,monthsShort:r,weekdays:n,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return 4>e?"":12>e?"":17>e?"":""},ordinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}});return i})},function(e,t,r){
//! moment.js locale configuration
//! locale : Bahasa Indonesia (id)
//! author : Mohammad Satrio Utomo : https://github.com/tyok
//! reference: http://id.wikisource.org/wiki/Pedoman_Umum_Ejaan_Bahasa_Indonesia_yang_Disempurnakan
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,r){return 11>e?"pagi":15>e?"siang":19>e?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : icelandic (is)
//! author : Hinrik rn Sigursson : https://github.com/hinrik
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e){return e%100===11?!0:e%10===1?!1:!0}function r(e,r,n,i){var s=e+" ";switch(n){case"s":return r||i?"nokkrar sekndur":"nokkrum sekndum";case"m":return r?"mnta":"mntu";case"mm":return t(e)?s+(r||i?"mntur":"mntum"):r?s+"mnta":s+"mntu";case"hh":return t(e)?s+(r||i?"klukkustundir":"klukkustundum"):s+"klukkustund";case"d":return r?"dagur":i?"dag":"degi";case"dd":return t(e)?r?s+"dagar":s+(i?"daga":"dgum"):r?s+"dagur":s+(i?"dag":"degi");case"M":return r?"mnuur":i?"mnu":"mnui";case"MM":return t(e)?r?s+"mnuir":s+(i?"mnui":"mnuum"):r?s+"mnuur":s+(i?"mnu":"mnui");case"y":return r||i?"r":"ri";case"yy":return t(e)?s+(r||i?"r":"rum"):s+(r||i?"r":"ri")}}var n=e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:r,m:r,mm:r,h:"klukkustund",hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,r){
//! moment.js locale configuration
//! locale : italian (it)
//! author : Lorenzo : https://github.com/aliem
//! author: Mattia Larentis: https://github.com/nostalgiaz
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : japanese (ja)
//! author : LI Long : https://github.com/baryon
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahm",LTS:"LTs",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDLT",LLLL:"YYYYMDLT dddd"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,r){return 12>e?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : Georgian (ka)
//! author : Irakli Janiashvili : https://github.com/irakli-janiashvili
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t){var r={nominative:"___________".split("_"),accusative:"___________".split("_")},n=/D[oD] *MMMM?/.test(t)?"accusative":"nominative";return r[n][e.month()]}function r(e,t){var r={nominative:"______".split("_"),accusative:"______".split("_")},n=/(|)/.test(t)?"accusative":"nominative";return r[n][e.day()]}var n=e.defineLocale("ka",{months:t,monthsShort:"___________".split("_"),weekdays:r,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":20>e||100>=e&&e%20===0||e%100===0?"-"+e:e+"-"},week:{dow:1,doy:7}});return n})},function(e,t,r){
//! moment.js locale configuration
//! locale : khmer (km)
//! author : Kruy Vanna : https://github.com/kruyvanna
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : korean (ko)
//!
//! authors
//!
//! - Kyungwook, Park : https://github.com/kyungw00k
//! - Jeeeyul Lee <jeeeyul@gmail.com>
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h m",LTS:"A h m s",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D LT",LLLL:"YYYY MMMM D dddd LT"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return 12>e?"":""}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : Luxembourgish (lb)
//! author : mweimerskirch : https://github.com/mweimerskirch, David Raison : https://github.com/kwisatz
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t,r,n){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[r][0]:i[r][1]}function r(e){var t=e.substr(0,e.indexOf(" "));return i(t)?"a "+e:"an "+e}function n(e){var t=e.substr(0,e.indexOf(" "));return i(t)?"viru "+e:"virun "+e}function i(e){if(e=parseInt(e,10),isNaN(e))return!1;if(0>e)return!0;if(10>e)return e>=4&&7>=e?!0:!1;if(100>e){var t=e%10,r=e/10;return i(0===t?r:t)}if(1e4>e){for(;e>=10;)e/=10;return i(e)}return e/=1e3,i(e)}var s=e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:r,past:n,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})},function(e,t,r){
//! moment.js locale configuration
//! locale : Lithuanian (lt)
//! author : Mindaugas Mozras : https://github.com/mmozuras
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t,r,n){return t?"kelios sekunds":n?"keli sekundi":"kelias sekundes"}function r(e,t,r,n){return t?i(r)[0]:n?i(r)[1]:i(r)[2]}function n(e){return e%10===0||e>10&&20>e}function i(e){return a[e].split("_")}function s(e,t,s,o){var a=e+" ";return 1===e?a+r(e,t,s[0],o):t?a+(n(e)?i(s)[1]:i(s)[0]):o?a+i(s)[1]:a+(n(e)?i(s)[1]:i(s)[2])}function o(e,t){var r=-1===t.indexOf("dddd HH:mm"),n=u[e.day()];return r?n:n.substring(0,n.length-2)+""}var a={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"},u="sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),c=e.defineLocale("lt",{months:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:o,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:t,m:r,mm:s,h:r,hh:s,d:r,dd:s,M:r,MM:s,y:r,yy:s},ordinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});return c})},function(e,t,r){
//! moment.js locale configuration
//! locale : latvian (lv)
//! author : Kristaps Karlsons : https://github.com/skakri
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t,r){var n=e.split("_");return r?t%10===1&&11!==t?n[2]:n[3]:t%10===1&&11!==t?n[0]:n[1]}function r(e,r,i){return e+" "+t(n[i],e,r)}var n={mm:"minti_mintes_minte_mintes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mnesi_mneus_mnesis_mnei",yy:"gadu_gadus_gads_gadi"},i=e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vlk",past:"%s agrk",s:"daas sekundes",m:"minti",mm:r,h:"stundu",hh:r,d:"dienu",dd:r,M:"mnesi",MM:r,y:"gadu",yy:r},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})},function(e,t,r){
//! moment.js locale configuration
//! locale : macedonian (mk)
//! author : Borislav Mickov : https://github.com/B0k0
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,r=e%100;return 0===e?e+"-":0===r?e+"-":r>10&&20>r?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : malayalam (ml)
//! author : Floyd Pink : https://github.com/floydpink
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,isPM:function(e){return/^( ||)$/.test(e)},meridiem:function(e,t,r){return 4>e?"":12>e?"":17>e?" ":20>e?"":""}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : Marathi (mr)
//! author : Harshad Kale : https://github.com/kalehv
!function(e,t){t(r(3))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?4>e?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return 4>e?"":10>e?"":17>e?"":20>e?"":""},week:{dow:0,doy:6}});return n})},function(e,t,r){
//! moment.js locale configuration
//! locale : Bahasa Malaysia (ms-MY)
//! author : Weldan Jamili : https://github.com/weldan
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,r){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : Burmese (my)
//! author : Squar team, mysquar.com
!function(e,t){t(r(3))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}});return n})},function(e,t,r){
//! moment.js locale configuration
//! locale : norwegian bokml (nb)
//! authors : Espen Hovlandsdal : https://github.com/rexxars
//!           Sigurd Gartmann : https://github.com/sigurdga
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tirs_ons_tors_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"H.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : nepali/nepalese
//! author : suvash : https://github.com/suvash
!function(e,t){t(r(3))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._.__._._._.".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?3>e?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,r){return 3>e?"":10>e?"":15>e?"":18>e?"":20>e?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}});return n})},function(e,t,r){
//! moment.js locale configuration
//! locale : dutch (nl)
//! author : Joris Rling : https://github.com/jjupiter
!function(e,t){t(r(3))}(this,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),r="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),n=e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,n){return/-MMM-/.test(n)?r[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return n})},function(e,t,r){
//! moment.js locale configuration
//! locale : norwegian nynorsk (nn)
//! author : https://github.com/mechuwind
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : polish (pl)
//! author : Rafal Hirsz : https://github.com/evoL
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e){return 5>e%10&&e%10>1&&~~(e/10)%10!==1}function r(e,r,n){var i=e+" ";switch(n){case"m":return r?"minuta":"minut";case"mm":return i+(t(e)?"minuty":"minut");case"h":return r?"godzina":"godzin";case"hh":return i+(t(e)?"godziny":"godzin");case"MM":return i+(t(e)?"miesice":"miesicy");case"yy":return i+(t(e)?"lata":"lat")}}var n="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),s=e.defineLocale("pl",{months:function(e,t){return/D MMMM/.test(t)?i[e.month()]:n[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"nie_pon_wt_r_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:r,mm:r,h:r,hh:r,d:"1 dzie",dd:"%d dni",M:"miesic",MM:r,y:"rok",yy:r},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})},function(e,t,r){
//! moment.js locale configuration
//! locale : brazilian portuguese (pt-br)
//! author : Caio Ribeiro Pereira : https://github.com/caio-ribeiro-pereira
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"dom_2_3_4_5_6_sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [s] LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d"});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : portuguese (pt)
//! author : Jefferson : https://github.com/jalex79
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"dom_2_3_4_5_6_sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : romanian (ro)
//! author : Vlad Gurdiga : https://github.com/gurdiga
//! author : Valentin Agachi : https://github.com/avaly
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t,r){var n={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},i=" ";return(e%100>=20||e>=100&&e%100===0)&&(i=" de "),e+i+n[r]}var r=e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}});return r})},function(e,t,r){
//! moment.js locale configuration
//! locale : russian (ru)
//! author : Viktorminator : https://github.com/Viktorminator
//! Author : Menelion Elensle : https://github.com/Oire
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t){var r=e.split("_");return t%10===1&&t%100!==11?r[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?r[1]:r[2]}function r(e,r,n){var i={mm:r?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===n?r?"":"":e+" "+t(i[n],+e)}function n(e,t){var r={nominative:"___________".split("_"),accusative:"___________".split("_")},n=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return r[n][e.month()]}function i(e,t){var r={nominative:"___________".split("_"),accusative:"___________".split("_")},n=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return r[n][e.month()]}function s(e,t){var r={nominative:"______".split("_"),accusative:"______".split("_")},n=/\[ ?[] ?(?:||)? ?\] ?dddd/.test(t)?"accusative":"nominative";return r[n][e.day()]}var o=e.defineLocale("ru",{months:n,monthsShort:i,weekdays:s,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT"},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:r,mm:r,h:"",hh:r,d:"",dd:r,M:"",MM:r,y:"",yy:r},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,r){return 4>e?"":12>e?"":17>e?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:7}});return o})},function(e,t,r){
//! moment.js locale configuration
//! locale : slovak (sk)
//! author : Martin Minka : https://github.com/k2s
//! based on work of petrbela : https://github.com/petrbela
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e){return e>1&&5>e}function r(e,r,n,i){var s=e+" ";switch(n){case"s":return r||i?"pr seknd":"pr sekundami";case"m":return r?"minta":i?"mintu":"mintou";case"mm":return r||i?s+(t(e)?"minty":"mint"):s+"mintami";case"h":return r?"hodina":i?"hodinu":"hodinou";case"hh":return r||i?s+(t(e)?"hodiny":"hodn"):s+"hodinami";case"d":return r||i?"de":"dom";case"dd":return r||i?s+(t(e)?"dni":"dn"):s+"dami";case"M":return r||i?"mesiac":"mesiacom";case"MM":return r||i?s+(t(e)?"mesiace":"mesiacov"):s+"mesiacmi";case"y":return r||i?"rok":"rokom";case"yy":return r||i?s+(t(e)?"roky":"rokov"):s+"rokmi"}}var n="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),i="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_"),s=e.defineLocale("sk",{months:n,monthsShort:i,monthsParse:function(e,t){var r,n=[];for(r=0;12>r;r++)n[r]=new RegExp("^"+e[r]+"$|^"+t[r]+"$","i");return n}(n,i),weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})},function(e,t,r){
//! moment.js locale configuration
//! locale : slovenian (sl)
//! author : Robert Sedovek : https://github.com/sedovsek
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t,r){var n=e+" ";switch(r){case"m":return t?"ena minuta":"eno minuto";case"mm":return n+=1===e?"minuta":2===e?"minuti":3===e||4===e?"minute":"minut";case"h":return t?"ena ura":"eno uro";case"hh":return n+=1===e?"ura":2===e?"uri":3===e||4===e?"ure":"ur";case"dd":return n+=1===e?"dan":"dni";case"MM":return n+=1===e?"mesec":2===e?"meseca":3===e||4===e?"mesece":"mesecev";case"yy":return n+=1===e?"leto":2===e?"leti":3===e||4===e?"leta":"let"}}var r=e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return r})},function(e,t,r){
//! moment.js locale configuration
//! locale : Albanian (sq)
//! author : Flakrim Ismani : https://github.com/flakerimi
//! author: Menelion Elensle: https://github.com/Oire (tests)
//! author : Oerd Cukalla : https://github.com/oerd (fixes)
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,r){return 12>e?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : Serbian-cyrillic (sr-cyrl)
//! author : Milan Janakovi<milanjanackovic@gmail.com> : https://github.com/milan-j
!function(e,t){t(r(3))}(this,function(e){"use strict";var t={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,r,n){var i=t.words[n];return 1===n.length?r?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}},r=e.defineLocale("sr-cyrl",{months:["","","","","","","","","","","",""],monthsShort:[".",".",".",".","","","",".",".",".",".","."],weekdays:["","","","","","",""],weekdaysShort:[".",".",".",".",".",".","."],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var e=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return r})},function(e,t,r){
//! moment.js locale configuration
//! locale : Serbian-latin (sr)
//! author : Milan Janakovi<milanjanackovic@gmail.com> : https://github.com/milan-j
!function(e,t){t(r(3))}(this,function(e){"use strict";var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,r,n){var i=t.words[n];return 1===n.length?r?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}},r=e.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","et.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","e","pe","su"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return r})},function(e,t,r){
//! moment.js locale configuration
//! locale : swedish (sv)
//! author : Jens Alm : https://github.com/ulmus
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"dddd LT",lastWeek:"[Frra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,r=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+r},week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : tamil (ta)
//! author : Arjunkumar Krishnamoorthy : https://github.com/tk120404
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:function(e){return e+""},meridiemParse:/|||||/,meridiem:function(e,t,r){return 2>e?" ":6>e?" ":10>e?" ":14>e?" ":18>e?" ":22>e?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?2>e?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : thai (th)
//! author : Kridsada Thanabulpong : https://github.com/sirn
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("th",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),longDateFormat:{LT:"H  m ",LTS:"LT s ",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  LT",LLLL:"dddd D MMMM YYYY  LT"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return 12>e?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : Tagalog/Filipino (tl-ph)
//! author : Dan Hagman
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : turkish (tr)
//! authors : Erhan Gundogan : https://github.com/erhangundogan,
//!           Burak Yiit Kaya: https://github.com/BYK
!function(e,t){t(r(3))}(this,function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},r=e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(e){if(0===e)return e+"'nc";var r=e%10,n=e%100-r,i=e>=100?100:null;return e+(t[r]||t[n]||t[i])},week:{dow:1,doy:7}});return r})},function(e,t,r){
//! moment.js locale configuration
//! locale : Morocco Central Atlas Tamazit in Latin (tzm-latn)
//! author : Abdel Said : https://github.com/abdelsaid
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : Morocco Central Atlas Tamazit (tzm)
//! author : Abdel Said : https://github.com/abdelsaid
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : ukrainian (uk)
//! author : zemlanin : https://github.com/zemlanin
//! Author : Menelion Elensle : https://github.com/Oire
!function(e,t){t(r(3))}(this,function(e){"use strict";function t(e,t){var r=e.split("_");return t%10===1&&t%100!==11?r[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?r[1]:r[2]}function r(e,r,n){var i={mm:"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===n?r?"":"":"h"===n?r?"":"":e+" "+t(i[n],+e)}function n(e,t){var r={nominative:"___________".split("_"),accusative:"___________".split("_")},n=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return r[n][e.month()]}function i(e,t){var r={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},n=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative";return r[n][e.day()]}function s(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}var o=e.defineLocale("uk",{months:n,monthsShort:"___________".split("_"),weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:s("[ "),nextDay:s("[ "),lastDay:s("[ "),nextWeek:s("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return s("[] dddd [").call(this);case 1:case 2:case 4:return s("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:r,mm:r,h:"",hh:r,d:"",dd:r,M:"",MM:r,y:"",yy:r},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,r){return 4>e?"":12>e?"":17>e?"":""},ordinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});return o})},function(e,t,r){
//! moment.js locale configuration
//! locale : uzbek (uz)
//! author : Sardor Muminov : https://github.com/muminoff
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : vietnamese (vi)
//! author : Bang Nguyen : https://github.com/bangnk
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY LT",LLLL:"dddd, D MMMM [nm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : chinese (zh-cn)
//! author : suupic : https://github.com/suupic
//! author : Zeno Zeng : https://github.com/zenozeng
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,r){var n=100*e+t;return 600>n?"":900>n?"":1130>n?"":1230>n?"":1800>n?"":""},calendar:{sameDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},lastDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextWeek:function(){var t,r;return t=e().startOf("week"),r=this.unix()-t.unix()>=604800?"[]":"[]",0===this.minutes()?r+"dddAh":r+"dddAhmm"},lastWeek:function(){var t,r;return t=e().startOf("week"),r=this.unix()<t.unix()?"[]":"[]",0===this.minutes()?r+"dddAh":r+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"},week:{dow:1,doy:4}});return t})},function(e,t,r){
//! moment.js locale configuration
//! locale : traditional chinese (zh-tw)
//! author : Ben : https://github.com/ben-lin
!function(e,t){t(r(3))}(this,function(e){"use strict";var t=e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,r){var n=100*e+t;return 900>n?"":1130>n?"":1230>n?"":1800>n?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"}});return t})},function(e,t,r){var n;(function(e,i,o){(function(a){function u(e){for(var t=[],r=0,n=e.length;n>r;r++)t.push(e[r]);return t}function c(e,t){if(Ue&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(Ge)){for(var r=[],n=t;n;n=n.source)n.stack&&r.unshift(n.stack);r.unshift(e.stack);var i=r.join("\n"+Ge+"\n");e.stack=p(i)}}function p(e){for(var t=e.split("\n"),r=[],n=0,i=t.length;i>n;n++){var s=t[n];l(s)||f(s)||!s||r.push(s)}return r.join("\n")}function l(e){var t=d(e);if(!t)return!1;var r=t[0],n=t[1];return r===ze&&n>=Ke&&jn>=n}function f(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function h(){if(Ue)try{throw new Error}catch(e){var t=e.stack.split("\n"),r=t[0].indexOf("@")>0?t[1]:t[2],n=d(r);if(!n)return;return ze=n[0],n[1]}}function d(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(r)return[r[1],Number(r[2])];var n=/.*@(.+):(\d+)$/.exec(e);return n?[n[1],Number(n[2])]:void 0}function y(e){var t=[];if(!jt(e))return t;Dt.nonEnumArgs&&e.length&&Ct(e)&&(e=xt.call(e));var r=Dt.enumPrototypes&&"function"==typeof e,n=Dt.enumErrorProps&&(e===kt||e instanceof Error);for(var i in e)r&&"prototype"==i||n&&("message"==i||"name"==i)||t.push(i);if(Dt.nonEnumShadows&&e!==Lt){var s=e.constructor,o=-1,a=ct;if(e===(s&&s.prototype))var u=e===Mt?_t:e===kt?dt:bt.call(e),c=Ot[u];for(;++o<a;)i=ut[o],c&&c[i]||!wt.call(e,i)||t.push(i)}return t}function m(e,t,r){for(var n=-1,i=r(e),s=i.length;++n<s;){var o=i[n];if(t(e[o],o,e)===!1)break}return e}function g(e,t){return m(e,t,y)}function v(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function _(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;var i=typeof e,s=typeof t;if(e===e&&(null==e||null==t||"function"!=i&&"object"!=i&&"function"!=s&&"object"!=s))return!1;var o=bt.call(e),a=bt.call(t);if(o==pt&&(o=gt),a==pt&&(a=gt),o!=a)return!1;switch(o){case ft:case ht:return+e==+t;case mt:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case vt:case _t:return e==String(t)}var u=o==lt;if(!u){if(o!=gt||!Dt.nodeClass&&(v(e)||v(t)))return!1;var c=!Dt.argsObject&&Ct(e)?Object:e.constructor,p=!Dt.argsObject&&Ct(t)?Object:t.constructor;if(!(c==p||wt.call(e,"constructor")&&wt.call(t,"constructor")||He(c)&&c instanceof c&&He(p)&&p instanceof p||!("constructor"in e&&"constructor"in t)))return!1}r||(r=[]),n||(n=[]);for(var l=r.length;l--;)if(r[l]==e)return n[l]==t;var f=0,h=!0;if(r.push(e),n.push(t),u){if(l=e.length,f=t.length,h=f==l)for(;f--;){var d=t[f];if(!(h=_(e[f],d,r,n)))break}}else g(t,function(t,i,s){return wt.call(s,i)?(f++,h=wt.call(e,i)&&_(e[i],t,r,n)):void 0}),h&&g(e,function(e,t,r){return wt.call(r,t)?h=--f>-1:void 0});return r.pop(),n.pop(),h}function b(e,t){for(var r=new Array(e),n=0;e>n;n++)r[n]=t();return r}function w(){try{return Et.apply(this,arguments)}catch(e){return It.e=e,It}}function T(e){if(!He(e))throw new TypeError("fn must be a function");return Et=e,w}function k(e){throw e}function L(e,t){this.id=e,this.value=t}function M(e,t){this.scheduler=e,this.disposable=t,this.isDisposed=!1}function P(e,t){t.isDisposed||(t.isDisposed=!0,t.disposable.dispose())}function O(e){this.observer=e,this.a=[],this.isStopped=!1}function D(e){this._s=s}function j(e){this._s=s,this._l=s.length,this._i=0}function C(e){this._a=e}function E(e){this._a=e,this._l=A(e),this._i=0}function S(e){return"number"==typeof e&&De.isFinite(e)}function x(e){var t,r=e[rt];if(!r&&"string"==typeof e)return t=new D(e),t[rt]();if(!r&&e.length!==a)return t=new C(e),t[rt]();if(!r)throw new TypeError("Object is not iterable");return e[rt]()}function Y(e){var t=+e;return 0===t?t:isNaN(t)?t:0>t?-1:1}function A(e){var t=+e.length;return isNaN(t)?0:0!==t&&S(t)?(t=Y(t)*Math.floor(Math.abs(t)),0>=t?0:t>xr?xr:t):t}function R(e,t){this.observer=e,this.parent=t}function I(e,t){return Ae(e)||(e=nr),new Ar(t,e)}function W(e,t){return new kn(function(r){var n=new Kt,i=new Gt;return i.setDisposable(n),n.setDisposable(e.subscribe(function(e){r.onNext(e)},function(e){try{var n=t(e)}catch(s){return r.onError(s)}Ve(n)&&(n=Or(n));var o=new Kt;i.setDisposable(o),o.setDisposable(n.subscribe(r))},function(e){r.onCompleted(e)})),i},e)}function F(e,t){var r=this;return new kn(function(n){var i=0,s=e.length;return r.subscribe(function(r){if(s>i){var o,a=e[i++];try{o=t(r,a)}catch(u){return n.onError(u)}n.onNext(o)}else n.onCompleted()},function(e){n.onError(e)},function(){n.onCompleted()})},r)}function N(){return!1}function V(){return[]}function B(e,t,r){var n=at(t,r,3);return e.map(function(t,r){var i=n(t,r,e);return Ve(i)&&(i=Or(i)),(st(i)||it(i))&&(i=Yr(i)),i}).concatAll()}function H(e,t,r){for(var n=0,i=e.length;i>n;n++)if(r(e[n],t))return n;return-1}function U(e){this.comparer=e,this.set=[]}function q(e,t,r){this.observer=e,this.selector=t,this.source=r,this.i=0,this.isStopped=!1}function z(e,t,r){var n=at(t,r,3);return e.map(function(t,r){var i=n(t,r,e);return Ve(i)&&(i=Or(i)),(st(i)||it(i))&&(i=Yr(i)),i}).mergeAll()}function K(e,t,r){this.observer=e,this.predicate=t,this.source=r,this.i=0,this.isStopped=!1}function G(e,t,r){return new kn(function(n){var i=!1,s=null,o=[];return e.subscribe(function(e){var a,u;try{u=t(e)}catch(c){return void n.onError(c)}if(a=0,i)try{a=r(u,s)}catch(p){return void n.onError(p)}else i=!0,s=u;a>0&&(s=u,o=[]),a>=0&&o.push(e)},function(e){n.onError(e)},function(){n.onNext(o),n.onCompleted()})},e)}function J(e){if(0===e.length)throw new Je;return e[0]}function Q(e,t,r,n){if(0>t)throw new $e;return new kn(function(i){var s=t;return e.subscribe(function(e){0===s--&&(i.onNext(e),i.onCompleted())},function(e){i.onError(e)},function(){r?(i.onNext(n),i.onCompleted()):i.onError(new $e)})},e)}function $(e,t,r){return new kn(function(n){var i=r,s=!1;return e.subscribe(function(e){s?n.onError(new Error("Sequence contains more than one element")):(i=e,s=!0)},function(e){n.onError(e)},function(){s||t?(n.onNext(i),n.onCompleted()):n.onError(new Je)})},e)}function Z(e,t,r){return new kn(function(n){return e.subscribe(function(e){n.onNext(e),n.onCompleted()},function(e){n.onError(e)},function(){t?(n.onNext(r),n.onCompleted()):n.onError(new Je)})},e)}function X(e,t,r){return new kn(function(n){var i=r,s=!1;return e.subscribe(function(e){i=e,s=!0},function(e){n.onError(e)},function(){s||t?(n.onNext(i),n.onCompleted()):n.onError(new Je)})},e)}function ee(e,t,r,n){var i=at(t,r,3);return new kn(function(t){var r=0;return e.subscribe(function(s){var o;try{o=i(s,r,e)}catch(a){return void t.onError(a)}o?(t.onNext(n?r:s),t.onCompleted()):r++},function(e){t.onError(e)},function(){t.onNext(n?-1:a),t.onCompleted()})},e)}function te(e,t){return Array.isArray(e)?re.call(t,e):oe(e)?rn(e.call(t)):ae(e)?rn(e):se(e)?ne(e):Ve(e)?ie(e):typeof e===en?e:jt(e)||Array.isArray(e)?re.call(t,e):e}function re(e){var t=this;return function(r){function n(e,n){if(!i)try{if(e=te(e,t),typeof e!==en)return a[n]=e,--o||r(null,a);e.call(t,function(e,t){if(!i){if(e)return i=!0,r(e);a[n]=t,--o||r(null,a)}})}catch(s){i=!0,r(s)}}var i,s=Object.keys(e),o=s.length,a=new e.constructor;if(!o)return void ar.schedule(function(){r(null,a)});for(var u=0,c=s.length;c>u;u++)n(e[s[u]],s[u])}}function ne(e){return function(t){var r,n=!1;e.subscribe(function(e){r=e,n=!0},t,function(){n&&t(null,r)})}}function ie(e){return function(t){e.then(function(e){t(null,e)},t)}}function se(e){return e&&typeof e.subscribe===en}function oe(e){return e&&e.constructor&&"GeneratorFunction"===e.constructor.name}function ae(e){return e&&typeof e.next===en&&typeof e[tn]===en}function ue(e){e&&ar.schedule(function(){throw e})}function ce(e,t,r){if(e.addEventListener)return e.addEventListener(t,r,!1),Ht(function(){e.removeEventListener(t,r,!1)});throw new Error("No listener found")}function pe(e,t,r){var n=new Nt;if("[object NodeList]"===Object.prototype.toString.call(e))for(var i=0,s=e.length;s>i;i++)n.add(pe(e.item(i),t,r));else e&&n.add(ce(e,t,r));return n}function le(e,t,r){return new kn(function(n){function i(e,t){c[t]=e;var i;if(o[t]=!0,a||(a=o.every(Re))){if(s)return void n.onError(s);try{i=r.apply(null,c)}catch(p){return void n.onError(p)}n.onNext(i)}u&&c[1]&&n.onCompleted()}var s,o=[!1,!1],a=!1,u=!1,c=new Array(2);return new Nt(e.subscribe(function(e){i(e,0)},function(e){c[1]?n.onError(e):s=e},function(){u=!0,c[1]&&n.onCompleted()}),t.subscribe(function(e){i(e,1)},function(e){n.onError(e)},function(){u=!0,i(!0,1)}))},e)}function fe(e,t){return e.groupJoin(this,t,Cr,function(e,t){return t})}function he(e){var t=this;return new kn(function(r){var n=new Pn,i=new Nt,s=new Jt(i);return r.onNext(Rt(n,s)),i.add(t.subscribe(function(e){n.onNext(e)},function(e){n.onError(e),r.onError(e)},function(){n.onCompleted(),r.onCompleted()})),Ve(e)&&(e=Or(e)),i.add(e.subscribe(function(e){n.onCompleted(),n=new Pn,r.onNext(Rt(n,s))},function(e){n.onError(e),r.onError(e)},function(){n.onCompleted(),r.onCompleted()})),s},t)}function de(e){var t=this;return new kn(function(r){function n(){var t;try{t=e()}catch(s){return void r.onError(s)}Ve(t)&&(t=Or(t));var u=new Kt;i.setDisposable(u),u.setDisposable(t.take(1).subscribe(Ye,function(e){a.onError(e),r.onError(e)},function(){a.onCompleted(),a=new Pn,r.onNext(Rt(a,o)),n()}))}var i=new Gt,s=new Nt(i),o=new Jt(s),a=new Pn;return r.onNext(Rt(a,o)),s.add(t.subscribe(function(e){a.onNext(e)},function(e){a.onError(e),r.onError(e)},function(){a.onCompleted(),r.onCompleted()})),n(),o},t)}function ye(e,t){return new dr(function(){return new hr(function(){return e()?{done:!1,value:t}:{done:!0,value:a}})})}function me(e){this.patterns=e}function ge(e,t){this.expression=e,this.selector=t}function ve(e,t,r){var n=e.get(t);if(!n){var i=new bn(t,r);return e.set(t,i),i}return n}function _e(e,t,r){this.joinObserverArray=e,this.onNext=t,this.onCompleted=r,this.joinObservers=new _n;for(var n=0,i=this.joinObserverArray.length;i>n;n++){var s=this.joinObserverArray[n];this.joinObservers.set(s,s)}}function be(e,t){return new kn(function(r){return t.scheduleWithAbsolute(e,function(){r.onNext(0),r.onCompleted()})})}function we(e,t,r){return new kn(function(n){var i=e,s=Zt(t);return r.scheduleRecursiveWithAbsoluteAndState(0,i,function(e,t){if(s>0){var o=r.now();i+=s,o>=i&&(i=o+s)}n.onNext(e),t(e+1,i)})})}function Te(e,t){return new kn(function(r){return t.scheduleWithRelative(Zt(e),function(){r.onNext(0),r.onCompleted()})})}function ke(e,t,r){return e===t?new kn(function(e){return r.schedulePeriodicWithState(0,t,function(t){return e.onNext(t),t+1})}):jr(function(){return we(r.now()+e,t,r)})}function Le(e,t,r){return new kn(function(n){var i,s=!1,o=new Gt,a=null,u=[],c=!1;return i=e.materialize().timestamp(r).subscribe(function(e){var i,p;"E"===e.value.kind?(u=[],u.push(e),a=e.value.exception,p=!c):(u.push({value:e.value,timestamp:e.timestamp+t}),p=!s,s=!0),p&&(null!==a?n.onError(a):(i=new Kt,o.setDisposable(i),i.setDisposable(r.scheduleRecursiveWithRelative(t,function(e){var t,i,o,p;if(null===a){c=!0;do o=null,u.length>0&&u[0].timestamp-r.now()<=0&&(o=u.shift().value),null!==o&&o.accept(n);while(null!==o);p=!1,i=0,u.length>0?(p=!0,i=Math.max(0,u[0].timestamp-r.now())):s=!1,t=a,c=!1,null!==t?n.onError(t):p&&e(i)}}))))}),new Nt(i,o)},e)}function Me(e,t,r){return jr(function(){return Le(e,t-r.now(),r)})}function Pe(e,t){return new kn(function(r){function n(){o&&(o=!1,r.onNext(s)),i&&r.onCompleted()}var i,s,o;return new Nt(e.subscribe(function(e){o=!0,s=e},r.onError.bind(r),function(){i=!0}),t.subscribe(n,r.onError.bind(r),n))},e)}var Oe={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},De=Oe[typeof window]&&window||this,je=Oe[typeof t]&&t&&!t.nodeType&&t,Ce=Oe[typeof e]&&e&&!e.nodeType&&e,Ee=Ce&&Ce.exports===je&&je,Se=Oe[typeof i]&&i;!Se||Se.global!==Se&&Se.window!==Se||(De=Se);var xe={internals:{},config:{Promise:De.Promise},helpers:{}},Ye=xe.helpers.noop=function(){},Ae=(xe.helpers.notDefined=function(e){return"undefined"==typeof e},xe.helpers.isScheduler=function(e){return e instanceof xe.Scheduler}),Re=xe.helpers.identity=function(e){return e},Ie=(xe.helpers.pluck=function(e){return function(t){return t[e]}},xe.helpers.just=function(e){return function(){return e}},xe.helpers.defaultNow=Date.now),We=xe.helpers.defaultComparer=function(e,t){return St(e,t)},Fe=xe.helpers.defaultSubComparer=function(e,t){return e>t?1:t>e?-1:0},Ne=(xe.helpers.defaultKeySerializer=function(e){return e.toString()},xe.helpers.defaultError=function(e){throw e}),Ve=xe.helpers.isPromise=function(e){return!!e&&"function"==typeof e.then},Be=(xe.helpers.asArray=function(){return Array.prototype.slice.call(arguments)},xe.helpers.not=function(e){return!e}),He=xe.helpers.isFunction=function(){var e=function(e){return"function"==typeof e||!1};return e(/x/)&&(e=function(e){return"function"==typeof e&&"[object Function]"==bt.call(e)}),e}();xe.config.longStackSupport=!1;var Ue=!1;try{throw new Error}catch(qe){Ue=!!qe.stack}var ze,Ke=h(),Ge="From previous event:",Je=xe.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};Je.prototype=Error.prototype;var Qe=xe.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};Qe.prototype=Error.prototype;var $e=xe.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};$e.prototype=Error.prototype;var Ze=xe.NotSupportedError=function(e){this.message=e||"This operation is not supported",Error.call(this)};Ze.prototype=Error.prototype;var Xe=xe.NotImplementedError=function(e){this.message=e||"This operation is not implemented",Error.call(this)};Xe.prototype=Error.prototype;var et=xe.helpers.notImplemented=function(){throw new Xe},tt=xe.helpers.notSupported=function(){throw new Ze},rt="function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_";De.Set&&"function"==typeof(new De.Set)["@@iterator"]&&(rt="@@iterator");var nt=xe.doneEnumerator={done:!0,value:a},it=xe.helpers.isIterable=function(e){return e[rt]!==a},st=xe.helpers.isArrayLike=function(e){return e&&e.length!==a};xe.helpers.iterator=rt;var ot,at=xe.internals.bindCallback=function(e,t,r){if("undefined"==typeof t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}},ut=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ct=ut.length,pt="[object Arguments]",lt="[object Array]",ft="[object Boolean]",ht="[object Date]",dt="[object Error]",yt="[object Function]",mt="[object Number]",gt="[object Object]",vt="[object RegExp]",_t="[object String]",bt=Object.prototype.toString,wt=Object.prototype.hasOwnProperty,Tt=bt.call(arguments)==pt,kt=Error.prototype,Lt=Object.prototype,Mt=String.prototype,Pt=Lt.propertyIsEnumerable;try{ot=!(bt.call(document)==gt&&!({toString:0}+""))}catch(qe){ot=!0}var Ot={};Ot[lt]=Ot[ht]=Ot[mt]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Ot[ft]=Ot[_t]={constructor:!0,toString:!0,valueOf:!0},Ot[dt]=Ot[yt]=Ot[vt]={constructor:!0,toString:!0},Ot[gt]={constructor:!0};var Dt={};!function(){var e=function(){this.x=1},t=[];e.prototype={valueOf:1,y:1};for(var r in new e)t.push(r);for(r in arguments);Dt.enumErrorProps=Pt.call(kt,"message")||Pt.call(kt,"name"),Dt.enumPrototypes=Pt.call(e,"prototype"),Dt.nonEnumArgs=0!=r,Dt.nonEnumShadows=!/valueOf/.test(t)}(1);var jt=xe.internals.isObject=function(e){var t=typeof e;return e&&("function"==t||"object"==t)||!1},Ct=function(e){return e&&"object"==typeof e?bt.call(e)==pt:!1};Tt||(Ct=function(e){return e&&"object"==typeof e?wt.call(e,"callee"):!1});var Et,St=xe.internals.isEqual=function(e,t){return _(e,t,[],[])},xt=({}.hasOwnProperty,Array.prototype.slice),Yt=this.inherits=xe.internals.inherits=function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r},At=xe.internals.addProperties=function(e){for(var t=[],r=1,n=arguments.length;n>r;r++)t.push(arguments[r]);for(var i=0,s=t.length;s>i;i++){var o=t[i];for(var a in o)e[a]=o[a]}},Rt=xe.internals.addRef=function(e,t){return new kn(function(r){return new Nt(t.getDisposable(),e.subscribe(r))})},It={e:{}};L.prototype.compareTo=function(e){var t=this.value.compareTo(e.value);return 0===t&&(t=this.id-e.id),t};var Wt=xe.internals.PriorityQueue=function(e){this.items=new Array(e),this.length=0},Ft=Wt.prototype;Ft.isHigherPriority=function(e,t){return this.items[e].compareTo(this.items[t])<0},Ft.percolate=function(e){if(!(e>=this.length||0>e)){var t=e-1>>1;if(!(0>t||t===e)&&this.isHigherPriority(e,t)){var r=this.items[e];this.items[e]=this.items[t],this.items[t]=r,this.percolate(t)}}},Ft.heapify=function(e){if(+e||(e=0),!(e>=this.length||0>e)){var t=2*e+1,r=2*e+2,n=e;if(t<this.length&&this.isHigherPriority(t,n)&&(n=t),r<this.length&&this.isHigherPriority(r,n)&&(n=r),n!==e){var i=this.items[e];this.items[e]=this.items[n],this.items[n]=i,this.heapify(n)}}},Ft.peek=function(){return this.items[0].value},Ft.removeAt=function(e){this.items[e]=this.items[--this.length],this.items[this.length]=a,this.heapify()},Ft.dequeue=function(){var e=this.peek();return this.removeAt(0),e},Ft.enqueue=function(e){var t=this.length++;this.items[t]=new L(Wt.count++,e),this.percolate(t)},Ft.remove=function(e){for(var t=0;t<this.length;t++)if(this.items[t].value===e)return this.removeAt(t),!0;return!1},Wt.count=0;var Nt=xe.CompositeDisposable=function(){var e,t,r=[];if(Array.isArray(arguments[0]))r=arguments[0],t=r.length;else for(t=arguments.length,r=new Array(t),e=0;t>e;e++)r[e]=arguments[e];for(e=0;t>e;e++)if(!qt(r[e]))throw new TypeError("Not a disposable");this.disposables=r,this.isDisposed=!1,this.length=r.length},Vt=Nt.prototype;Vt.add=function(e){this.isDisposed?e.dispose():(this.disposables.push(e),this.length++)},Vt.remove=function(e){var t=!1;if(!this.isDisposed){var r=this.disposables.indexOf(e);-1!==r&&(t=!0,this.disposables.splice(r,1),this.length--,e.dispose())}return t},Vt.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),r=0;e>r;r++)t[r]=this.disposables[r];for(this.disposables=[],this.length=0,r=0;e>r;r++)t[r].dispose()}};var Bt=xe.Disposable=function(e){this.isDisposed=!1,this.action=e||Ye};Bt.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var Ht=Bt.create=function(e){return new Bt(e)},Ut=Bt.empty={dispose:Ye},qt=Bt.isDisposable=function(e){return e&&He(e.dispose)},zt=Bt.checkDisposed=function(e){if(e.isDisposed)throw new Qe},Kt=xe.SingleAssignmentDisposable=function(){function e(){this.isDisposed=!1,this.current=null}var t=e.prototype;return t.getDisposable=function(){return this.current},t.setDisposable=function(e){var t=this.isDisposed;if(!t){var r=this.current;this.current=e}r&&r.dispose(),t&&e&&e.dispose()},t.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null}e&&e.dispose()},e}(),Gt=xe.SerialDisposable=Kt,Jt=xe.RefCountDisposable=function(){function e(e){this.disposable=e,this.disposable.count++,this.isInnerDisposed=!1}function t(e){this.underlyingDisposable=e,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return e.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},t.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},t.prototype.getDisposable=function(){return this.isDisposed?Ut:new e(this)},t}();M.prototype.dispose=function(){this.scheduler.scheduleWithState(this,P)};var Qt=xe.internals.ScheduledItem=function(e,t,r,n,i){this.scheduler=e,this.state=t,this.action=r,this.dueTime=n,this.comparer=i||Fe,this.disposable=new Kt};Qt.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},Qt.prototype.compareTo=function(e){return this.comparer(this.dueTime,e.dueTime)},Qt.prototype.isCancelled=function(){return this.disposable.isDisposed},Qt.prototype.invokeCore=function(){return this.action(this.scheduler,this.state)};var $t=xe.Scheduler=function(){function e(e,t,r,n){this.now=e,this._schedule=t,this._scheduleRelative=r,this._scheduleAbsolute=n}function t(e,t){return t(),Ut}var r=e.prototype;return r.schedule=function(e){return this._schedule(e,t)},r.scheduleWithState=function(e,t){return this._schedule(e,t)},r.scheduleWithRelative=function(e,r){return this._scheduleRelative(r,e,t)},r.scheduleWithRelativeAndState=function(e,t,r){return this._scheduleRelative(e,t,r)},r.scheduleWithAbsolute=function(e,r){return this._scheduleAbsolute(r,e,t)},r.scheduleWithAbsoluteAndState=function(e,t,r){return this._scheduleAbsolute(e,t,r)},e.now=Ie,e.normalize=function(e){return 0>e&&(e=0),e},e}(),Zt=$t.normalize;!function(e){function t(e,t){function r(t){i(t,function(t){var n=!1,i=!1,o=e.scheduleWithState(t,function(e,t){return n?s.remove(o):i=!0,r(t),Ut});i||(s.add(o),n=!0)})}var n=t[0],i=t[1],s=new Nt;return r(n),s}function r(e,t,r){function n(t){s(t,function(t,i){var s=!1,a=!1,u=e[r](t,i,function(e,t){return s?o.remove(u):a=!0,n(t),Ut});a||(o.add(u),s=!0)})}var i=t[0],s=t[1],o=new Nt;return n(i),o}function n(e,t){e(function(r){t(e,r)})}e.scheduleRecursive=function(e){return this.scheduleRecursiveWithState(e,function(e,t){e(function(){t(e)})})},e.scheduleRecursiveWithState=function(e,r){return this.scheduleWithState([e,r],t)},e.scheduleRecursiveWithRelative=function(e,t){return this.scheduleRecursiveWithRelativeAndState(t,e,n)},e.scheduleRecursiveWithRelativeAndState=function(e,t,n){return this._scheduleRelative([e,n],t,function(e,t){return r(e,t,"scheduleWithRelativeAndState")})},e.scheduleRecursiveWithAbsolute=function(e,t){return this.scheduleRecursiveWithAbsoluteAndState(t,e,n)},e.scheduleRecursiveWithAbsoluteAndState=function(e,t,n){return this._scheduleAbsolute([e,n],t,function(e,t){return r(e,t,"scheduleWithAbsoluteAndState")})}}($t.prototype),function(e){$t.prototype.schedulePeriodic=function(e,t){return this.schedulePeriodicWithState(null,e,t)},$t.prototype.schedulePeriodicWithState=function(e,t,r){if("undefined"==typeof De.setInterval)throw new Ze;t=Zt(t);var n=e,i=De.setInterval(function(){n=r(n)},t);return Ht(function(){De.clearInterval(i)})}}($t.prototype),function(e){e.catchError=e["catch"]=function(e){return new ur(this,e)}}($t.prototype);var Xt,er,tr=xe.internals.SchedulePeriodicRecursive=function(){function e(e,t){t(0,this._period);try{this._state=this._action(this._state)}catch(r){throw this._cancel.dispose(),r}}function t(e,t,r,n){this._scheduler=e,this._state=t,this._period=r,this._action=n}return t.prototype.start=function(){var t=new Kt;return this._cancel=t,t.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0,this._period,e.bind(this))),t},t}(),rr=$t.immediate=function(){function e(e,t){return t(this,e)}return new $t(Ie,e,tt,tt)}(),nr=$t.currentThread=function(){function e(){for(;r.length>0;){var e=r.dequeue();!e.isCancelled()&&e.invoke()}}function t(t,n){var i=new Qt(this,t,n,this.now());if(r)r.enqueue(i);else{r=new Wt(4),r.enqueue(i);var s=T(e)();if(r=null,s===It)return k(s.e)}return i.disposable}var r,n=new $t(Ie,t,tt,tt);return n.scheduleRequired=function(){return!r},n}(),ir=function(){var e,t=Ye;if(De.WScript)e=function(e,t){De.WScript.Sleep(t),e()};else{if(!De.setTimeout)throw new Ze;e=De.setTimeout,t=De.clearTimeout}return{setTimeout:e,clearTimeout:t}}(),sr=ir.setTimeout,or=ir.clearTimeout;!function(){function e(t){if(s)sr(function(){e(t)},0);else{var r=i[t];if(r){s=!0;var n=T(r)();if(er(t),s=!1,n===It)return k(n.e)}}}function t(){if(!De.postMessage||De.importScripts)return!1;var e=!1,t=De.onmessage;return De.onmessage=function(){e=!0},De.postMessage("","*"),De.onmessage=t,e}function r(t){"string"==typeof t.data&&t.data.substring(0,c.length)===c&&e(t.data.substring(c.length))}var n=1,i={},s=!1;er=function(e){delete i[e]};var a=RegExp("^"+String(bt).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),u="function"==typeof(u=Se&&Ee&&Se.setImmediate)&&!a.test(u)&&u;if(He(u))Xt=function(t){var r=n++;return i[r]=t,u(function(){e(r)}),r};else if("undefined"!=typeof o&&"[object process]"==={}.toString.call(o))Xt=function(t){var r=n++;return i[r]=t,o.nextTick(function(){e(r)}),r};else if(t()){var c="ms.rx.schedule"+Math.random();De.addEventListener?De.addEventListener("message",r,!1):De.attachEvent("onmessage",r,!1),Xt=function(e){var t=n++;return i[t]=e,De.postMessage(c+currentId,"*"),t}}else if(De.MessageChannel){var p=new De.MessageChannel;p.port1.onmessage=function(t){e(t.data)},Xt=function(e){var t=n++;return i[t]=e,p.port2.postMessage(t),t}}else Xt="document"in De&&"onreadystatechange"in De.document.createElement("script")?function(t){var r=De.document.createElement("script"),s=n++;return i[s]=t,r.onreadystatechange=function(){e(s),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},De.document.documentElement.appendChild(r),s}:function(t){var r=n++;return i[r]=t,sr(function(){e(r)},0),r}}();var ar=$t.timeout=$t["default"]=function(){function e(e,t){var r=this,n=new Kt,i=Xt(function(){n.isDisposed||n.setDisposable(t(r,e))});return new Nt(n,Ht(function(){er(i)}))}function t(e,t,r){var n=this,i=$t.normalize(t);if(0===i)return n.scheduleWithState(e,r);var s=new Kt,o=sr(function(){s.isDisposed||s.setDisposable(r(n,e))},i);return new Nt(s,Ht(function(){or(o)}))}function r(e,t,r){return this.scheduleWithRelativeAndState(e,t-this.now(),r)}return new $t(Ie,e,t,r)}(),ur=function(e){function t(e,t){return this._scheduler.scheduleWithState(e,this._wrap(t))}function r(e,t,r){return this._scheduler.scheduleWithRelativeAndState(e,t,this._wrap(r))}function n(e,t,r){return this._scheduler.scheduleWithAbsoluteAndState(e,t,this._wrap(r))}function i(i,s){this._scheduler=i,this._handler=s,this._recursiveOriginal=null,this._recursiveWrapper=null,e.call(this,this._scheduler.now.bind(this._scheduler),t,r,n)}return Yt(i,e),i.prototype._clone=function(e){return new i(e,this._handler)},i.prototype._wrap=function(e){var t=this;return function(r,n){try{return e(t._getRecursiveWrapper(r),n)}catch(i){if(!t._handler(i))throw i;return Ut}}},i.prototype._getRecursiveWrapper=function(e){if(this._recursiveOriginal!==e){this._recursiveOriginal=e;var t=this._clone(e);t._recursiveOriginal=e,t._recursiveWrapper=t,this._recursiveWrapper=t}return this._recursiveWrapper},i.prototype.schedulePeriodicWithState=function(e,t,r){var n=this,i=!1,s=new Kt;return s.setDisposable(this._scheduler.schedulePeriodicWithState(e,t,function(e){if(i)return null;try{return r(e)}catch(t){if(i=!0,!n._handler(t))throw t;return s.dispose(),null}})),s},i}($t),cr=xe.Notification=function(){function e(e,t,r,n,i,s){this.kind=e,this.value=t,this.exception=r,this._accept=n,this._acceptObservable=i,this.toString=s}return e.prototype.accept=function(e,t,r){return e&&"object"==typeof e?this._acceptObservable(e):this._accept(e,t,r)},e.prototype.toObservable=function(e){var t=this;return Ae(e)||(e=rr),new kn(function(r){return e.scheduleWithState(t,function(e,t){t._acceptObservable(r),"N"===t.kind&&r.onCompleted()})})},e}(),pr=cr.createOnNext=function(){function e(e){return e(this.value)}function t(e){return e.onNext(this.value)}function r(){return"OnNext("+this.value+")"}return function(n){return new cr("N",n,null,e,t,r)}}(),lr=cr.createOnError=function(){function e(e,t){return t(this.exception)}function t(e){return e.onError(this.exception)}function r(){return"OnError("+this.exception+")"}return function(n){return new cr("E",null,n,e,t,r)}}(),fr=cr.createOnCompleted=function(){function e(e,t,r){return r()}function t(e){return e.onCompleted()}function r(){return"OnCompleted()"}return function(){return new cr("C",null,null,e,t,r)}}(),hr=xe.internals.Enumerator=function(e){this._next=e};hr.prototype.next=function(){return this._next()},hr.prototype[rt]=function(){return this};var dr=xe.internals.Enumerable=function(e){this._iterator=e};dr.prototype[rt]=function(){return this._iterator()},dr.prototype.concat=function(){var e=this;return new kn(function(t){var r,n=e[rt](),i=new Gt,s=rr.scheduleRecursive(function(e){if(!r){try{var s=n.next()}catch(o){return t.onError(o)}if(s.done)return t.onCompleted();var a=s.value;Ve(a)&&(a=Or(a));var u=new Kt;i.setDisposable(u),u.setDisposable(a.subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},e))}});return new Nt(i,s,Ht(function(){r=!0}))})},dr.prototype.catchError=function(){var e=this;return new kn(function(t){var r,n=e[rt](),i=new Gt,s=rr.scheduleRecursiveWithState(null,function(e,s){if(!r){try{var o=n.next()}catch(a){return observer.onError(a)}if(o.done)return void(null!==e?t.onError(e):t.onCompleted());var u=o.value;Ve(u)&&(u=Or(u));var c=new Kt;i.setDisposable(c),c.setDisposable(u.subscribe(function(e){t.onNext(e)},s,function(){t.onCompleted()}))}});return new Nt(i,s,Ht(function(){r=!0}))})},dr.prototype.catchErrorWhen=function(e){var t=this;return new kn(function(r){var n,i,s=new Pn,o=new Pn,a=e(s),u=a.subscribe(o),c=t[rt](),p=new Gt,l=rr.scheduleRecursive(function(e){if(!n){try{var t=c.next()}catch(a){return r.onError(a)}if(t.done)return void(i?r.onError(i):r.onCompleted());var u=t.value;Ve(u)&&(u=Or(u));var l=new Kt,f=new Kt;p.setDisposable(new Nt(f,l)),l.setDisposable(u.subscribe(function(e){r.onNext(e)},function(t){f.setDisposable(o.subscribe(e,function(e){r.onError(e)},function(){r.onCompleted()})),s.onNext(t)},function(){r.onCompleted()}))}});return new Nt(u,p,l,Ht(function(){n=!0}))})};var yr=dr.repeat=function(e,t){return null==t&&(t=-1),new dr(function(){var r=t;return new hr(function(){return 0===r?nt:(r>0&&r--,{done:!1,value:e})})})},mr=dr.of=function(e,t,r){if(t)var n=at(t,r,3);return new dr(function(){var r=-1;return new hr(function(){return++r<e.length?{done:!1,value:t?n(e[r],r,e):e[r]}:nt})})},gr=xe.Observer=function(){};gr.prototype.toNotifier=function(){var e=this;return function(t){return t.accept(e)}},gr.prototype.asObserver=function(){return new wr(this.onNext.bind(this),this.onError.bind(this),this.onCompleted.bind(this))},gr.prototype.checked=function(){return new Tr(this)};var vr=gr.create=function(e,t,r){return e||(e=Ye),t||(t=Ne),r||(r=Ye),new wr(e,t,r)};gr.fromNotifier=function(e,t){return new wr(function(r){return e.call(t,pr(r))},function(r){return e.call(t,lr(r))},function(){return e.call(t,fr())})},gr.prototype.notifyOn=function(e){return new Lr(e,this)},gr.prototype.makeSafe=function(e){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,e)};var _r,br=xe.internals.AbstractObserver=function(e){
function t(){this.isStopped=!1,e.call(this)}return Yt(t,e),t.prototype.next=et,t.prototype.error=et,t.prototype.completed=et,t.prototype.onNext=function(e){this.isStopped||this.next(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.error(e))},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.error(e),!0)},t}(gr),wr=xe.AnonymousObserver=function(e){function t(t,r,n){e.call(this),this._onNext=t,this._onError=r,this._onCompleted=n}return Yt(t,e),t.prototype.next=function(e){this._onNext(e)},t.prototype.error=function(e){this._onError(e)},t.prototype.completed=function(){this._onCompleted()},t}(br),Tr=function(e){function t(t){e.call(this),this._observer=t,this._state=0}Yt(t,e);var r=t.prototype;return r.onNext=function(e){this.checkAccess();var t=T(this._observer.onNext).call(this._observer,e);this._state=0,t===It&&k(t.e)},r.onError=function(e){this.checkAccess();var t=T(this._observer.onError).call(this._observer,e);this._state=2,t===It&&k(t.e)},r.onCompleted=function(){this.checkAccess();var e=T(this._observer.onCompleted).call(this._observer);this._state=2,e===It&&k(e.e)},r.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},t}(gr),kr=xe.internals.ScheduledObserver=function(e){function t(t,r){e.call(this),this.scheduler=t,this.observer=r,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new Gt}return Yt(t,e),t.prototype.next=function(e){var t=this;this.queue.push(function(){t.observer.onNext(e)})},t.prototype.error=function(e){var t=this;this.queue.push(function(){t.observer.onError(e)})},t.prototype.completed=function(){var e=this;this.queue.push(function(){e.observer.onCompleted()})},t.prototype.ensureActive=function(){var e=!1,t=this;!this.hasFaulted&&this.queue.length>0&&(e=!this.isAcquired,this.isAcquired=!0),e&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(function(e){var r;if(!(t.queue.length>0))return void(t.isAcquired=!1);r=t.queue.shift();try{r()}catch(n){throw t.queue=[],t.hasFaulted=!0,n}e()}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposable.dispose()},t}(br),Lr=function(e){function t(t,r,n){e.call(this,t,r),this._cancel=n}return Yt(t,e),t.prototype.next=function(t){e.prototype.next.call(this,t),this.ensureActive()},t.prototype.error=function(t){e.prototype.error.call(this,t),this.ensureActive()},t.prototype.completed=function(){e.prototype.completed.call(this),this.ensureActive()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},t}(kr),Mr=xe.Observable=function(){function e(e){if(xe.config.longStackSupport&&Ue){try{throw new Error}catch(t){this.stack=t.stack.substring(t.stack.indexOf("\n")+1)}var r=this;this._subscribe=function(t){var n=t.onError.bind(t);return t.onError=function(e){c(e,r),n(e)},e.call(r,t)}}else this._subscribe=e}return _r=e.prototype,_r.subscribe=_r.forEach=function(e,t,r){return this._subscribe("object"==typeof e?e:vr(e,t,r))},_r.subscribeOnNext=function(e,t){return this._subscribe(vr("undefined"!=typeof t?function(r){e.call(t,r)}:e))},_r.subscribeOnError=function(e,t){return this._subscribe(vr(null,"undefined"!=typeof t?function(r){e.call(t,r)}:e))},_r.subscribeOnCompleted=function(e,t){return this._subscribe(vr(null,null,"undefined"!=typeof t?function(){e.call(t)}:e))},e}(),Pr=xe.ObservableBase=function(e){function t(e){return e&&He(e.dispose)?e:He(e)?Ht(e):Ut}function r(e,r){var n=r[0],i=r[1],s=T(i.subscribeCore).call(i,n);return s!==It||n.fail(It.e)?void n.setDisposable(t(s)):k(It.e)}function n(e){var t=new Ln(e),n=[t,this];return nr.scheduleRequired()?nr.scheduleWithState(n,r):r(null,n),t}function i(){e.call(this,n)}return Yt(i,e),i.prototype.subscribeCore=et,i}(Mr);_r.observeOn=function(e){var t=this;return new kn(function(r){return t.subscribe(new Lr(e,r))},t)},_r.subscribeOn=function(e){var t=this;return new kn(function(r){var n=new Kt,i=new Gt;return i.setDisposable(n),n.setDisposable(e.schedule(function(){i.setDisposable(new M(e,t.subscribe(r)))})),i},t)};var Or=Mr.fromPromise=function(e){return jr(function(){var t=new xe.AsyncSubject;return e.then(function(e){t.onNext(e),t.onCompleted()},t.onError.bind(t)),t})};_r.toPromise=function(e){if(e||(e=xe.config.Promise),!e)throw new Ze("Promise type not provided nor in Rx.config.Promise");var t=this;return new e(function(e,r){var n,i=!1;t.subscribe(function(e){n=e,i=!0},r,function(){i&&e(n)})})};var Dr=function(e){function t(t){this.source=t,e.call(this)}return Yt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new O(e))},t}(Pr);O.prototype.onNext=function(e){this.isStopped||this.a.push(e)},O.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.observer.onError(e))},O.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.observer.onNext(this.a),this.observer.onCompleted())},O.prototype.dispose=function(){this.isStopped=!0},O.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(e),!0)},_r.toArray=function(){return new Dr(this)},Mr.create=Mr.createWithDisposable=function(e,t){return new kn(e,t)};var jr=Mr.defer=function(e){return new kn(function(t){var r;try{r=e()}catch(n){return Vr(n).subscribe(t)}return Ve(r)&&(r=Or(r)),r.subscribe(t)})},Cr=Mr.empty=function(e){return Ae(e)||(e=rr),new kn(function(t){return e.scheduleWithState(null,function(){t.onCompleted()})})},Er=function(e){function t(t,r,n){this.iterable=t,this.mapper=r,this.scheduler=n,e.call(this)}return Yt(t,e),t.prototype.subscribeCore=function(e){var t=new Sr(e,this);return t.run()},t}(Pr),Sr=function(){function e(e,t){this.observer=e,this.parent=t}return e.prototype.run=function(){function e(e,t){try{var s=r.next()}catch(o){return n.onError(o)}if(s.done)return n.onCompleted();var a=s.value;if(i)try{a=i(a,e)}catch(o){return n.onError(o)}n.onNext(a),t(e+1)}var t=Object(this.parent.iterable),r=x(t),n=this.observer,i=this.parent.mapper;return this.parent.scheduler.scheduleRecursiveWithState(0,e)},e}(),xr=Math.pow(2,53)-1;D.prototype[rt]=function(){return new j(this._s)},j.prototype[rt]=function(){return this},j.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:nt},C.prototype[rt]=function(){return new E(this._a)},E.prototype[rt]=function(){return this},E.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:nt};var Yr=Mr.from=function(e,t,r,n){if(null==e)throw new Error("iterable cannot be null.");if(t&&!He(t))throw new Error("mapFn when provided must be a function");if(t)var i=at(t,r,2);return Ae(n)||(n=nr),new Er(e,i,n)},Ar=function(e){function t(t,r){this.args=t,this.scheduler=r,e.call(this)}return Yt(t,e),t.prototype.subscribeCore=function(e){var t=new R(e,this);return t.run()},t}(Pr);R.prototype.run=function(){function e(e,i){n>e?(t.onNext(r[e]),i(e+1)):t.onCompleted()}var t=this.observer,r=this.parent.args,n=r.length;return this.parent.scheduler.scheduleRecursiveWithState(0,e)};var Rr=Mr.fromArray=function(e,t){return Ae(t)||(t=nr),new Ar(e,t)};Mr.generate=function(e,t,r,n,i){return Ae(i)||(i=nr),new kn(function(s){var o=!0;return i.scheduleRecursiveWithState(e,function(e,i){var a,u;try{o?o=!1:e=r(e),a=t(e),a&&(u=n(e))}catch(c){return s.onError(c)}a?(s.onNext(u),i(e)):s.onCompleted()})})},Mr.of=function(){for(var e=arguments.length,t=new Array(e),r=0;e>r;r++)t[r]=arguments[r];return new Ar(t,nr)},Mr.ofWithScheduler=function(e){for(var t=arguments.length,r=new Array(t-1),n=1;t>n;n++)r[n-1]=arguments[n];return new Ar(r,e)},Mr.ofArrayChanges=function(e){if(!Array.isArray(e))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new kn(function(t){function r(e){for(var r=0,n=e.length;n>r;r++)t.onNext(e[r])}return Array.observe(e,r),function(){Array.unobserve(e,r)}})},Mr.ofObjectChanges=function(e){if(null==e)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new kn(function(t){function r(e){for(var r=0,n=e.length;n>r;r++)t.onNext(e[r])}return Object.observe(e,r),function(){Object.unobserve(e,r)}})};var Ir=Mr.never=function(){return new kn(function(){return Ut})};Mr.pairs=function(e,t){return t||(t=xe.Scheduler.currentThread),new kn(function(r){var n=Object.keys(e),i=n.length;return t.scheduleRecursiveWithState(0,function(t,s){if(i>t){var o=n[t];r.onNext([o,e[o]]),s(t+1)}else r.onCompleted()})})};var Wr=function(e){function t(t,r,n){this.start=t,this.count=r,this.scheduler=n,e.call(this)}return Yt(t,e),t.prototype.subscribeCore=function(e){var t=new Fr(e,this);return t.run()},t}(Pr),Fr=function(){function e(e,t){this.observer=e,this.parent=t}return e.prototype.run=function(){function e(e,i){r>e?(n.onNext(t+e),i(e+1)):n.onCompleted()}var t=this.parent.start,r=this.parent.count,n=this.observer;return this.parent.scheduler.scheduleRecursiveWithState(0,e)},e}();Mr.range=function(e,t,r){return Ae(r)||(r=nr),new Wr(e,t,r)},Mr.repeat=function(e,t,r){return Ae(r)||(r=nr),Nr(e,r).repeat(null==t?-1:t)};var Nr=Mr["return"]=Mr.just=Mr.returnValue=function(e,t){return Ae(t)||(t=rr),new kn(function(r){return t.scheduleWithState(e,function(e,t){r.onNext(t),r.onCompleted()})})},Vr=Mr["throw"]=Mr.throwError=function(e,t){return Ae(t)||(t=rr),new kn(function(r){return t.schedule(function(){r.onError(e)})})};Mr.throwException=function(){return Mr.throwError.apply(null,arguments)},Mr.using=function(e,t){return new kn(function(r){var n,i,s=Ut;try{n=e(),n&&(s=n),i=t(n)}catch(o){return new Nt(Vr(o).subscribe(r),s)}return new Nt(i.subscribe(r),s)})},_r.amb=function(e){var t=this;return new kn(function(r){function n(){s||(s=o,c.dispose())}function i(){s||(s=a,u.dispose())}var s,o="L",a="R",u=new Kt,c=new Kt;return Ve(e)&&(e=Or(e)),u.setDisposable(t.subscribe(function(e){n(),s===o&&r.onNext(e)},function(e){n(),s===o&&r.onError(e)},function(){n(),s===o&&r.onCompleted()})),c.setDisposable(e.subscribe(function(e){i(),s===a&&r.onNext(e)},function(e){i(),s===a&&r.onError(e)},function(){i(),s===a&&r.onCompleted()})),new Nt(u,c)})},Mr.amb=function(){function e(e,t){return e.amb(t)}var t=Ir(),r=[];if(Array.isArray(arguments[0]))r=arguments[0];else for(var n=0,i=arguments.length;i>n;n++)r.push(arguments[n]);for(var n=0,i=r.length;i>n;n++)t=e(t,r[n]);return t},_r["catch"]=_r.catchError=_r.catchException=function(e){return"function"==typeof e?W(this,e):Br([this,e])};var Br=Mr.catchError=Mr["catch"]=Mr.catchException=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,r=arguments.length;r>t;t++)e.push(arguments[t]);return mr(e).catchError()};_r.combineLatest=function(){for(var e=arguments.length,t=new Array(e),r=0;e>r;r++)t[r]=arguments[r];return Array.isArray(t[0])?t[0].unshift(this):t.unshift(this),Hr.apply(this,t)};var Hr=Mr.combineLatest=function(){for(var e=arguments.length,t=new Array(e),r=0;e>r;r++)t[r]=arguments[r];var n=t.pop();return Array.isArray(t[0])&&(t=t[0]),new kn(function(e){function r(t){if(a[t]=!0,u||(u=a.every(Re))){try{var r=n.apply(null,p)}catch(i){return e.onError(i)}e.onNext(r)}else c.filter(function(e,r){return r!==t}).every(Re)&&e.onCompleted()}function i(t){c[t]=!0,c.every(Re)&&e.onCompleted()}for(var s=t.length,o=function(){return!1},a=b(s,o),u=!1,c=b(s,o),p=new Array(s),l=new Array(s),f=0;s>f;f++)!function(n){var s=t[n],o=new Kt;Ve(s)&&(s=Or(s)),o.setDisposable(s.subscribe(function(e){p[n]=e,r(n)},function(t){e.onError(t)},function(){i(n)})),l[n]=o}(f);return new Nt(l)},this)};_r.concat=function(){for(var e=[],t=0,r=arguments.length;r>t;t++)e.push(arguments[t]);return e.unshift(this),Ur.apply(null,e)};var Ur=Mr.concat=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(arguments.length);for(var t=0,r=arguments.length;r>t;t++)e[t]=arguments[t]}return mr(e).concat()};_r.concatAll=_r.concatObservable=function(){return this.merge(1)};var qr=function(e){function t(t,r){this.source=t,this.maxConcurrent=r,e.call(this)}return Yt(t,e),t.prototype.subscribeCore=function(e){var t=new Nt;return t.add(this.source.subscribe(new zr(e,this.maxConcurrent,t))),t},t}(Pr),zr=function(){function e(e,t,r){this.o=e,this.max=t,this.g=r,this.done=!1,this.q=[],this.activeCount=0,this.isStopped=!1}function t(e,t){this.parent=e,this.sad=t,this.isStopped=!1}return e.prototype.handleSubscribe=function(e){var r=new Kt;this.g.add(r),Ve(e)&&(e=Or(e)),r.setDisposable(e.subscribe(new t(this,r)))},e.prototype.onNext=function(e){this.isStopped||(this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(e)):this.q.push(e))},e.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,0===this.activeCount&&this.o.onCompleted())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t.prototype.onNext=function(e){this.isStopped||this.parent.o.onNext(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.o.onError(e))},t.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var e=this.parent;e.g.remove(this.sad),e.q.length>0?e.handleSubscribe(e.q.shift()):(e.activeCount--,e.done&&0===e.activeCount&&e.o.onCompleted())}},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(e),!0)},e}();_r.merge=function(e){return"number"!=typeof e?Kr(this,e):new qr(this,e)};var Kr=Mr.merge=function(){var e,t,r=[],n=arguments.length;if(arguments[0])if(Ae(arguments[0]))for(e=arguments[0],t=1;n>t;t++)r.push(arguments[t]);else for(e=rr,t=0;n>t;t++)r.push(arguments[t]);else for(e=rr,t=1;n>t;t++)r.push(arguments[t]);return Array.isArray(r[0])&&(r=r[0]),I(e,r).mergeAll()},Gr=function(e){function t(t){this.source=t,e.call(this)}return Yt(t,e),t.prototype.subscribeCore=function(e){var t=new Nt,r=new Kt;return t.add(r),r.setDisposable(this.source.subscribe(new Jr(e,t))),t},t}(Pr),Jr=function(){function e(e,t){this.o=e,this.g=t,this.isStopped=!1,this.done=!1}function t(e,t,r){this.parent=e,this.g=t,this.sad=r,this.isStopped=!1}return e.prototype.onNext=function(e){if(!this.isStopped){var r=new Kt;this.g.add(r),Ve(e)&&(e=Or(e)),r.setDisposable(e.subscribe(new t(this,this.g,r)))}},e.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,1===this.g.length&&this.o.onCompleted())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t.prototype.onNext=function(e){this.isStopped||this.parent.o.onNext(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.o.onError(e))},t.prototype.onCompleted=function(){if(!this.isStopped){var e=this.parent;this.isStopped=!0,e.g.remove(this.sad),e.done&&1===e.g.length&&e.o.onCompleted()}},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(e),!0)},e}();_r.mergeAll=_r.mergeObservable=function(){return new Gr(this)};var Qr=xe.CompositeError=function(e){this.name="NotImplementedError",this.innerErrors=e,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};Qr.prototype=Error.prototype,Mr.mergeDelayError=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var r=0;t>r;r++)e[r]=arguments[r]}var n=I(null,e);return new kn(function(e){function t(){0===o.length?e.onCompleted():e.onError(1===o.length?o[0]:new Qr(o))}var r=new Nt,i=new Kt,s=!1,o=[];return r.add(i),i.setDisposable(n.subscribe(function(n){var i=new Kt;r.add(i),Ve(n)&&(n=Or(n)),i.setDisposable(n.subscribe(function(t){e.onNext(t)},function(e){o.push(e),r.remove(i),s&&1===r.length&&t()},function(){r.remove(i),s&&1===r.length&&t()}))},function(e){o.push(e),s=!0,1===r.length&&t()},function(){s=!0,1===r.length&&t()})),r})},_r.onErrorResumeNext=function(e){if(!e)throw new Error("Second observable is required");return $r([this,e])};var $r=Mr.onErrorResumeNext=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,r=arguments.length;r>t;t++)e.push(arguments[t]);return new kn(function(t){var r=0,n=new Gt,i=rr.scheduleRecursive(function(i){var s,o;r<e.length?(s=e[r++],Ve(s)&&(s=Or(s)),o=new Kt,n.setDisposable(o),o.setDisposable(s.subscribe(t.onNext.bind(t),i,i))):t.onCompleted()});return new Nt(n,i)})};_r.skipUntil=function(e){var t=this;return new kn(function(r){var n=!1,i=new Nt(t.subscribe(function(e){n&&r.onNext(e)},function(e){r.onError(e)},function(){n&&r.onCompleted()}));Ve(e)&&(e=Or(e));var s=new Kt;return i.add(s),s.setDisposable(e.subscribe(function(){n=!0,s.dispose()},function(e){r.onError(e)},function(){s.dispose()})),i},t)},_r["switch"]=_r.switchLatest=function(){var e=this;return new kn(function(t){var r=!1,n=new Gt,i=!1,s=0,o=e.subscribe(function(e){var o=new Kt,a=++s;r=!0,n.setDisposable(o),Ve(e)&&(e=Or(e)),o.setDisposable(e.subscribe(function(e){s===a&&t.onNext(e)},function(e){s===a&&t.onError(e)},function(){s===a&&(r=!1,i&&t.onCompleted())}))},function(e){t.onError(e)},function(){i=!0,!r&&t.onCompleted()});return new Nt(o,n)},e)},_r.takeUntil=function(e){var t=this;return new kn(function(r){return Ve(e)&&(e=Or(e)),new Nt(t.subscribe(r),e.subscribe(function(){r.onCompleted()},function(e){r.onError(e)},Ye))},t)},_r.withLatestFrom=function(){for(var e=arguments.length,t=new Array(e),r=0;e>r;r++)t[r]=arguments[r];var n=t.pop(),i=this;if("undefined"==typeof i)throw new Error("Source observable not found for withLatestFrom().");if("function"!=typeof n)throw new Error("withLatestFrom() expects a resultSelector function.");return Array.isArray(t[0])&&(t=t[0]),new kn(function(e){for(var r=function(){return!1},s=t.length,o=b(s,r),a=!1,u=new Array(s),c=new Array(s+1),p=0;s>p;p++)!function(r){var n=t[r],i=new Kt;Ve(n)&&(n=Or(n)),i.setDisposable(n.subscribe(function(e){u[r]=e,o[r]=!0,a=o.every(Re)},e.onError.bind(e),function(){})),c[r]=i}(p);var l=new Kt;return l.setDisposable(i.subscribe(function(t){var r,i=[t].concat(u);if(a){try{r=n.apply(null,i)}catch(s){return void e.onError(s)}e.onNext(r)}},e.onError.bind(e),function(){e.onCompleted()})),c[s]=l,new Nt(c)},this)},_r.zip=function(){if(Array.isArray(arguments[0]))return F.apply(this,arguments);for(var e=arguments.length,t=new Array(e),r=0;e>r;r++)t[r]=arguments[r];var n=this,i=t.pop();return t.unshift(n),new kn(function(e){function r(t){var r,s;if(a.every(function(e){return e.length>0})){try{s=a.map(function(e){return e.shift()}),r=i.apply(n,s)}catch(o){return void e.onError(o)}e.onNext(r)}else u.filter(function(e,r){return r!==t}).every(Re)&&e.onCompleted()}function s(t){u[t]=!0,u.every(function(e){return e})&&e.onCompleted()}for(var o=t.length,a=b(o,V),u=b(o,N),c=new Array(o),p=0;o>p;p++)!function(n){var i=t[n],o=new Kt;Ve(i)&&(i=Or(i)),o.setDisposable(i.subscribe(function(e){a[n].push(e),r(n)},function(t){e.onError(t)},function(){s(n)})),c[n]=o}(p);return new Nt(c)},n)},Mr.zip=function(){for(var e=arguments.length,t=new Array(e),r=0;e>r;r++)t[r]=arguments[r];var n=t.shift();return n.zip.apply(n,t)},Mr.zipArray=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var r=0;t>r;r++)e[r]=arguments[r]}return new kn(function(t){function r(e){if(s.every(function(e){return e.length>0})){var r=s.map(function(e){return e.shift()});t.onNext(r)}else if(o.filter(function(t,r){return r!==e}).every(Re))return void t.onCompleted()}function n(e){return o[e]=!0,o.every(Re)?void t.onCompleted():void 0}for(var i=e.length,s=b(i,function(){return[]}),o=b(i,function(){return!1}),a=new Array(i),u=0;i>u;u++)!function(i){a[i]=new Kt,a[i].setDisposable(e[i].subscribe(function(e){s[i].push(e),r(i)},function(e){t.onError(e)},function(){n(i)}))}(u);return new Nt(a)})},_r.asObservable=function(){var e=this;return new kn(function(t){return e.subscribe(t)},this)},_r.bufferWithCount=function(e,t){return"number"!=typeof t&&(t=e),this.windowWithCount(e,t).selectMany(function(e){return e.toArray()}).where(function(e){return e.length>0})},_r.dematerialize=function(){var e=this;return new kn(function(t){return e.subscribe(function(e){return e.accept(t)},function(e){t.onError(e)},function(){t.onCompleted()})},this)},_r.distinctUntilChanged=function(e,t){var r=this;return t||(t=We),new kn(function(n){var i,s=!1;return r.subscribe(function(r){var o=r;if(e)try{o=e(r)}catch(a){return void n.onError(a)}if(s)try{var u=t(i,o)}catch(a){return void n.onError(a)}s&&u||(s=!0,i=o,n.onNext(r))},function(e){n.onError(e)},function(){n.onCompleted()})},this)},_r["do"]=_r.tap=_r.doAction=function(e,t,r){var n=this;return new kn(function(i){var s=!e||He(e)?vr(e||Ye,t||Ye,r||Ye):e;return n.subscribe(function(e){try{s.onNext(e)}catch(t){i.onError(t)}i.onNext(e)},function(e){try{s.onError(e)}catch(t){i.onError(t)}i.onError(e)},function(){try{s.onCompleted()}catch(e){i.onError(e)}i.onCompleted()})},this)},_r.doOnNext=_r.tapOnNext=function(e,t){return this.tap("undefined"!=typeof t?function(r){e.call(t,r)}:e)},_r.doOnError=_r.tapOnError=function(e,t){return this.tap(Ye,"undefined"!=typeof t?function(r){e.call(t,r)}:e)},_r.doOnCompleted=_r.tapOnCompleted=function(e,t){return this.tap(Ye,null,"undefined"!=typeof t?function(){e.call(t)}:e)},_r["finally"]=_r.ensure=function(e){var t=this;return new kn(function(r){var n;try{n=t.subscribe(r)}catch(i){throw e(),i}return Ht(function(){try{n.dispose()}catch(t){throw t}finally{e()}})},this)},_r.finallyAction=function(e){return this.ensure(e)},_r.ignoreElements=function(){var e=this;return new kn(function(t){return e.subscribe(Ye,function(e){t.onError(e)},function(){t.onCompleted()})},e)},_r.materialize=function(){var e=this;return new kn(function(t){return e.subscribe(function(e){t.onNext(pr(e))},function(e){t.onNext(lr(e)),t.onCompleted()},function(){t.onNext(fr()),t.onCompleted()})},e)},_r.repeat=function(e){return yr(this,e).concat()},_r.retry=function(e){return yr(this,e).catchError()},_r.retryWhen=function(e){return yr(this).catchErrorWhen(e)},_r.scan=function(){var e,t,r=!1,n=this;return 2===arguments.length?(r=!0,e=arguments[0],t=arguments[1]):t=arguments[0],new kn(function(i){var s,o,a;return n.subscribe(function(n){!a&&(a=!0);try{s?o=t(o,n):(o=r?t(e,n):n,s=!0)}catch(u){return void i.onError(u)}i.onNext(o)},function(e){i.onError(e)},function(){!a&&r&&i.onNext(e),i.onCompleted()})},n)},_r.skipLast=function(e){if(0>e)throw new $e;var t=this;return new kn(function(r){var n=[];return t.subscribe(function(t){n.push(t),n.length>e&&r.onNext(n.shift())},function(e){r.onError(e)},function(){r.onCompleted()})},t)},_r.startWith=function(){var e,t=0;arguments.length&&Ae(arguments[0])?(e=arguments[0],t=1):e=rr;for(var r=[],n=t,i=arguments.length;i>n;n++)r.push(arguments[n]);return mr([Rr(r,e),this]).concat()},_r.takeLast=function(e){if(0>e)throw new $e;var t=this;return new kn(function(r){var n=[];return t.subscribe(function(t){n.push(t),n.length>e&&n.shift()},function(e){r.onError(e)},function(){for(;n.length>0;)r.onNext(n.shift());r.onCompleted()})},t)},_r.takeLastBuffer=function(e){var t=this;return new kn(function(r){var n=[];return t.subscribe(function(t){n.push(t),n.length>e&&n.shift()},function(e){r.onError(e)},function(){r.onNext(n),r.onCompleted()})},t)},_r.windowWithCount=function(e,t){var r=this;if(+e||(e=0),Math.abs(e)===1/0&&(e=0),0>=e)throw new $e;if(null==t&&(t=e),+t||(t=0),Math.abs(t)===1/0&&(t=0),0>=t)throw new $e;return new kn(function(n){function i(){var e=new Pn;u.push(e),n.onNext(Rt(e,o))}var s=new Kt,o=new Jt(s),a=0,u=[];return i(),s.setDisposable(r.subscribe(function(r){for(var n=0,s=u.length;s>n;n++)u[n].onNext(r);var o=a-e+1;o>=0&&o%t===0&&u.shift().onCompleted(),++a%t===0&&i()},function(e){for(;u.length>0;)u.shift().onError(e);n.onError(e)},function(){for(;u.length>0;)u.shift().onCompleted();n.onCompleted()})),o},r)},_r.selectConcat=_r.concatMap=function(e,t,r){return He(e)&&He(t)?this.concatMap(function(r,n){var i=e(r,n);return Ve(i)&&(i=Or(i)),(st(i)||it(i))&&(i=Yr(i)),i.map(function(e,i){return t(r,e,n,i)})}):He(e)?B(this,e,r):B(this,function(){return e})},_r.concatMapObserver=_r.selectConcatObserver=function(e,t,r,n){var i=this,s=at(e,n,2),o=at(t,n,1),a=at(r,n,0);return new kn(function(e){var t=0;return i.subscribe(function(r){var n;try{n=s(r,t++)}catch(i){return void e.onError(i)}Ve(n)&&(n=Or(n)),e.onNext(n)},function(t){var r;try{r=o(t)}catch(n){return void e.onError(n)}Ve(r)&&(r=Or(r)),e.onNext(r),e.onCompleted()},function(){var t;try{t=a()}catch(r){return void e.onError(r)}Ve(t)&&(t=Or(t)),e.onNext(t),e.onCompleted()})},this).concatAll()},_r.defaultIfEmpty=function(e){var t=this;return e===a&&(e=null),new kn(function(r){var n=!1;return t.subscribe(function(e){n=!0,r.onNext(e)},function(e){r.onError(e)},function(){!n&&r.onNext(e),r.onCompleted()})},t)},U.prototype.push=function(e){var t=-1===H(this.set,e,this.comparer);return t&&this.set.push(e),t},_r.distinct=function(e,t){var r=this;return t||(t=We),new kn(function(n){var i=new U(t);return r.subscribe(function(t){var r=t;if(e)try{r=e(t)}catch(s){return void n.onError(s)}i.push(r)&&n.onNext(t)},function(e){n.onError(e)},function(){n.onCompleted()})},this)},_r.groupBy=function(e,t,r){return this.groupByUntil(e,t,Ir,r)},_r.groupByUntil=function(e,t,r,n){var i=this;return t||(t=Re),n||(n=We),new kn(function(s){function o(e){return function(t){t.onError(e)}}var a=new mn(0,n),u=new Nt,c=new Jt(u);return u.add(i.subscribe(function(n){var i;try{i=e(n)}catch(p){return a.getValues().forEach(o(p)),void s.onError(p)}var l=!1,f=a.tryGetValue(i);if(f||(f=new Pn,a.set(i,f),l=!0),l){var h=new Mn(i,f,c),d=new Mn(i,f);try{duration=r(d)}catch(p){return a.getValues().forEach(o(p)),void s.onError(p)}s.onNext(h);var y=new Kt;u.add(y);var m=function(){a.remove(i)&&f.onCompleted(),u.remove(y)};y.setDisposable(duration.take(1).subscribe(Ye,function(e){a.getValues().forEach(o(e)),s.onError(e)},m))}var g;try{g=t(n)}catch(p){return a.getValues().forEach(o(p)),void s.onError(p)}f.onNext(g)},function(e){a.getValues().forEach(o(e)),s.onError(e)},function(){a.getValues().forEach(function(e){e.onCompleted()}),s.onCompleted()})),c},i)};var Zr=function(e){function t(t,r,n){this.source=t,this.selector=at(r,n,3),e.call(this)}return Yt(t,e),t.prototype.internalMap=function(e,r){var n=this;return new t(this.source,function(t,r,i){return e.call(this,n.selector(t,r,i),r,i)},r)},t.prototype.subscribeCore=function(e){return this.source.subscribe(new q(e,this.selector,this))},t}(Pr);q.prototype.onNext=function(e){if(!this.isStopped){var t=T(this.selector).call(this,e,this.i++,this.source);return t===It?this.observer.onError(t.e):void this.observer.onNext(t)}},q.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.observer.onError(e))},q.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.observer.onCompleted())},q.prototype.dispose=function(){this.isStopped=!0},q.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(e),!0)},_r.map=_r.select=function(e,t){var r="function"==typeof e?e:function(){return e};return this instanceof Zr?this.internalMap(r,t):new Zr(this,r,t)},_r.pluck=function(){var e=arguments,t=arguments.length;if(0===t)throw new Error("List of properties cannot be empty.");return this.map(function(r){for(var n=r,i=0;t>i;i++){var s=n[e[i]];if("undefined"==typeof s)return a;n=s}return n})},_r.selectMany=_r.flatMap=function(e,t,r){return He(e)&&He(t)?this.flatMap(function(r,n){var i=e(r,n);return Ve(i)&&(i=Or(i)),(st(i)||it(i))&&(i=Yr(i)),i.map(function(e,i){return t(r,e,n,i)})},r):He(e)?z(this,e,r):z(this,function(){return e})},_r.flatMapObserver=_r.selectManyObserver=function(e,t,r,n){var i=this;return new kn(function(s){var o=0;return i.subscribe(function(t){var r;try{r=e.call(n,t,o++)}catch(i){return void s.onError(i)}Ve(r)&&(r=Or(r)),s.onNext(r)},function(e){var r;try{r=t.call(n,e)}catch(i){return void s.onError(i)}Ve(r)&&(r=Or(r)),s.onNext(r),s.onCompleted()},function(){var e;try{e=r.call(n)}catch(t){return void s.onError(t)}Ve(e)&&(e=Or(e)),s.onNext(e),s.onCompleted()})},i).mergeAll()},_r.selectSwitch=_r.flatMapLatest=_r.switchMap=function(e,t){return this.select(e,t).switchLatest()},_r.skip=function(e){if(0>e)throw new $e;var t=this;return new kn(function(r){var n=e;return t.subscribe(function(e){0>=n?r.onNext(e):n--},function(e){r.onError(e)},function(){r.onCompleted()})},t)},_r.skipWhile=function(e,t){var r=this,n=at(e,t,3);return new kn(function(e){var t=0,i=!1;return r.subscribe(function(s){if(!i)try{i=!n(s,t++,r)}catch(o){return void e.onError(o)}i&&e.onNext(s)},function(t){e.onError(t)},function(){e.onCompleted()})},r)},_r.take=function(e,t){if(0>e)throw new $e;if(0===e)return Cr(t);var r=this;return new kn(function(t){var n=e;return r.subscribe(function(e){n-->0&&(t.onNext(e),0===n&&t.onCompleted())},function(e){t.onError(e)},function(){t.onCompleted()})},r)},_r.takeWhile=function(e,t){var r=this,n=at(e,t,3);return new kn(function(e){var t=0,i=!0;return r.subscribe(function(s){if(i){try{i=n(s,t++,r)}catch(o){return void e.onError(o)}i?e.onNext(s):e.onCompleted()}},function(t){e.onError(t)},function(){e.onCompleted()})},r)};var Xr=function(e){function t(t,r,n){this.source=t,this.predicate=at(r,n,3),e.call(this)}return Yt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new K(e,this.predicate,this))},t.prototype.internalFilter=function(e,r){var n=this;return new t(this.source,function(t,r,i){return n.predicate(t,r,i)&&e.call(this,t,r,i)},r)},t}(Pr);K.prototype.onNext=function(e){if(!this.isStopped){var t=T(this.predicate).call(this,e,this.i++,this.source);return t===It?this.observer.onError(t.e):void(t&&this.observer.onNext(e))}},K.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.observer.onError(e))},K.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.observer.onCompleted())},K.prototype.dispose=function(){this.isStopped=!0},K.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(e),!0)},_r.filter=_r.where=function(e,t){return this instanceof Xr?this.internalFilter(e,t):new Xr(this,e,t)},_r.aggregate=function(){var e,t,r=!1,n=this;return 2===arguments.length?(r=!0,t=arguments[0],e=arguments[1]):e=arguments[0],new kn(function(i){var s,o,a;return n.subscribe(function(n){!a&&(a=!0);try{s?o=e(o,n):(o=r?e(t,n):n,s=!0)}catch(u){return i.onError(u)}},function(e){i.onError(e)},function(){a&&i.onNext(o),!a&&r&&i.onNext(t),!a&&!r&&i.onError(new Je),i.onCompleted()})},n)},_r.reduce=function(e){var t,r=!1,n=this;return 2===arguments.length&&(r=!0,t=arguments[1]),new kn(function(i){var s,o,a;return n.subscribe(function(n){!a&&(a=!0);try{s?o=e(o,n):(o=r?e(t,n):n,s=!0)}catch(u){return i.onError(u)}},function(e){i.onError(e)},function(){a&&i.onNext(o),!a&&r&&i.onNext(t),!a&&!r&&i.onError(new Je),i.onCompleted()})},n)},_r.some=function(e,t){var r=this;return e?r.filter(e,t).some():new kn(function(e){return r.subscribe(function(){e.onNext(!0),e.onCompleted()},function(t){e.onError(t)},function(){e.onNext(!1),e.onCompleted()})},r)},_r.any=function(){return this.some.apply(this,arguments)},_r.isEmpty=function(){return this.any().map(Be)},_r.every=function(e,t){return this.filter(function(t){
return!e(t)},t).some().map(Be)},_r.all=function(){return this.every.apply(this,arguments)},_r.includes=function(e,t){function r(e,t){return 0===e&&0===t||e===t||isNaN(e)&&isNaN(t)}var n=this;return new kn(function(i){var s=0,o=+t||0;return Math.abs(o)===1/0&&(o=0),0>o?(i.onNext(!1),i.onCompleted(),Ut):n.subscribe(function(t){s++>=o&&r(t,e)&&(i.onNext(!0),i.onCompleted())},function(e){i.onError(e)},function(){i.onNext(!1),i.onCompleted()})},this)},_r.contains=function(e,t){_r.includes(e,t)},_r.count=function(e,t){return e?this.filter(e,t).count():this.reduce(function(e){return e+1},0)},_r.indexOf=function(e,t){var r=this;return new kn(function(n){var i=0,s=+t||0;return Math.abs(s)===1/0&&(s=0),0>s?(n.onNext(-1),n.onCompleted(),Ut):r.subscribe(function(t){i>=s&&t===e&&(n.onNext(i),n.onCompleted()),i++},function(e){n.onError(e)},function(){n.onNext(-1),n.onCompleted()})},r)},_r.sum=function(e,t){return e&&He(e)?this.map(e,t).sum():this.reduce(function(e,t){return e+t},0)},_r.minBy=function(e,t){return t||(t=Fe),G(this,e,function(e,r){return-1*t(e,r)})},_r.min=function(e){return this.minBy(Re,e).map(function(e){return J(e)})},_r.maxBy=function(e,t){return t||(t=Fe),G(this,e,t)},_r.max=function(e){return this.maxBy(Re,e).map(function(e){return J(e)})},_r.average=function(e,t){return e&&He(e)?this.map(e,t).average():this.reduce(function(e,t){return{sum:e.sum+t,count:e.count+1}},{sum:0,count:0}).map(function(e){if(0===e.count)throw new Je;return e.sum/e.count})},_r.sequenceEqual=function(e,t){var r=this;return t||(t=We),new kn(function(n){var i=!1,s=!1,o=[],a=[],u=r.subscribe(function(e){var r,i;if(a.length>0){i=a.shift();try{r=t(i,e)}catch(u){return void n.onError(u)}r||(n.onNext(!1),n.onCompleted())}else s?(n.onNext(!1),n.onCompleted()):o.push(e)},function(e){n.onError(e)},function(){i=!0,0===o.length&&(a.length>0?(n.onNext(!1),n.onCompleted()):s&&(n.onNext(!0),n.onCompleted()))});(st(e)||it(e))&&(e=Yr(e)),Ve(e)&&(e=Or(e));var c=e.subscribe(function(e){var r;if(o.length>0){var s=o.shift();try{r=t(s,e)}catch(u){return void n.onError(u)}r||(n.onNext(!1),n.onCompleted())}else i?(n.onNext(!1),n.onCompleted()):a.push(e)},function(e){n.onError(e)},function(){s=!0,0===a.length&&(o.length>0?(n.onNext(!1),n.onCompleted()):i&&(n.onNext(!0),n.onCompleted()))});return new Nt(u,c)},r)},_r.elementAt=function(e){return Q(this,e,!1)},_r.elementAtOrDefault=function(e,t){return Q(this,e,!0,t)},_r.single=function(e,t){return e&&He(e)?this.where(e,t).single():$(this,!1)},_r.singleOrDefault=function(e,t,r){return e&&He(e)?this.filter(e,r).singleOrDefault(null,t):$(this,!0,t)},_r.first=function(e,t){return e?this.where(e,t).first():Z(this,!1)},_r.firstOrDefault=function(e,t,r){return e?this.where(e).firstOrDefault(null,t):Z(this,!0,t)},_r.last=function(e,t){return e?this.where(e,t).last():X(this,!1)},_r.lastOrDefault=function(e,t,r){return e?this.where(e,r).lastOrDefault(null,t):X(this,!0,t)},_r.find=function(e,t){return ee(this,e,t,!1)},_r.findIndex=function(e,t){return ee(this,e,t,!0)},_r.toSet=function(){if("undefined"==typeof De.Set)throw new TypeError;var e=this;return new kn(function(t){var r=new De.Set;return e.subscribe(function(e){r.add(e)},function(e){t.onError(e)},function(){t.onNext(r),t.onCompleted()})},e)},_r.toMap=function(e,t){if("undefined"==typeof De.Map)throw new TypeError;var r=this;return new kn(function(n){var i=new De.Map;return r.subscribe(function(r){var s;try{s=e(r)}catch(o){return void n.onError(o)}var a=r;if(t)try{a=t(r)}catch(o){return void n.onError(o)}i.set(s,a)},function(e){n.onError(e)},function(){n.onNext(i),n.onCompleted()})},r)};var en="function",tn="throw",jt=xe.internals.isObject,rn=xe.spawn=function(e){var t=oe(e);return function(r){function n(e,t){ar.schedule(r.bind(s,e,t))}function i(e,t){var r;if(arguments.length>2)for(var t=[],a=1,u=arguments.length;u>a;a++)t.push(arguments[a]);if(e)try{r=o[tn](e)}catch(c){return n(c)}if(!e)try{r=o.next(t)}catch(c){return n(c)}if(r.done)return n(null,r.value);if(r.value=te(r.value,s),typeof r.value!==en)i(new TypeError("Rx.spawn only supports a function, Promise, Observable, Object or Array."));else{var p=!1;try{r.value.call(s,function(){p||(p=!0,i.apply(s,arguments))})}catch(c){ar.schedule(function(){p||(p=!0,i.call(s,c))})}}}var s=this,o=e;if(t){for(var a=[],u=0,c=arguments.length;c>u;u++)a.push(arguments[u]);var c=a.length,p=c&&typeof a[c-1]===en;r=p?a.pop():ue,o=e.apply(this,a)}else r=r||ue;i()}};Mr.start=function(e,t,r){return nn(e,t,r)()};var nn=Mr.toAsync=function(e,t,r){return Ae(r)||(r=ar),function(){var n=arguments,i=new On;return r.schedule(function(){var r;try{r=e.apply(t,n)}catch(s){return void i.onError(s)}i.onNext(r),i.onCompleted()}),i.asObservable()}};Mr.fromCallback=function(e,t,r){return function(){for(var n=arguments.length,i=new Array(n),s=0;n>s;s++)i[s]=arguments[s];return new kn(function(n){function s(){for(var e=arguments.length,i=new Array(e),s=0;e>s;s++)i[s]=arguments[s];if(r){try{i=r.apply(t,i)}catch(o){return n.onError(o)}n.onNext(i)}else i.length<=1?n.onNext.apply(n,i):n.onNext(i);n.onCompleted()}i.push(s),e.apply(t,i)}).publishLast().refCount()}},Mr.fromNodeCallback=function(e,t,r){return function(){for(var n=arguments.length,i=new Array(n),s=0;n>s;s++)i[s]=arguments[s];return new kn(function(n){function s(e){if(e)return void n.onError(e);for(var i=arguments.length,s=[],o=1;i>o;o++)s[o-1]=arguments[o];if(r){try{s=r.apply(t,s)}catch(a){return n.onError(a)}n.onNext(s)}else s.length<=1?n.onNext.apply(n,s):n.onNext(s);n.onCompleted()}i.push(s),e.apply(t,i)}).publishLast().refCount()}},xe.config.useNativeEvents=!1,Mr.fromEvent=function(e,t,r){return e.addListener?sn(function(r){e.addListener(t,r)},function(r){e.removeListener(t,r)},r):xe.config.useNativeEvents||"function"!=typeof e.on||"function"!=typeof e.off?new kn(function(n){return pe(e,t,function(e){var t=e;if(r)try{t=r(arguments)}catch(i){return n.onError(i)}n.onNext(t)})}).publish().refCount():sn(function(r){e.on(t,r)},function(r){e.off(t,r)},r)};var sn=Mr.fromEventPattern=function(e,t,r){return new kn(function(n){function i(e){var t=e;if(r)try{t=r(arguments)}catch(i){return n.onError(i)}n.onNext(t)}var s=e(i);return Ht(function(){t&&t(i,s)})}).publish().refCount()};Mr.startAsync=function(e){var t;try{t=e()}catch(r){return Vr(r)}return Or(t)};var on=function(e){function t(e){var t=this.source.publish(),r=t.subscribe(e),n=Ut,i=this.pauser.distinctUntilChanged().subscribe(function(e){e?n=t.connect():(n.dispose(),n=Ut)});return new Nt(r,n,i)}function r(r,n){this.source=r,this.controller=new Pn,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,e.call(this,t,r)}return Yt(r,e),r.prototype.pause=function(){this.controller.onNext(!1)},r.prototype.resume=function(){this.controller.onNext(!0)},r}(Mr);_r.pausable=function(e){return new on(this,e)};var an=function(e){function t(e){var t,r=[],n=le(this.source,this.pauser.distinctUntilChanged().startWith(!1),function(e,t){return{data:e,shouldFire:t}}).subscribe(function(n){if(t!==a&&n.shouldFire!=t){if(t=n.shouldFire,n.shouldFire)for(;r.length>0;)e.onNext(r.shift())}else t=n.shouldFire,n.shouldFire?e.onNext(n.data):r.push(n.data)},function(t){for(;r.length>0;)e.onNext(r.shift());e.onError(t)},function(){for(;r.length>0;)e.onNext(r.shift());e.onCompleted()});return n}function r(r,n){this.source=r,this.controller=new Pn,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,e.call(this,t,r)}return Yt(r,e),r.prototype.pause=function(){this.controller.onNext(!1)},r.prototype.resume=function(){this.controller.onNext(!0)},r}(Mr);_r.pausableBuffered=function(e){return new an(this,e)};var un=function(e){function t(e){return this.source.subscribe(e)}function r(r,n){e.call(this,t,r),this.subject=new cn(n),this.source=r.multicast(this.subject).refCount()}return Yt(r,e),r.prototype.request=function(e){return null==e&&(e=-1),this.subject.request(e)},r}(Mr),cn=function(e){function t(e){return this.subject.subscribe(e)}function r(r){null==r&&(r=!0),e.call(this,t),this.subject=new Pn,this.enableQueue=r,this.queue=r?[]:null,this.requestedCount=0,this.requestedDisposable=Ut,this.error=null,this.hasFailed=!1,this.hasCompleted=!1}return Yt(r,e),At(r.prototype,gr,{onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(xe.Notification.createOnCompleted()):this.subject.onCompleted()},onError:function(e){this.hasFailed=!0,this.error=e,this.enableQueue&&0!==this.queue.length?this.queue.push(xe.Notification.createOnError(e)):this.subject.onError(e)},onNext:function(e){var t=!1;0===this.requestedCount?this.enableQueue&&this.queue.push(xe.Notification.createOnNext(e)):(-1!==this.requestedCount&&0===this.requestedCount--&&this.disposeCurrentRequest(),t=!0),t&&this.subject.onNext(e)},_processRequest:function(e){if(this.enableQueue){for(;this.queue.length>=e&&e>0||this.queue.length>0&&"N"!==this.queue[0].kind;){var t=this.queue.shift();t.accept(this.subject),"N"===t.kind?e--:(this.disposeCurrentRequest(),this.queue=[])}return{numberOfItems:e,returnValue:0!==this.queue.length}}return{numberOfItems:e,returnValue:!1}},request:function(e){this.disposeCurrentRequest();var t=this,r=this._processRequest(e),e=r.numberOfItems;return r.returnValue?Ut:(this.requestedCount=e,this.requestedDisposable=Ht(function(){t.requestedCount=0}),this.requestedDisposable)},disposeCurrentRequest:function(){this.requestedDisposable.dispose(),this.requestedDisposable=Ut}}),r}(Mr);_r.controlled=function(e){return null==e&&(e=!0),new un(this,e)};var pn=function(e){function t(e){this.subscription=this.source.subscribe(new n(e,this,this.subscription));var t=this;return ar.schedule(function(){t.source.request(1)}),this.subscription}function r(r){e.call(this,t,r),this.source=r}Yt(r,e);var n=function(e){function t(t,r,n){e.call(this),this.observer=t,this.observable=r,this.cancel=n}Yt(t,e);var r=t.prototype;return r.completed=function(){this.observer.onCompleted(),this.dispose()},r.error=function(e){this.observer.onError(e),this.dispose()},r.next=function(e){this.observer.onNext(e);var t=this;ar.schedule(function(){t.observable.source.request(1)})},r.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),e.prototype.dispose.call(this)},t}(br);return r}(Mr);un.prototype.stopAndWait=function(){return new pn(this)};var ln=function(e){function t(e){this.subscription=this.source.subscribe(new n(e,this,this.subscription));var t=this;return ar.schedule(function(){t.source.request(t.windowSize)}),this.subscription}function r(r,n){e.call(this,t,r),this.source=r,this.windowSize=n}Yt(r,e);var n=function(e){function t(e,t,r){this.observer=e,this.observable=t,this.cancel=r,this.received=0}Yt(t,e);var r=t.prototype;return r.completed=function(){this.observer.onCompleted(),this.dispose()},r.error=function(e){this.observer.onError(e),this.dispose()},r.next=function(e){if(this.observer.onNext(e),this.received=++this.received%this.observable.windowSize,0===this.received){var t=this;ar.schedule(function(){t.observable.source.request(t.observable.windowSize)})}},r.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),e.prototype.dispose.call(this)},t}(br);return r}(Mr);un.prototype.windowed=function(e){return new ln(this,e)},_r.pipe=function(e){function t(){r.resume()}var r=this.pausableBuffered();return e.addListener("drain",t),r.subscribe(function(t){!e.write(String(t))&&r.pause()},function(t){e.emit("error",t)},function(){!e._isStdio&&e.end(),e.removeListener("drain",t)}),r.resume(),e},_r.multicast=function(e,t){var r=this;return"function"==typeof e?new kn(function(n){var i=r.multicast(e());return new Nt(t(i).subscribe(n),i.connect())},r):new yn(r,e)},_r.publish=function(e){return e&&He(e)?this.multicast(function(){return new Pn},e):this.multicast(new Pn)},_r.share=function(){return this.publish().refCount()},_r.publishLast=function(e){return e&&He(e)?this.multicast(function(){return new On},e):this.multicast(new On)},_r.publishValue=function(e,t){return 2===arguments.length?this.multicast(function(){return new hn(t)},e):this.multicast(new hn(e))},_r.shareValue=function(e){return this.publishValue(e).refCount()},_r.replay=function(e,t,r,n){return e&&He(e)?this.multicast(function(){return new dn(t,r,n)},e):this.multicast(new dn(t,r,n))},_r.shareReplay=function(e,t,r){return this.replay(null,e,t,r).refCount()};var fn=function(e,t){this.subject=e,this.observer=t};fn.prototype.dispose=function(){if(!this.subject.isDisposed&&null!==this.observer){var e=this.subject.observers.indexOf(this.observer);this.subject.observers.splice(e,1),this.observer=null}};var hn=xe.BehaviorSubject=function(e){function t(e){return zt(this),this.isStopped?(this.hasError?e.onError(this.error):e.onCompleted(),Ut):(this.observers.push(e),e.onNext(this.value),new fn(this,e))}function r(r){e.call(this,t),this.value=r,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return Yt(r,e),At(r.prototype,gr,{getValue:function(){if(zt(this),this.hasError)throw this.error;return this.value},hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(zt(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=u(this.observers),r=t.length;r>e;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(zt(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,r=u(this.observers),n=r.length;n>t;t++)r[t].onError(e);this.observers.length=0}},onNext:function(e){if(zt(this),!this.isStopped){this.value=e;for(var t=0,r=u(this.observers),n=r.length;n>t;t++)r[t].onNext(e)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.exception=null}}),r}(Mr),dn=xe.ReplaySubject=function(e){function t(e,t){return Ht(function(){t.dispose(),!e.isDisposed&&e.observers.splice(e.observers.indexOf(t),1)})}function r(e){var r=new kr(this.scheduler,e),n=t(this,r);zt(this),this._trim(this.scheduler.now()),this.observers.push(r);for(var i=0,s=this.q.length;s>i;i++)r.onNext(this.q[i].value);return this.hasError?r.onError(this.error):this.isStopped&&r.onCompleted(),r.ensureActive(),n}function n(t,n,s){this.bufferSize=null==t?i:t,this.windowSize=null==n?i:n,this.scheduler=s||nr,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,e.call(this,r)}var i=Math.pow(2,53)-1;return Yt(n,e),At(n.prototype,gr.prototype,{hasObservers:function(){return this.observers.length>0},_trim:function(e){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&e-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(e){if(zt(this),!this.isStopped){var t=this.scheduler.now();this.q.push({interval:t,value:e}),this._trim(t);for(var r=0,n=u(this.observers),i=n.length;i>r;r++){var s=n[r];s.onNext(e),s.ensureActive()}}},onError:function(e){if(zt(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;var t=this.scheduler.now();this._trim(t);for(var r=0,n=u(this.observers),i=n.length;i>r;r++){var s=n[r];s.onError(e),s.ensureActive()}this.observers.length=0}},onCompleted:function(){if(zt(this),!this.isStopped){this.isStopped=!0;var e=this.scheduler.now();this._trim(e);for(var t=0,r=u(this.observers),n=r.length;n>t;t++){var i=r[t];i.onCompleted(),i.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),n}(Mr),yn=xe.ConnectableObservable=function(e){function t(t,r){var n,i=!1,s=t.asObservable();this.connect=function(){return i||(i=!0,n=new Nt(s.subscribe(r),Ht(function(){i=!1}))),n},e.call(this,function(e){return r.subscribe(e)})}return Yt(t,e),t.prototype.refCount=function(){var e,t=0,r=this;return new kn(function(n){var i=1===++t,s=r.subscribe(n);return i&&(e=r.connect()),function(){s.dispose(),0===--t&&e.dispose()}})},t}(Mr),mn=function(){function e(e){if(0===(1&e))return 2===e;for(var t=Math.sqrt(e),r=3;t>=r;){if(e%r===0)return!1;r+=2}return!0}function t(t){var r,n,i;for(r=0;r<o.length;++r)if(n=o[r],n>=t)return n;for(i=1|t;i<o[o.length-1];){if(e(i))return i;i+=2}return t}function r(e){var t=757602046;if(!e.length)return t;for(var r=0,n=e.length;n>r;r++){var i=e.charCodeAt(r);t=(t<<5)-t+i,t&=t}return t}function n(e){var t=668265261;return e=61^e^e>>>16,e+=e<<3,e^=e>>>4,e*=t,e^=e>>>15}function i(){return{key:null,value:null,next:0,hashCode:0}}function s(e,t){if(0>e)throw new $e;e>0&&this._initialize(e),this.comparer=t||We,this.freeCount=0,this.size=0,this.freeList=-1}var o=[1,3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143,4194301,8388593,16777213,33554393,67108859,134217689,268435399,536870909,1073741789,2147483647],u="no such key",c="duplicate key",p=function(){var e=0;return function(t){if(null==t)throw new Error(u);if("string"==typeof t)return r(t);if("number"==typeof t)return n(t);if("boolean"==typeof t)return t===!0?1:0;if(t instanceof Date)return n(t.valueOf());if(t instanceof RegExp)return r(t.toString());if("function"==typeof t.valueOf){var i=t.valueOf();if("number"==typeof i)return n(i);if("string"==typeof i)return r(i)}if(t.hashCode)return t.hashCode();var s=17*e++;return t.hashCode=function(){return s},s}}(),l=s.prototype;return l._initialize=function(e){var r,n=t(e);for(this.buckets=new Array(n),this.entries=new Array(n),r=0;n>r;r++)this.buckets[r]=-1,this.entries[r]=i();this.freeList=-1},l.add=function(e,t){this._insert(e,t,!0)},l._insert=function(e,t,r){this.buckets||this._initialize(0);for(var n,i=2147483647&p(e),s=i%this.buckets.length,o=this.buckets[s];o>=0;o=this.entries[o].next)if(this.entries[o].hashCode===i&&this.comparer(this.entries[o].key,e)){if(r)throw new Error(c);return void(this.entries[o].value=t)}this.freeCount>0?(n=this.freeList,this.freeList=this.entries[n].next,--this.freeCount):(this.size===this.entries.length&&(this._resize(),s=i%this.buckets.length),n=this.size,++this.size),this.entries[n].hashCode=i,this.entries[n].next=this.buckets[s],this.entries[n].key=e,this.entries[n].value=t,this.buckets[s]=n},l._resize=function(){var e=t(2*this.size),r=new Array(e);for(s=0;s<r.length;++s)r[s]=-1;var n=new Array(e);for(s=0;s<this.size;++s)n[s]=this.entries[s];for(var s=this.size;e>s;++s)n[s]=i();for(var o=0;o<this.size;++o){var a=n[o].hashCode%e;n[o].next=r[a],r[a]=o}this.buckets=r,this.entries=n},l.remove=function(e){if(this.buckets)for(var t=2147483647&p(e),r=t%this.buckets.length,n=-1,i=this.buckets[r];i>=0;i=this.entries[i].next){if(this.entries[i].hashCode===t&&this.comparer(this.entries[i].key,e))return 0>n?this.buckets[r]=this.entries[i].next:this.entries[n].next=this.entries[i].next,this.entries[i].hashCode=-1,this.entries[i].next=this.freeList,this.entries[i].key=null,this.entries[i].value=null,this.freeList=i,++this.freeCount,!0;n=i}return!1},l.clear=function(){var e,t;if(!(this.size<=0)){for(e=0,t=this.buckets.length;t>e;++e)this.buckets[e]=-1;for(e=0;e<this.size;++e)this.entries[e]=i();this.freeList=-1,this.size=0}},l._findEntry=function(e){if(this.buckets)for(var t=2147483647&p(e),r=this.buckets[t%this.buckets.length];r>=0;r=this.entries[r].next)if(this.entries[r].hashCode===t&&this.comparer(this.entries[r].key,e))return r;return-1},l.count=function(){return this.size-this.freeCount},l.tryGetValue=function(e){var t=this._findEntry(e);return t>=0?this.entries[t].value:a},l.getValues=function(){var e=0,t=[];if(this.entries)for(var r=0;r<this.size;r++)this.entries[r].hashCode>=0&&(t[e++]=this.entries[r].value);return t},l.get=function(e){var t=this._findEntry(e);if(t>=0)return this.entries[t].value;throw new Error(u)},l.set=function(e,t){this._insert(e,t,!1)},l.containskey=function(e){return this._findEntry(e)>=0},s}();_r.join=function(e,t,r,n){var i=this;return new kn(function(s){var o=new Nt,a=!1,u=!1,c=0,p=0,l=new mn,f=new mn;return o.add(i.subscribe(function(e){var r=c++,i=new Kt;l.add(r,e),o.add(i);var u,p=function(){l.remove(r)&&0===l.count()&&a&&s.onCompleted(),o.remove(i)};try{u=t(e)}catch(h){return void s.onError(h)}i.setDisposable(u.take(1).subscribe(Ye,s.onError.bind(s),p)),f.getValues().forEach(function(t){var r;try{r=n(e,t)}catch(i){return void s.onError(i)}s.onNext(r)})},s.onError.bind(s),function(){a=!0,(u||0===l.count())&&s.onCompleted()})),o.add(e.subscribe(function(e){var t=p++,i=new Kt;f.add(t,e),o.add(i);var a,c=function(){f.remove(t)&&0===f.count()&&u&&s.onCompleted(),o.remove(i)};try{a=r(e)}catch(h){return void s.onError(h)}i.setDisposable(a.take(1).subscribe(Ye,s.onError.bind(s),c)),l.getValues().forEach(function(t){var r;try{r=n(t,e)}catch(i){return void s.onError(i)}s.onNext(r)})},s.onError.bind(s),function(){u=!0,(a||0===f.count())&&s.onCompleted()})),o},i)},_r.groupJoin=function(e,t,r,n){var i=this;return new kn(function(s){function o(e){return function(t){t.onError(e)}}var a=new Nt,u=new Jt(a),c=new mn,p=new mn,l=0,f=0;return a.add(i.subscribe(function(e){var r=new Pn,i=l++;c.add(i,r);var f;try{f=n(e,Rt(r,u))}catch(h){return c.getValues().forEach(o(h)),void s.onError(h)}s.onNext(f),p.getValues().forEach(function(e){r.onNext(e)});var d=new Kt;a.add(d);var y,m=function(){c.remove(i)&&r.onCompleted(),a.remove(d)};try{y=t(e)}catch(h){return c.getValues().forEach(o(h)),void s.onError(h)}d.setDisposable(y.take(1).subscribe(Ye,function(e){c.getValues().forEach(o(e)),s.onError(e)},m))},function(e){c.getValues().forEach(o(e)),s.onError(e)},s.onCompleted.bind(s))),a.add(e.subscribe(function(e){var t=f++;p.add(t,e);var n=new Kt;a.add(n);var i,u=function(){p.remove(t),a.remove(n)};try{i=r(e)}catch(l){return c.getValues().forEach(o(l)),void s.onError(l)}n.setDisposable(i.take(1).subscribe(Ye,function(e){c.getValues().forEach(o(e)),s.onError(e)},u)),c.getValues().forEach(function(t){t.onNext(e)})},function(e){c.getValues().forEach(o(e)),s.onError(e)})),u},i)},_r.buffer=function(e,t){return this.window.apply(this,arguments).selectMany(function(e){return e.toArray()})},_r.window=function(e,t){return 1===arguments.length&&"function"!=typeof arguments[0]?he.call(this,e):"function"==typeof e?de.call(this,e):fe.call(this,e,t)},_r.pairwise=function(){var e=this;return new kn(function(t){var r,n=!1;return e.subscribe(function(e){n?t.onNext([r,e]):n=!0,r=e},t.onError.bind(t),t.onCompleted.bind(t))},e)},_r.partition=function(e,t){return[this.filter(e,t),this.filter(function(r,n,i){return!e.call(t,r,n,i)})]},_r.letBind=_r.let=function(e){return e(this)},Mr["if"]=Mr.ifThen=function(e,t,r){return jr(function(){return r||(r=Cr()),Ve(t)&&(t=Or(t)),Ve(r)&&(r=Or(r)),"function"==typeof r.now&&(r=Cr(r)),e()?t:r})},Mr["for"]=Mr.forIn=function(e,t,r){return mr(e,t,r).concat()};var gn=Mr["while"]=Mr.whileDo=function(e,t){return Ve(t)&&(t=Or(t)),ye(e,t).concat()};_r.doWhile=function(e){return Ur([this,gn(e,this)])},Mr["case"]=Mr.switchCase=function(e,t,r){return jr(function(){Ve(r)&&(r=Or(r)),r||(r=Cr()),"function"==typeof r.now&&(r=Cr(r));var n=t[e()];return Ve(n)&&(n=Or(n)),n||r})},_r.expand=function(e,t){Ae(t)||(t=rr);var r=this;return new kn(function(n){var i=[],s=new Gt,o=new Nt(s),a=0,u=!1,c=function(){var r=!1;i.length>0&&(r=!u,u=!0),r&&s.setDisposable(t.scheduleRecursive(function(t){var r;if(!(i.length>0))return void(u=!1);r=i.shift();var s=new Kt;o.add(s),s.setDisposable(r.subscribe(function(t){n.onNext(t);var r=null;try{r=e(t)}catch(s){n.onError(s)}i.push(r),a++,c()},n.onError.bind(n),function(){o.remove(s),a--,0===a&&n.onCompleted()})),t()}))};return i.push(r),a++,c(),o},this)},Mr.forkJoin=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,r=arguments.length;r>t;t++)e.push(arguments[t]);return new kn(function(t){var r=e.length;if(0===r)return t.onCompleted(),Ut;for(var n=new Nt,i=!1,s=new Array(r),o=new Array(r),a=new Array(r),u=0;r>u;u++)!function(u){var c=e[u];Ve(c)&&(c=Or(c)),n.add(c.subscribe(function(e){i||(s[u]=!0,a[u]=e)},function(e){i=!0,t.onError(e),n.dispose()},function(){if(!i){if(!s[u])return void t.onCompleted();o[u]=!0;for(var e=0;r>e;e++)if(!o[e])return;i=!0,t.onNext(a),t.onCompleted()}}))}(u);return n})},_r.forkJoin=function(e,t){var r=this;return new kn(function(n){var i,s,o=!1,a=!1,u=!1,c=!1,p=new Kt,l=new Kt;return Ve(e)&&(e=Or(e)),p.setDisposable(r.subscribe(function(e){u=!0,i=e},function(e){l.dispose(),n.onError(e)},function(){if(o=!0,a)if(u)if(c){var e;try{e=t(i,s)}catch(r){return void n.onError(r)}n.onNext(e),n.onCompleted()}else n.onCompleted();else n.onCompleted()})),l.setDisposable(e.subscribe(function(e){c=!0,s=e},function(e){p.dispose(),n.onError(e)},function(){if(a=!0,o)if(u)if(c){var e;try{e=t(i,s)}catch(r){return void n.onError(r)}n.onNext(e),n.onCompleted()}else n.onCompleted();else n.onCompleted()})),new Nt(p,l)},r)},_r.manySelect=function(e,t){Ae(t)||(t=rr);var r=this;return jr(function(){var n;return r.map(function(e){var t=new vn(e);return n&&n.onNext(e),n=t,t}).tap(Ye,function(e){n&&n.onError(e)},function(){n&&n.onCompleted()}).observeOn(t).map(e)},r)};var vn=function(e){function t(e){var t=this,r=new Nt;return r.add(nr.schedule(function(){e.onNext(t.head),r.add(t.tail.mergeAll().subscribe(e))})),r}function r(r){e.call(this,t),this.head=r,this.tail=new On}return Yt(r,e),At(r.prototype,gr,{onCompleted:function(){this.onNext(Mr.empty())},onError:function(e){this.onNext(Mr.throwError(e))},onNext:function(e){this.tail.onNext(e),this.tail.onCompleted()}}),r}(Mr),_n=De.Map||function(){function e(){this._keys=[],this._values=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1!==t?this._values[t]:a},e.prototype.set=function(e,t){var r=this._keys.indexOf(e);-1!==r&&(this._values[r]=t),this._values[this._keys.push(e)-1]=t},e.prototype.forEach=function(e,t){for(var r=0,n=this._keys.length;n>r;r++)e.call(t,this._values[r],this._keys[r])},e}();me.prototype.and=function(e){return new me(this.patterns.concat(e))},me.prototype.thenDo=function(e){return new ge(this,e)},ge.prototype.activate=function(e,t,r){for(var n=this,i=[],s=0,o=this.expression.patterns.length;o>s;s++)i.push(ve(e,this.expression.patterns[s],t.onError.bind(t)));var a=new _e(i,function(){var e;try{e=n.selector.apply(n,arguments)}catch(r){return void t.onError(r)}t.onNext(e)},function(){for(var e=0,t=i.length;t>e;e++)i[e].removeActivePlan(a);r(a)});for(s=0,o=i.length;o>s;s++)i[s].addActivePlan(a);return a},_e.prototype.dequeue=function(){this.joinObservers.forEach(function(e){e.queue.shift()})},_e.prototype.match=function(){var e,t,r=!0;for(e=0,t=this.joinObserverArray.length;t>e;e++)if(0===this.joinObserverArray[e].queue.length){r=!1;break}if(r){var n=[],i=!1;for(e=0,t=this.joinObserverArray.length;t>e;e++)n.push(this.joinObserverArray[e].queue[0]),"C"===this.joinObserverArray[e].queue[0].kind&&(i=!0);if(i)this.onCompleted();else{this.dequeue();var s=[];for(e=0,t=n.length;e<n.length;e++)s.push(n[e].value);this.onNext.apply(this,s)}}};var bn=function(e){function t(t,r){e.call(this),this.source=t,this.onError=r,this.queue=[],this.activePlans=[],this.subscription=new Kt,this.isDisposed=!1}Yt(t,e);var r=t.prototype;return r.next=function(e){if(!this.isDisposed){if("E"===e.kind)return this.onError(e.exception);this.queue.push(e);for(var t=this.activePlans.slice(0),r=0,n=t.length;n>r;r++)t[r].match()}},r.error=Ye,r.completed=Ye,r.addActivePlan=function(e){this.activePlans.push(e)},r.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},r.removeActivePlan=function(e){this.activePlans.splice(this.activePlans.indexOf(e),1),0===this.activePlans.length&&this.dispose()},r.dispose=function(){e.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},t}(br);_r.and=function(e){return new me([this,e])},_r.thenDo=function(e){return new me([this]).thenDo(e)},Mr.when=function(){var e,t=arguments.length;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(t);for(var r=0;t>r;r++)e[r]=arguments[r]}return new kn(function(t){var r=[],n=new _n,i=vr(function(e){t.onNext(e)},function(e){n.forEach(function(t){t.onError(e)}),t.onError(e)},function(e){t.onCompleted()});try{for(var s=0,o=e.length;o>s;s++)r.push(e[s].activate(n,i,function(e){var n=r.indexOf(e);r.splice(n,1),0===r.length&&t.onCompleted()}))}catch(a){Vr(a).subscribe(t)}var u=new Nt;return n.forEach(function(e){e.subscribe(),u.add(e)}),u})};var wn=Mr.interval=function(e,t){return ke(e,e,Ae(t)?t:ar)},Tn=Mr.timer=function(e,t,r){var n;return Ae(r)||(r=ar),t!==a&&"number"==typeof t?n=t:Ae(t)&&(r=t),e instanceof Date&&n===a?be(e.getTime(),r):e instanceof Date&&n!==a?(n=t,we(e.getTime(),n,r)):n===a?Te(e,r):ke(e,n,r)};_r.delay=function(e,t){return Ae(t)||(t=ar),e instanceof Date?Me(this,e.getTime(),t):Le(this,e,t)},_r.debounce=_r.throttleWithTimeout=function(e,t){Ae(t)||(t=ar);var r=this;return new kn(function(n){var i,s=new Gt,o=!1,a=0,u=r.subscribe(function(r){o=!0,i=r,a++;var u=a,c=new Kt;s.setDisposable(c),c.setDisposable(t.scheduleWithRelative(e,function(){o&&a===u&&n.onNext(i),o=!1}))},function(e){s.dispose(),n.onError(e),o=!1,a++},function(){s.dispose(),o&&n.onNext(i),n.onCompleted(),o=!1,a++});return new Nt(u,s)},this)},_r.throttle=function(e,t){return this.debounce(e,t)},_r.windowWithTime=function(e,t,r){var n,i=this;return null==t&&(n=e),Ae(r)||(r=ar),"number"==typeof t?n=t:Ae(t)&&(n=e,r=t),new kn(function(t){function s(){var e=new Kt,i=!1,o=!1;l.setDisposable(e),c===u?(i=!0,o=!0):u>c?i=!0:o=!0;var h=i?c:u,d=h-f;f=h,i&&(c+=n),o&&(u+=n),e.setDisposable(r.scheduleWithRelative(d,function(){if(o){var e=new Pn;p.push(e),t.onNext(Rt(e,a))}i&&p.shift().onCompleted(),s()}))}var o,a,u=n,c=e,p=[],l=new Gt,f=0;return o=new Nt(l),a=new Jt(o),p.push(new Pn),t.onNext(Rt(p[0],a)),s(),o.add(i.subscribe(function(e){for(var t=0,r=p.length;r>t;t++)p[t].onNext(e)},function(e){for(var r=0,n=p.length;n>r;r++)p[r].onError(e);t.onError(e)},function(){for(var e=0,r=p.length;r>e;e++)p[e].onCompleted();t.onCompleted()})),a},i)},_r.windowWithTimeOrCount=function(e,t,r){var n=this;return Ae(r)||(r=ar),new kn(function(i){function s(t){var n=new Kt;o.setDisposable(n),n.setDisposable(r.scheduleWithRelative(e,function(){if(t===p){c=0;var e=++p;l.onCompleted(),l=new Pn,i.onNext(Rt(l,u)),s(e)}}))}var o=new Gt,a=new Nt(o),u=new Jt(a),c=0,p=0,l=new Pn;return i.onNext(Rt(l,u)),s(0),a.add(n.subscribe(function(e){var r=0,n=!1;l.onNext(e),++c===t&&(n=!0,c=0,r=++p,l.onCompleted(),l=new Pn,i.onNext(Rt(l,u))),n&&s(r)},function(e){l.onError(e),i.onError(e)},function(){l.onCompleted(),i.onCompleted()})),u},n)},_r.bufferWithTime=function(e,t,r){return this.windowWithTime.apply(this,arguments).selectMany(function(e){return e.toArray()})},_r.bufferWithTimeOrCount=function(e,t,r){return this.windowWithTimeOrCount(e,t,r).selectMany(function(e){return e.toArray()})},_r.timeInterval=function(e){var t=this;return Ae(e)||(e=ar),jr(function(){var r=e.now();return t.map(function(t){var n=e.now(),i=n-r;return r=n,{value:t,interval:i}})})},_r.timestamp=function(e){return Ae(e)||(e=ar),this.map(function(t){return{value:t,timestamp:e.now()}})},_r.sample=_r.throttleLatest=function(e,t){return Ae(t)||(t=ar),"number"==typeof e?Pe(this,wn(e,t)):Pe(this,e)},_r.timeout=function(e,t,r){(null==t||"string"==typeof t)&&(t=Vr(new Error(t||"Timeout"))),Ae(r)||(r=ar);var n=this,i=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new kn(function(s){function o(){var n=a;l.setDisposable(r[i](e,function(){a===n&&(Ve(t)&&(t=Or(t)),c.setDisposable(t.subscribe(s)))}))}var a=0,u=new Kt,c=new Gt,p=!1,l=new Gt;return c.setDisposable(u),o(),u.setDisposable(n.subscribe(function(e){p||(a++,s.onNext(e),o())},function(e){p||(a++,s.onError(e))},function(){p||(a++,s.onCompleted())})),new Nt(c,l)},n)},Mr.generateWithAbsoluteTime=function(e,t,r,n,i,s){return Ae(s)||(s=ar),new kn(function(o){var a,u,c=!0,p=!1,l=e;return s.scheduleRecursiveWithAbsolute(s.now(),function(e){p&&o.onNext(a);try{c?c=!1:l=r(l),p=t(l),p&&(a=n(l),u=i(l))}catch(s){return void o.onError(s)}p?e(u):o.onCompleted()})})},Mr.generateWithRelativeTime=function(e,t,r,n,i,s){return Ae(s)||(s=ar),new kn(function(o){var a,u,c=!0,p=!1,l=e;return s.scheduleRecursiveWithRelative(0,function(e){
p&&o.onNext(a);try{c?c=!1:l=r(l),p=t(l),p&&(a=n(l),u=i(l))}catch(s){return void o.onError(s)}p?e(u):o.onCompleted()})})},_r.delaySubscription=function(e,t){return this.delayWithSelector(Tn(e,Ae(t)?t:ar),Cr)},_r.delayWithSelector=function(e,t){var r,n,i=this;return"function"==typeof e?n=e:(r=e,n=t),new kn(function(e){var t=new Nt,s=!1,o=function(){s&&0===t.length&&e.onCompleted()},a=new Gt,u=function(){a.setDisposable(i.subscribe(function(r){var i;try{i=n(r)}catch(s){return void e.onError(s)}var a=new Kt;t.add(a),a.setDisposable(i.subscribe(function(){e.onNext(r),t.remove(a),o()},e.onError.bind(e),function(){e.onNext(r),t.remove(a),o()}))},e.onError.bind(e),function(){s=!0,a.dispose(),o()}))};return r?a.setDisposable(r.subscribe(u,e.onError.bind(e),u)):u(),new Nt(a,t)},this)},_r.timeoutWithSelector=function(e,t,r){1===arguments.length&&(t=e,e=Ir()),r||(r=Vr(new Error("Timeout")));var n=this;return new kn(function(i){function s(e){function t(){return p===n}var n=p,s=new Kt;u.setDisposable(s),s.setDisposable(e.subscribe(function(){t()&&a.setDisposable(r.subscribe(i)),s.dispose()},function(e){t()&&i.onError(e)},function(){t()&&a.setDisposable(r.subscribe(i))}))}function o(){var e=!l;return e&&p++,e}var a=new Gt,u=new Gt,c=new Kt;a.setDisposable(c);var p=0,l=!1;return s(e),c.setDisposable(n.subscribe(function(e){if(o()){i.onNext(e);var r;try{r=t(e)}catch(n){return void i.onError(n)}s(Ve(r)?Or(r):r)}},function(e){o()&&i.onError(e)},function(){o()&&i.onCompleted()})),new Nt(a,u)},n)},_r.debounceWithSelector=function(e){var t=this;return new kn(function(r){var n,i=!1,s=new Gt,o=0,a=t.subscribe(function(t){var a;try{a=e(t)}catch(u){return void r.onError(u)}Ve(a)&&(a=Or(a)),i=!0,n=t,o++;var c=o,p=new Kt;s.setDisposable(p),p.setDisposable(a.subscribe(function(){i&&o===c&&r.onNext(n),i=!1,p.dispose()},r.onError.bind(r),function(){i&&o===c&&r.onNext(n),i=!1,p.dispose()}))},function(e){s.dispose(),r.onError(e),i=!1,o++},function(){s.dispose(),i&&r.onNext(n),r.onCompleted(),i=!1,o++});return new Nt(a,s)},t)},_r.throttleWithSelector=function(e){return this.debounceWithSelector(e)},_r.skipLastWithTime=function(e,t){Ae(t)||(t=ar);var r=this;return new kn(function(n){var i=[];return r.subscribe(function(r){var s=t.now();for(i.push({interval:s,value:r});i.length>0&&s-i[0].interval>=e;)n.onNext(i.shift().value)},function(e){n.onError(e)},function(){for(var r=t.now();i.length>0&&r-i[0].interval>=e;)n.onNext(i.shift().value);n.onCompleted()})},r)},_r.takeLastWithTime=function(e,t){var r=this;return Ae(t)||(t=ar),new kn(function(n){var i=[];return r.subscribe(function(r){var n=t.now();for(i.push({interval:n,value:r});i.length>0&&n-i[0].interval>=e;)i.shift()},function(e){n.onError(e)},function(){for(var r=t.now();i.length>0;){var s=i.shift();r-s.interval<=e&&n.onNext(s.value)}n.onCompleted()})},r)},_r.takeLastBufferWithTime=function(e,t){var r=this;return Ae(t)||(t=ar),new kn(function(n){var i=[];return r.subscribe(function(r){var n=t.now();for(i.push({interval:n,value:r});i.length>0&&n-i[0].interval>=e;)i.shift()},function(e){n.onError(e)},function(){for(var r=t.now(),s=[];i.length>0;){var o=i.shift();r-o.interval<=e&&s.push(o.value)}n.onNext(s),n.onCompleted()})},r)},_r.takeWithTime=function(e,t){var r=this;return Ae(t)||(t=ar),new kn(function(n){return new Nt(t.scheduleWithRelative(e,function(){n.onCompleted()}),r.subscribe(n))},r)},_r.skipWithTime=function(e,t){var r=this;return Ae(t)||(t=ar),new kn(function(n){var i=!1;return new Nt(t.scheduleWithRelative(e,function(){i=!0}),r.subscribe(function(e){i&&n.onNext(e)},n.onError.bind(n),n.onCompleted.bind(n)))},r)},_r.skipUntilWithTime=function(e,t){Ae(t)||(t=ar);var r=this,n=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new kn(function(i){var s=!1;return new Nt(t[n](e,function(){s=!0}),r.subscribe(function(e){s&&i.onNext(e)},function(e){i.onError(e)},function(){i.onCompleted()}))},r)},_r.takeUntilWithTime=function(e,t){Ae(t)||(t=ar);var r=this,n=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new kn(function(i){return new Nt(t[n](e,function(){i.onCompleted()}),r.subscribe(i))},r)},_r.throttleFirst=function(e,t){Ae(t)||(t=ar);var r=+e||0;if(0>=r)throw new RangeError("windowDuration cannot be less or equal zero.");var n=this;return new kn(function(e){var i=0;return n.subscribe(function(n){var s=t.now();(0===i||s-i>=r)&&(i=s,e.onNext(n))},function(t){e.onError(t)},function(){e.onCompleted()})},n)},_r.transduce=function(e){function t(e){return{"@@transducer/init":function(){return e},"@@transducer/step":function(e,t){return e.onNext(t)},"@@transducer/result":function(e){return e.onCompleted()}}}var r=this;return new kn(function(n){var i=e(t(n));return r.subscribe(function(e){try{i["@@transducer/step"](n,e)}catch(t){n.onError(t)}},function(e){n.onError(e)},function(){i["@@transducer/result"](n)})},r)},_r.exclusive=function(){var e=this;return new kn(function(t){var r=!1,n=!1,i=new Kt,s=new Nt;return s.add(i),i.setDisposable(e.subscribe(function(e){if(!r){r=!0,Ve(e)&&(e=Or(e));var i=new Kt;s.add(i),i.setDisposable(e.subscribe(t.onNext.bind(t),t.onError.bind(t),function(){s.remove(i),r=!1,n&&1===s.length&&t.onCompleted()}))}},t.onError.bind(t),function(){n=!0,r||1!==s.length||t.onCompleted()})),s},this)},_r.exclusiveMap=function(e,t){var r=this,n=at(e,t,3);return new kn(function(e){var t=0,i=!1,s=!0,o=new Kt,a=new Nt;return a.add(o),o.setDisposable(r.subscribe(function(r){i||(i=!0,innerSubscription=new Kt,a.add(innerSubscription),Ve(r)&&(r=Or(r)),innerSubscription.setDisposable(r.subscribe(function(i){var s;try{s=n(i,t++,r)}catch(o){return void e.onError(o)}e.onNext(s)},function(t){e.onError(t)},function(){a.remove(innerSubscription),i=!1,s&&1===a.length&&e.onCompleted()})))},function(t){e.onError(t)},function(){s=!0,1!==a.length||i||e.onCompleted()})),a},this)},xe.VirtualTimeScheduler=function(e){function t(){return this.toDateTimeOffset(this.clock)}function r(e,t){return this.scheduleAbsoluteWithState(e,this.clock,t)}function n(e,t,r){return this.scheduleRelativeWithState(e,this.toRelative(t),r)}function i(e,t,r){return this.scheduleRelativeWithState(e,this.toRelative(t-this.now()),r)}function s(e,t){return t(),Ut}function o(s,o){this.clock=s,this.comparer=o,this.isEnabled=!1,this.queue=new Wt(1024),e.call(this,t,r,n,i)}Yt(o,e);var a=o.prototype;return a.add=et,a.toDateTimeOffset=et,a.toRelative=et,a.schedulePeriodicWithState=function(e,t,r){var n=new tr(this,e,t,r);return n.start()},a.scheduleRelativeWithState=function(e,t,r){var n=this.add(this.clock,t);return this.scheduleAbsoluteWithState(e,n,r)},a.scheduleRelative=function(e,t){return this.scheduleRelativeWithState(t,e,s)},a.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var e=this.getNext();null!==e?(this.comparer(e.dueTime,this.clock)>0&&(this.clock=e.dueTime),e.invoke()):this.isEnabled=!1}while(this.isEnabled)}},a.stop=function(){this.isEnabled=!1},a.advanceTo=function(e){var t=this.comparer(this.clock,e);if(this.comparer(this.clock,e)>0)throw new $e;if(0!==t&&!this.isEnabled){this.isEnabled=!0;do{var r=this.getNext();null!==r&&this.comparer(r.dueTime,e)<=0?(this.comparer(r.dueTime,this.clock)>0&&(this.clock=r.dueTime),r.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=e}},a.advanceBy=function(e){var t=this.add(this.clock,e),r=this.comparer(this.clock,t);if(r>0)throw new $e;0!==r&&this.advanceTo(t)},a.sleep=function(e){var t=this.add(this.clock,e);if(this.comparer(this.clock,t)>=0)throw new $e;this.clock=t},a.getNext=function(){for(;this.queue.length>0;){var e=this.queue.peek();if(!e.isCancelled())return e;this.queue.dequeue()}return null},a.scheduleAbsolute=function(e,t){return this.scheduleAbsoluteWithState(t,e,s)},a.scheduleAbsoluteWithState=function(e,t,r){function n(e,t){return i.queue.remove(s),r(e,t)}var i=this,s=new Qt(this,e,n,t,this.comparer);return this.queue.enqueue(s),s.disposable},o}($t),xe.HistoricalScheduler=function(e){function t(t,r){var n=null==t?0:t,i=r||Fe;e.call(this,n,i)}Yt(t,e);var r=t.prototype;return r.add=function(e,t){return e+t},r.toDateTimeOffset=function(e){return new Date(e).getTime()},r.toRelative=function(e){return e},t}(xe.VirtualTimeScheduler);var kn=xe.AnonymousObservable=function(e){function t(e){return e&&He(e.dispose)?e:He(e)?Ht(e):Ut}function r(e,r){var n=r[0],i=r[1],s=T(i)(n);return s!==It||n.fail(It.e)?void n.setDisposable(t(s)):k(It.e)}function n(t,n){function i(e){var n=new Ln(e),i=[n,t];return nr.scheduleRequired()?nr.scheduleWithState(i,r):r(null,i),n}this.source=n,e.call(this,i)}return Yt(n,e),n}(Mr),Ln=function(e){function t(t){e.call(this),this.observer=t,this.m=new Kt}Yt(t,e);var r=t.prototype;return r.next=function(e){var t=T(this.observer.onNext).call(this.observer,e);t===It&&(this.dispose(),k(t.e))},r.error=function(e){var t=T(this.observer.onError).call(this.observer,e);this.dispose(),t===It&&k(t.e)},r.completed=function(){var e=T(this.observer.onCompleted).call(this.observer);this.dispose(),e===It&&k(e.e)},r.setDisposable=function(e){this.m.setDisposable(e)},r.getDisposable=function(){return this.m.getDisposable()},r.dispose=function(){e.prototype.dispose.call(this),this.m.dispose()},t}(br),Mn=function(e){function t(e){return this.underlyingObservable.subscribe(e)}function r(r,n,i){e.call(this,t),this.key=r,this.underlyingObservable=i?new kn(function(e){return new Nt(i.getDisposable(),n.subscribe(e))}):n}return Yt(r,e),r}(Mr),Pn=xe.Subject=function(e){function t(e){return zt(this),this.isStopped?this.hasError?(e.onError(this.error),Ut):(e.onCompleted(),Ut):(this.observers.push(e),new fn(this,e))}function r(){e.call(this,t),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return Yt(r,e),At(r.prototype,gr.prototype,{hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(zt(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=u(this.observers),r=t.length;r>e;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(zt(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;for(var t=0,r=u(this.observers),n=r.length;n>t;t++)r[t].onError(e);this.observers.length=0}},onNext:function(e){if(zt(this),!this.isStopped)for(var t=0,r=u(this.observers),n=r.length;n>t;t++)r[t].onNext(e)},dispose:function(){this.isDisposed=!0,this.observers=null}}),r.create=function(e,t){return new Dn(e,t)},r}(Mr),On=xe.AsyncSubject=function(e){function t(e){return zt(this),this.isStopped?(this.hasError?e.onError(this.error):this.hasValue?(e.onNext(this.value),e.onCompleted()):e.onCompleted(),Ut):(this.observers.push(e),new fn(this,e))}function r(){e.call(this,t),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return Yt(r,e),At(r.prototype,gr,{hasObservers:function(){return zt(this),this.observers.length>0},onCompleted:function(){var e,t;if(zt(this),!this.isStopped){this.isStopped=!0;var r=u(this.observers),t=r.length;if(this.hasValue)for(e=0;t>e;e++){var n=r[e];n.onNext(this.value),n.onCompleted()}else for(e=0;t>e;e++)r[e].onCompleted();this.observers.length=0}},onError:function(e){if(zt(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,r=u(this.observers),n=r.length;n>t;t++)r[t].onError(e);this.observers.length=0}},onNext:function(e){zt(this),this.isStopped||(this.value=e,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.exception=null,this.value=null}}),r}(Mr),Dn=xe.AnonymousSubject=function(e){function t(e){return this.observable.subscribe(e)}function r(r,n){this.observer=r,this.observable=n,e.call(this,t)}return Yt(r,e),At(r.prototype,gr.prototype,{onCompleted:function(){this.observer.onCompleted()},onError:function(e){this.observer.onError(e)},onNext:function(e){this.observer.onNext(e)}}),r}(Mr);xe.Pauser=function(e){function t(){e.call(this)}return Yt(t,e),t.prototype.pause=function(){this.onNext(!1)},t.prototype.resume=function(){this.onNext(!0)},t}(Pn),De.Rx=xe,n=function(){return xe}.call(t,r,t,e),!(n!==a&&(e.exports=n));var jn=h()}).call(this)}).call(t,r(78)(e),function(){return this}(),r(306))},function(e,t,r){(function(e){"use strict";if(e._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");e._babelPolyfill=!0,r(234),r(235)}).call(t,function(){return this}())},function(e,t,r){var n=r(5);e.exports=Object.assign||function(e,t){for(var r=Object(n.assertDefined(e)),i=arguments.length,s=1;i>s;)for(var o,a=n.ES5Object(arguments[s++]),u=n.getKeys(a),c=u.length,p=0;c>p;)r[o=u[p++]]=a[o];return r}},function(e,t,r){e.exports=function(e){return e.FW=!0,e.path=e.g,e}},function(e,t,r){var n=r(5);e.exports=function(e,t){for(var r,i=n.toObject(e),s=n.getKeys(i),o=s.length,a=0;o>a;)if(i[r=s[a++]]===t)return r}},function(e,t,r){"use strict";var n=r(5),i=r(43),s=r(13).fn;e.exports=function(){for(var e=s(this),t=arguments.length,r=Array(t),o=0,a=n.path._,u=!1;t>o;)(r[o]=arguments[o++])===a&&(u=!0);return function(){var n,s=this,o=arguments.length,c=0,p=0;if(!u&&!o)return i(e,r,s);if(n=r.slice(),u)for(;t>c;c++)n[c]===a&&(n[c]=arguments[p++]);for(;o>p;)n.push(arguments[p++]);return i(e,n,s)}}},function(e,t,r){function n(e,t){return function(r){var n,i=O(r),s=0,o=[];for(n in i)n!=d&&k(i,n)&&o.push(n);for(;t>s;)k(i,n=e[s++])&&(~b.call(o,n)||o.push(n));return o}}function i(e){return!c.isObject(e)}function s(){}function o(e){return function(){return e.apply(c.ES5Object(this),arguments)}}function a(e){return function(t,r){y.fn(t);var n=O(this),i=D(n.length),s=e?i-1:0,o=e?-1:1;if(arguments.length<2)for(;;){if(s in n){r=n[s],s+=o;break}s+=o,y(e?s>=0:i>s,"Reduce of empty array with no initial value")}for(;e?s>=0:i>s;s+=o)s in n&&(r=t(r,n[s],s,this));return r}}function u(e){return e>9?e:"0"+e}var c=r(5),p=r(14),l=r(6),f=r(43),h=r(41),d=r(18).safe("__proto__"),y=r(13),m=y.obj,g=Object.prototype,v=[],_=v.slice,b=v.indexOf,w=p.classof,T=Object.defineProperties,k=c.has,L=c.setDesc,M=c.getDesc,P=c.isFunction,O=c.toObject,D=c.toLength,j=!1;if(!c.DESC){try{j=8==L(document.createElement("div"),"x",{get:function(){return 8}}).x}catch(C){}c.setDesc=function(e,t,r){if(j)try{return L(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(m(e)[t]=r.value),e},c.getDesc=function(e,t){if(j)try{return M(e,t)}catch(r){}return k(e,t)?c.desc(!g.propertyIsEnumerable.call(e,t),e[t]):void 0},T=function(e,t){m(e);for(var r,n=c.getKeys(t),i=n.length,s=0;i>s;)c.setDesc(e,r=n[s++],t[r]);return e}}l(l.S+l.F*!c.DESC,"Object",{getOwnPropertyDescriptor:c.getDesc,defineProperty:c.setDesc,defineProperties:T});var E="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),S=E.concat("length","prototype"),x=E.length,Y=function(){var e,t=document.createElement("iframe"),r=x,n=">";for(t.style.display="none",c.html.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script"+n),e.close(),Y=e.F;r--;)delete Y.prototype[E[r]];return Y()};l(l.S,"Object",{getPrototypeOf:c.getProto=c.getProto||function(e){return e=Object(y.def(e)),k(e,d)?e[d]:P(e.constructor)&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?g:null},getOwnPropertyNames:c.getNames=c.getNames||n(S,S.length,!0),create:c.create=c.create||function(e,t){var r;return null!==e?(s.prototype=m(e),r=new s,s.prototype=null,r[d]=e):r=Y(),void 0===t?r:T(r,t)},keys:c.getKeys=c.getKeys||n(E,x,!1),seal:c.it,freeze:c.it,preventExtensions:c.it,isSealed:i,isFrozen:i,isExtensible:c.isObject}),l(l.P,"Function",{bind:function(e){function t(){var i=n.concat(_.call(arguments));return f(r,i,this instanceof t?c.create(r.prototype):e)}var r=y.fn(this),n=_.call(arguments,1);return r.prototype&&(t.prototype=r.prototype),t}}),0 in Object("z")&&"z"=="z"[0]||(c.ES5Object=function(e){return"String"==p(e)?e.split(""):Object(e)}),l(l.P+l.F*(c.ES5Object!=Object),"Array",{slice:o(_),join:o(v.join)}),l(l.S,"Array",{isArray:function(e){return"Array"==p(e)}}),l(l.P,"Array",{forEach:c.each=c.each||h(0),map:h(1),filter:h(2),some:h(3),every:h(4),reduce:a(!1),reduceRight:a(!0),indexOf:b=b||r(79)(!1),lastIndexOf:function(e,t){var r=O(this),n=D(r.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,c.toInteger(t))),0>i&&(i=D(n+i));i>=0;i--)if(i in r&&r[i]===e)return i;return-1}}),l(l.P,"String",{trim:r(58)(/^\s*([\s\S]*\S)?\s*$/,"$1")}),l(l.S,"Date",{now:function(){return+new Date}}),l(l.P,"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=0>t?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+u(e.getUTCMonth()+1)+"-"+u(e.getUTCDate())+"T"+u(e.getUTCHours())+":"+u(e.getUTCMinutes())+":"+u(e.getUTCSeconds())+"."+(r>99?r:"0"+u(r))+"Z"}}),"Object"==w(function(){return arguments}())&&(p.classof=function(e){var t=w(e);return"Object"==t&&P(e.callee)?"Arguments":t})},function(e,t,r){"use strict";var n=r(5),i=r(6),s=n.toIndex;i(i.P,"Array",{copyWithin:function(e,t){var r=Object(n.assertDefined(this)),i=n.toLength(r.length),o=s(e,i),a=s(t,i),u=arguments[2],c=void 0===u?i:s(u,i),p=Math.min(c-a,i-o),l=1;for(o>a&&a+p>o&&(l=-1,a=a+p-1,o=o+p-1);p-->0;)a in r?r[o]=r[a]:delete r[o],o+=l,a+=l;return r}}),r(32)("copyWithin")},function(e,t,r){"use strict";var n=r(5),i=r(6),s=n.toIndex;i(i.P,"Array",{fill:function(e){for(var t=Object(n.assertDefined(this)),r=n.toLength(t.length),i=s(arguments[1],r),o=arguments[2],a=void 0===o?r:s(o,r);a>i;)t[i++]=e;return t}}),r(32)("fill")},function(e,t,r){var n=r(6);n(n.P,"Array",{findIndex:r(41)(6)}),r(32)("findIndex")},function(e,t,r){var n=r(6);n(n.P,"Array",{find:r(41)(5)}),r(32)("find")},function(e,t,r){var n=r(5),i=r(17),s=r(6),o=r(16),a=o.stepCall;s(s.S+s.F*!r(57)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,s,u,c=Object(n.assertDefined(e)),p=arguments[1],l=void 0!==p,f=l?i(p,arguments[2],2):void 0,h=0;if(o.is(c))for(u=o.get(c),r=new("function"==typeof this?this:Array);!(s=u.next()).done;h++)r[h]=l?a(u,f,[s.value,h],!0):s.value;else for(r=new("function"==typeof this?this:Array)(t=n.toLength(c.length));t>h;h++)r[h]=l?f(c[h],h):c[h];return r.length=h,r}})},function(e,t,r){var n=r(6);n(n.S,"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)r[e]=arguments[e++];return r.length=t,r}})},function(e,t,r){r(44)(Array)},function(e,t,r){"use strict";var n=r(5),i="name",s=n.setDesc,o=Function.prototype;i in o||n.FW&&n.DESC&&s(o,i,{configurable:!0,get:function(){var e=String(this).match(/^\s*function ([^ (]*)/),t=e?e[1]:"";return n.has(this,i)||s(this,i,n.desc(5,t)),t},set:function(e){n.has(this,i)||s(this,i,n.desc(0,e))}})},function(e,t,r){"use strict";var n=r(80);r(42)("Map",{get:function(e){var t=n.getEntry(this,e);return t&&t.v},set:function(e,t){return n.def(this,0===e?0:e,t)}},n,!0)},function(e,t,r){function n(e){return e+1/g-1/g}function i(e){return 0==(e=+e)||e!=e?e:0>e?-1:1}function s(e){return isFinite(e=+e)&&0!=e?0>e?-s(-e):h(e+d(e*e+1)):e}function o(e){return 0==(e=+e)?e:e>-1e-6&&1e-6>e?e+e*e/2:f(e)-1}var a=1/0,u=r(6),c=Math.E,p=Math.pow,l=Math.abs,f=Math.exp,h=Math.log,d=Math.sqrt,y=Math.ceil,m=Math.floor,g=p(2,-52),v=p(2,-23),_=p(2,127)*(2-v),b=p(2,-126);u(u.S,"Math",{acosh:function(e){return(e=+e)<1?0/0:isFinite(e)?h(e/c+d(e+1)*d(e-1)/c)+1:e},asinh:s,atanh:function(e){return 0==(e=+e)?e:h((1+e)/(1-e))/2},cbrt:function(e){return i(e=+e)*p(l(e),1/3)},clz32:function(e){return(e>>>=0)?31-m(h(e+.5)*Math.LOG2E):32},cosh:function(e){return(f(e=+e)+f(-e))/2},expm1:o,fround:function(e){var t,r,s=l(e),o=i(e);return b>s?o*n(s/b/v)*b*v:(t=(1+v/g)*s,r=t-(t-s),r>_||r!=r?o*a:o*r)},hypot:function(e,t){for(var r,n=0,i=arguments.length,s=i,o=Array(i),u=-a;i--;){if(r=o[i]=+arguments[i],r==a||r==-a)return a;r>u&&(u=r)}for(u=r||1;s--;)n+=p(o[s]/u,2);return u*d(n)},imul:function(e,t){var r=65535,n=+e,i=+t,s=r&n,o=r&i;return 0|s*o+((r&n>>>16)*o+s*(r&i>>>16)<<16>>>0)},log1p:function(e){return(e=+e)>-1e-8&&1e-8>e?e-e*e/2:h(1+e)},log10:function(e){return h(e)/Math.LN10},log2:function(e){return h(e)/Math.LN2},sign:i,sinh:function(e){return l(e=+e)<1?(o(e)-o(-e))/2:(f(e-1)-f(-e-1))*(c/2)},tanh:function(e){var t=o(e=+e),r=o(-e);return t==a?1:r==a?-1:(t-r)/(f(e)+f(-e))},trunc:function(e){return(e>0?m:y)(e)}})},function(e,t,r){"use strict";function n(e){var t,r;if(a(t=e.valueOf)&&!o(r=t.call(e)))return r;if(a(t=e.toString)&&!o(r=t.call(e)))return r;throw TypeError("Can't convert object to number")}function i(e){if(o(e)&&(e=n(e)),"string"==typeof e&&e.length>2&&48==e.charCodeAt(0)){var t=!1;switch(e.charCodeAt(1)){case 66:case 98:t=!0;case 79:case 111:return parseInt(e.slice(2),t?2:8)}}return+e}var s=r(5),o=s.isObject,a=s.isFunction,u="Number",c=s.g[u],p=c,l=c.prototype;!s.FW||c("0o1")&&c("0b1")||(c=function f(e){return this instanceof f?new p(i(e)):i(e)},s.each.call(s.DESC?s.getNames(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(e){s.has(p,e)&&!s.has(c,e)&&s.setDesc(c,e,s.getDesc(p,e))}),c.prototype=l,l.constructor=c,s.hide(s.g,u,c))},function(e,t,r){function n(e){return!i.isObject(e)&&u(e)&&a(e)===e}var i=r(5),s=r(6),o=Math.abs,a=Math.floor,u=i.g.isFinite,c=9007199254740991;s(s.S,"Number",{EPSILON:Math.pow(2,-52),isFinite:function(e){return"number"==typeof e&&u(e)},isInteger:n,isNaN:function(e){return e!=e},isSafeInteger:function(e){return n(e)&&o(e)<=c},MAX_SAFE_INTEGER:c,MIN_SAFE_INTEGER:-c,parseFloat:parseFloat,parseInt:parseInt})},function(e,t,r){var n=r(6);n(n.S,"Object",{assign:r(187)})},function(e,t,r){var n=r(6);n(n.S,"Object",{is:function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}})},function(e,t,r){var n=r(6);n(n.S,"Object",{setPrototypeOf:r(83).set})},function(e,t,r){function n(e,t){var r=(i.core.Object||{})[e]||Object[e],n=0,u={};u[e]=1==t?function(e){return o(e)?r(e):e}:2==t?function(e){return o(e)?r(e):!0}:3==t?function(e){return o(e)?r(e):!1}:4==t?function(e,t){return r(a(e),t)}:5==t?function(e){return r(Object(i.assertDefined(e)))}:function(e){return r(a(e))};try{r("z")}catch(c){n=1}s(s.S+s.F*n,"Object",u)}var i=r(5),s=r(6),o=i.isObject,a=i.toObject;n("freeze",1),n("seal",1),n("preventExtensions",1),n("isFrozen",2),n("isSealed",2),n("isExtensible",3),n("getOwnPropertyDescriptor",4),n("getPrototypeOf",5),n("keys"),n("getOwnPropertyNames")},function(e,t,r){"use strict";var n=r(5),i=r(14),s={};s[r(19)("toStringTag")]="z",n.FW&&"z"!=i(s)&&n.hide(Object.prototype,"toString",function(){return"[object "+i.classof(this)+"]"})},function(e,t,r){"use strict";function n(e){var t=D(e)[m];return void 0!=t?t:e}function i(e){var t;return P(e)&&(t=e.then),M(t)?t:!1}function s(e){var t,r=e[g],n=r.c,i=0;if(r.h)return!1;for(;n.length>i;)if(t=n[i++],t.fail||!s(t.P))return!1;return!0}function o(e,t){var r=e.c;(t||r.length)&&T(function(){var n=e.p,o=e.v,a=1==e.s,u=0;if(t&&s(n))setTimeout(function(){s(n)&&("process"==f(w)?w.emit("unhandledRejection",o,n):b.console&&M(console.error)&&console.error("Unhandled promise rejection",o))},1e3);else for(;r.length>u;)!function(t){var r,n,s=a?t.ok:t.fail;try{s?(a||(e.h=!0),r=s===!0?o:s(o),r===t.P?t.rej(TypeError(_+"-chain cycle")):(n=i(r))?n.call(r,t.res,t.rej):t.res(r)):t.rej(o)}catch(u){t.rej(u)}}(r[u++]);r.length=0})}function a(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,o(t,!0))}function u(e){var t,r,n=this;if(!n.d){n.d=!0,n=n.r||n;try{(t=i(e))?(r={r:n,d:!1},t.call(e,l(u,r,1),l(a,r,1))):(n.v=e,n.s=1,o(n))}catch(s){a.call(r||{r:n,d:!1},s)}}}var c,p=r(5),l=r(17),f=r(14),h=r(6),d=r(13),y=r(16),m=r(19)("species"),g=r(18).safe("record"),v=y.forOf,_="Promise",b=p.g,w=b.process,T=w&&w.nextTick||r(84).set,k=b[_],L=k,M=p.isFunction,P=p.isObject,O=d.fn,D=d.obj;M(k)&&M(k.resolve)&&k.resolve(c=new k(function(){}))==c||(k=function(e){O(e);var t={p:d.inst(this,k,_),c:[],s:0,d:!1,v:void 0,h:!1};p.hide(this,g,t);try{e(l(u,t,1),l(a,t,1))}catch(r){a.call(t,r)}},p.mix(k.prototype,{then:function(e,t){var r=D(D(this).constructor)[m],n={ok:M(e)?e:!0,fail:M(t)?t:!1},i=n.P=new(void 0!=r?r:k)(function(e,t){n.res=O(e),n.rej=O(t)}),s=this[g];return s.c.push(n),s.s&&o(s),i},"catch":function(e){return this.then(void 0,e)}})),h(h.G+h.W+h.F*(k!=L),{Promise:k}),f.set(k,_),r(44)(k),h(h.S,_,{reject:function(e){return new(n(this))(function(t,r){r(e)})},resolve:function(e){return P(e)&&g in e&&p.getProto(e)===this.prototype?e:new(n(this))(function(t){t(e)})}}),h(h.S+h.F*!r(57)(function(e){k.all(e)["catch"](function(){})}),_,{all:function(e){var t=n(this),r=[];return new t(function(n,i){v(e,!1,r.push,r);var s=r.length,o=Array(s);s?p.each.call(r,function(e,r){t.resolve(e).then(function(e){o[r]=e,--s||n(o)},i)}):n(o)})},race:function(e){var t=n(this);return new t(function(r,n){v(e,!1,function(e){t.resolve(e).then(r,n)})})}})},function(e,t,r){function n(e){var t,r=[];for(t in e)r.push(t);a.set(this,l,{o:e,a:r,i:0})}function i(e){return function(t){_(t);try{return e.apply(void 0,arguments),!0}catch(r){return!1}}}function s(e,t){var r,n=arguments.length<3?e:arguments[2],i=y(_(e),t);return i?a.has(i,"value")?i.value:void 0===i.get?void 0:i.get.call(n):d(r=g(e))?s(r,t,n):void 0}function o(e,t,r){var n,i,s=arguments.length<4?e:arguments[3],u=y(_(e),t);if(!u){if(d(i=g(e)))return o(i,t,r,s);u=a.desc(0)}return a.has(u,"value")?u.writable!==!1&&d(s)?(n=y(s,t)||a.desc(0),n.value=r,m(s,t,n),!0):!1:void 0===u.set?!1:(u.set.call(s,r),!0)}var a=r(5),u=r(6),c=r(83),p=r(16),l=r(18).safe("iter"),f=p.step,h=r(13),d=a.isObject,y=a.getDesc,m=a.setDesc,g=a.getProto,v=Function.apply,_=h.obj,b=Object.isExtensible||a.it;p.create(n,"Object",function(){var e,t=this[l],r=t.a;do if(t.i>=r.length)return f(1);while(!((e=r[t.i++])in t.o));return f(0,e)});var w={apply:r(17)(Function.call,v,3),construct:function(e,t){var r=h.fn(arguments.length<3?e:arguments[2]).prototype,n=a.create(d(r)?r:Object.prototype),i=v.call(e,n,t);return d(i)?i:n},defineProperty:i(m),deleteProperty:function(e,t){var r=y(_(e),t);return r&&!r.configurable?!1:delete e[t]},enumerate:function(e){return new n(_(e))},get:s,getOwnPropertyDescriptor:function(e,t){return y(_(e),t)},getPrototypeOf:function(e){return g(_(e))},has:function(e,t){return t in e},isExtensible:function(e){return!!b(_(e))},ownKeys:r(82),preventExtensions:i(Object.preventExtensions||a.it),set:o};c&&(w.setPrototypeOf=function(e,t){c.check(e,t);try{return c.set(e,t),!0}catch(r){return!1}}),u(u.G,{Reflect:{}}),u(u.S,"Reflect",w)},function(e,t,r){var n=r(5),i=r(14),s=n.g.RegExp,o=s,a=s.prototype;n.FW&&n.DESC&&(function(){try{return"/a/i"==s(/a/g,"i")}catch(e){}}()||(s=function(e,t){return new o("RegExp"==i(e)&&void 0!==t?e.source:e,t)},n.each.call(n.getNames(o),function(e){e in s||n.setDesc(s,e,{configurable:!0,get:function(){return o[e]},set:function(t){o[e]=t}})}),a.constructor=s,s.prototype=a,n.hide(n.g,"RegExp",s)),"g"!=/./g.flags&&n.setDesc(a,"flags",{configurable:!0,get:r(58)(/^.*\/(\w*)$/,"$1")})),r(44)(s)},function(e,t,r){"use strict";var n=r(80);r(42)("Set",{add:function(e){return n.def(this,e=0===e?0:e,e)}},n)},function(e,t,r){var n=r(6);n(n.P,"String",{codePointAt:r(59)(!1)})},function(e,t,r){"use strict";var n=r(5),i=r(14),s=r(6),o=n.toLength;s(s.P,"String",{endsWith:function(e){if("RegExp"==i(e))throw TypeError();var t=String(n.assertDefined(this)),r=arguments[1],s=o(t.length),a=void 0===r?s:Math.min(o(r),s);return e+="",t.slice(a-e.length,a)===e}})},function(e,t,r){var n=r(6),i=r(5).toIndex,s=String.fromCharCode;n(n.S,"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,o=0;n>o;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(65536>t?s(t):s(((t-=65536)>>10)+55296,t%1024+56320))}return r.join("")}})},function(e,t,r){"use strict";var n=r(5),i=r(14),s=r(6);s(s.P,"String",{includes:function(e){if("RegExp"==i(e))throw TypeError();return!!~String(n.assertDefined(this)).indexOf(e,arguments[1])}})},function(e,t,r){var n=r(5).set,i=r(59)(!0),s=r(18).safe("iter"),o=r(16),a=o.step;o.std(String,"String",function(e){n(this,s,{o:String(e),i:0})},function(){var e,t=this[s],r=t.o,n=t.i;return n>=r.length?a(1):(e=i.call(r,n),t.i+=e.length,a(0,e))})},function(e,t,r){var n=r(5),i=r(6);i(i.S,"String",{raw:function(e){for(var t=n.toObject(e.raw),r=n.toLength(t.length),i=arguments.length,s=[],o=0;r>o;)s.push(String(t[o++])),i>o&&s.push(String(arguments[o]));return s.join("")}})},function(e,t,r){"use strict";var n=r(5),i=r(6);i(i.P,"String",{repeat:function(e){var t=String(n.assertDefined(this)),r="",i=n.toInteger(e);if(0>i||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(r+=t);return r}})},function(e,t,r){"use strict";var n=r(5),i=r(14),s=r(6);s(s.P,"String",{startsWith:function(e){if("RegExp"==i(e))throw TypeError();var t=String(n.assertDefined(this)),r=n.toLength(Math.min(arguments[1],t.length));return e+="",t.slice(r,r+e.length)===e}})},function(e,t,r){"use strict";function n(e){var t=v[e]=i.set(i.create(h.prototype),m,e);return i.DESC&&y&&i.setDesc(Object.prototype,e,{configurable:!0,set:function(t){p(this,e,t)}}),t}var i=r(5),s=r(14).set,o=r(18),a=r(6),u=r(189),c=i.has,p=i.hide,l=i.getNames,f=i.toObject,h=i.g.Symbol,d=h,y=!1,m=o.safe("tag"),g={},v={};i.isFunction(h)||(h=function b(e){if(this instanceof b)throw TypeError("Symbol is not a constructor");return n(o(e))},p(h.prototype,"toString",function(){return this[m]})),a(a.G+a.W,{Symbol:h});var _={"for":function(e){return c(g,e+="")?g[e]:g[e]=h(e)},keyFor:function(e){return u(g,e)},pure:o.safe,set:i.set,useSetter:function(){y=!0},useSimple:function(){y=!1}};i.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=r(19)(e);_[e]=h===d?t:n(t)}),y=!0,a(a.S,"Symbol",_),a(a.S+a.F*(h!=d),"Object",{getOwnPropertyNames:function(e){for(var t,r=l(f(e)),n=[],i=0;r.length>i;)c(v,t=r[i++])||n.push(t);return n},getOwnPropertySymbols:function(e){for(var t,r=l(f(e)),n=[],i=0;r.length>i;)c(v,t=r[i++])&&n.push(v[t]);return n}}),s(h,"Symbol"),s(Math,"Math",!0),s(i.g.JSON,"JSON",!0)},function(e,t,r){"use strict";var n=r(5),i=r(81),s=i.leakStore,o=i.ID,a=i.WEAK,u=n.has,c=n.isObject,p=Object.isFrozen||n.core.Object.isFrozen,l={},f=r(42)("WeakMap",{get:function(e){if(c(e)){if(p(e))return s(this).get(e);if(u(e,a))return e[a][this[o]]}},set:function(e,t){return i.def(this,e,t)}},i,!0,!0);n.FW&&7!=(new f).set((Object.freeze||Object)(l),7).get(l)&&n.each.call(["delete","has","get","set"],function(e){var t=f.prototype[e];f.prototype[e]=function(r,n){if(c(r)&&p(r)){var i=s(this)[e](r,n);return"set"==e?this:i}return t.call(this,r,n)}})},function(e,t,r){"use strict";var n=r(81);r(42)("WeakSet",{add:function(e){return n.def(this,e,!0)}},n,!1,!0)},function(e,t,r){var n=r(6);n(n.P,"Array",{includes:r(79)(!0)}),r(32)("includes")},function(e,t,r){var n=r(5),i=r(6),s=r(82);i(i.S,"Object",{getOwnPropertyDescriptors:function(e){var t=n.toObject(e),r={};return n.each.call(s(t),function(e){n.setDesc(r,e,n.desc(0,n.getDesc(t,e)))}),r}})},function(e,t,r){function n(e){return function(t){var r,n=i.toObject(t),s=i.getKeys(n),o=s.length,a=0,u=Array(o);if(e)for(;o>a;)u[a]=[r=s[a++],n[r]];else for(;o>a;)u[a]=n[s[a++]];return u}}var i=r(5),s=r(6);s(s.S,"Object",{values:n(!1),entries:n(!0)})},function(e,t,r){var n=r(6);n(n.S,"RegExp",{escape:r(58)(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})},function(e,t,r){var n=r(6),i=r(16).forOf;n(n.P,"Set",{toJSON:function(){var e=[];return i(this,!1,e.push,e),e}})},function(e,t,r){var n=r(6);n(n.P,"String",{at:r(59)(!0)})},function(e,t,r){function n(e,t){i.each.call(e.split(","),function(e){void 0==t&&e in o?a[e]=o[e]:e in[]&&(a[e]=r(17)(Function.call,[][e],t))})}var i=r(5),s=r(6),o=i.core.Array||Array,a={};n("pop,reverse,shift,keys,values,entries",1),n("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),n("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),
s(s.S,"Array",a)},function(e,t,r){r(85);var n=r(5),i=r(16).Iterators,s=r(19)("iterator"),o=i.Array,a=n.g.NodeList;!n.FW||!a||s in a.prototype||n.hide(a.prototype,s,o),i.NodeList=o},function(e,t,r){var n=r(6),i=r(84);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,r){function n(e){return c?function(t,r){return e(o(a,[].slice.call(arguments,2),i.isFunction(t)?t:Function(t)),r)}:e}var i=r(5),s=r(6),o=r(43),a=r(190),u=i.g.navigator,c=!!u&&/MSIE .\./.test(u.userAgent);s(s.G+s.B+s.F*c,{setTimeout:n(i.g.setTimeout),setInterval:n(i.g.setInterval)})},function(e,t,r){r(191),r(221),r(204),r(205),r(206),r(208),r(207),r(199),r(202),r(203),r(201),r(215),r(218),r(217),r(213),r(214),r(216),r(219),r(220),r(196),r(197),r(85),r(198),r(192),r(193),r(195),r(194),r(211),r(209),r(200),r(212),r(222),r(223),r(210),r(224),r(229),r(227),r(225),r(226),r(228),r(230),r(233),r(232),r(231),e.exports=r(5).core},function(e,t,r){(function(t){!function(t){"use strict";function r(e,t,r,n){var s=Object.create((t||i).prototype);return s._invoke=a(e,r||null,new l(n||[])),s}function n(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function i(){}function s(){}function o(){}function a(e,t,r){var i=_;return function(s,o){if(i===w)throw new Error("Generator is already running");if(i===T)return h();for(;;){var a=r.delegate;if(a){if("return"===s||"throw"===s&&a.iterator[s]===d){r.delegate=null;var u=a.iterator["return"];if(u){var c=n(u,a.iterator,o);if("throw"===c.type){s="throw",o=c.arg;continue}}if("return"===s)continue}var c=n(a.iterator[s],a.iterator,o);if("throw"===c.type){r.delegate=null,s="throw",o=c.arg;continue}s="next",o=d;var p=c.arg;if(!p.done)return i=b,p;r[a.resultName]=p.value,r.next=a.nextLoc,r.delegate=null}if("next"===s)i===b?r.sent=o:delete r.sent;else if("throw"===s){if(i===_)throw i=T,o;r.dispatchException(o)&&(s="next",o=d)}else"return"===s&&r.abrupt("return",o);i=w;var c=n(e,t,r);if("normal"===c.type){i=r.done?T:b;var p={value:c.arg,done:r.done};if(c.arg!==k)return p;r.delegate&&"next"===s&&(o=d)}else"throw"===c.type&&(i=T,s="throw",o=c.arg)}}}function u(e){L[e]=function(t){return this._invoke(e,t)}}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function l(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset()}function f(e){if(e){var t=e[m];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function i(){for(;++r<e.length;)if(y.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=d,i.done=!0,i};return n.next=n}}return{next:h}}function h(){return{value:d,done:!0}}var d,y=Object.prototype.hasOwnProperty,m="function"==typeof Symbol&&Symbol.iterator||"@@iterator",g="object"==typeof e,v=t.regeneratorRuntime;if(v)return void(g&&(e.exports=v));v=t.regeneratorRuntime=g?e.exports:{},v.wrap=r;var _="suspendedStart",b="suspendedYield",w="executing",T="completed",k={},L=o.prototype=i.prototype;s.prototype=L.constructor=o,o.constructor=s,s.displayName="GeneratorFunction",v.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===s||"GeneratorFunction"===(t.displayName||t.name):!1},v.mark=function(e){return e.__proto__=o,e.prototype=Object.create(L),e},v.async=function(e,t,i,s){return new Promise(function(o,a){function u(e,t){var r=n(c[e],c,t);if("throw"===r.type)return void a(r.arg);var i=r.arg;i.done?o(i.value):Promise.resolve(i.value).then(p,l)}var c=r(e,t,i,s),p=u.bind(c,"next"),l=u.bind(c,"throw");p()})},u("next"),u("throw"),u("return"),L[m]=function(){return this},L.toString=function(){return"[object Generator]"},v.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},v.values=f,l.prototype={constructor:l,reset:function(){this.prev=0,this.next=0,this.sent=d,this.done=!1,this.delegate=null,this.tryEntries.forEach(p);for(var e,t=0;y.call(this,e="t"+t)||20>t;++t)this[e]=null},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return s.type="throw",s.arg=e,r.next=t,!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],s=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=y.call(i,"catchLoc"),a=y.call(i,"finallyLoc");if(o&&a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?this.next=i.finallyLoc:this.complete(s),k},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t),k},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc)}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;p(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:f(e),resultName:t,nextLoc:r},k}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}())},function(e,t,r){e.exports=r(186)},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],s=Object.getOwnPropertyDescriptor(t,i);s&&s.configurable&&void 0===e[i]&&Object.defineProperty(e,i,s)}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r(12);i(t,n(s))},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],s=Object.getOwnPropertyDescriptor(t,i);s&&s.configurable&&void 0===e[i]&&Object.defineProperty(e,i,s)}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r(62);i(t,n(s));var o=r(252);i(t,n(o));var a=r(61);i(t,n(a));var u=r(248);i(t,n(u));var c=r(93);i(t,n(c));var p=r(92);i(t,n(p));var l=r(63);i(t,n(l));var f=r(71);i(t,n(f));var h=r(95);i(t,n(h));var d=r(20);Object.defineProperty(t,"ElementRef",{enumerable:!0,get:function(){return d.ElementRef}}),Object.defineProperty(t,"ComponentRef",{enumerable:!0,get:function(){return d.ComponentRef}});var y=r(15);i(t,n(y));var m=r(28);i(t,n(m));var g=r(50);i(t,n(g))},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],s=Object.getOwnPropertyDescriptor(t,i);s&&s.configurable&&void 0===e[i]&&Object.defineProperty(e,i,s)}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=r(258);i(t,n(s));var o=r(259);i(t,n(o));var a=r(260);i(t,n(a));var u=r(261);i(t,n(u));var c=r(262);i(t,n(c))},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function L(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:L(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(91),c=r(49),p=r(245),l=r(246),f=r(244),h=r(247),d=r(26),y=r(36),m=r(7),g=[new l.KeyValueChangesFactory,new h.NullPipeFactory];t.keyValDiff=g;var v=[new p.IterableChangesFactory,new h.NullPipeFactory];t.iterableDiff=v;var _=[new f.AsyncPipeFactory,new h.NullPipeFactory];t.async=_;var b={iterableDiff:v,keyValDiff:g,async:_};t.defaultPipes=b;var w=function(e){function t(e){n(this,t),a.assert.argumentTypes(e,c.PipeRegistry),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.registry=e}return o(t,e),i(t,[{key:"createProtoChangeDetector",value:function(e){var t=void 0===arguments[1]?d.DEFAULT:arguments[1];return a.assert.argumentTypes(e,a.assert.type.string,t,a.assert.type.string),a.assert.returnType(new u.DynamicProtoChangeDetector(this.registry,t),y.ProtoChangeDetector)}}]),t}(y.ChangeDetection);t.DynamicChangeDetection=w,Object.defineProperty(w,"annotations",{get:function(){return[new m.Injectable]}}),Object.defineProperty(w,"parameters",{get:function(){return[[c.PipeRegistry]]}}),Object.defineProperty(w.prototype.createProtoChangeDetector,"parameters",{get:function(){return[[a.assert.type.string],[a.assert.type.string]]}});var T=function(e){function t(e){n(this,t),a.assert.argumentTypes(e,c.PipeRegistry),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.registry=e}return o(t,e),i(t,[{key:"createProtoChangeDetector",value:function(e){var t=void 0===arguments[1]?d.DEFAULT:arguments[1];return a.assert.argumentTypes(e,a.assert.type.string,t,a.assert.type.string),a.assert.returnType(new u.JitProtoChangeDetector(this.registry,t),y.ProtoChangeDetector)}}]),t}(y.ChangeDetection);t.JitChangeDetection=T,Object.defineProperty(T,"annotations",{get:function(){return[new m.Injectable]}}),Object.defineProperty(T,"parameters",{get:function(){return[[c.PipeRegistry]]}}),Object.defineProperty(T.prototype.createProtoChangeDetector,"parameters",{get:function(){return[[a.assert.type.string],[a.assert.type.string]]}});var k=new c.PipeRegistry(b);t.defaultPipeRegistry=k},function(e,t,r){"use strict";function n(e,t,r,n,i){return P.assert.argumentTypes(e,P.assert.type.string,t,P.assert.type.string,r,P.assert.type.string,n,P.assert.type.string,i,P.assert.type.string),P.assert.returnType("\n"+t+"\n"+r+"\n"+n+"\n"+i+";\n\nreturn function(dispatcher, pipeRegistry) {\n  return new "+e+"(dispatcher, pipeRegistry, protos, directiveRecords);\n}\n",P.assert.type.string)}function i(e,t){return P.assert.argumentTypes(e,P.assert.type.string,t,P.assert.type.string),P.assert.returnType("\nvar "+e+" = function "+e+"(dispatcher, pipeRegistry, protos, directiveRecords) {\n"+x+".call(this);\n"+A+" = dispatcher;\n"+R+" = pipeRegistry;\n"+I+" = protos;\n"+W+" = directiveRecords;\n"+B+" = null;\n"+t+"\n}\n\n"+e+".prototype = Object.create("+x+".prototype);\n",P.assert.type.string)}function s(e){return e.map(function(e){return""+e+".onDestroy()"}).join("\n")}function o(e,t,r,n,i,s){P.assert.argumentTypes(e,P.assert.type.string,t,P.assert.type.string,r,P.assert.type.string,n,P.assert.type.string,i,P.assert.genericType(D.List,String),s,P.assert.genericType(D.List,String));for(var o="",a=0;a<i.length;++a)o+=""+i[a]+" = directives.getDirectiveFor(this.directiveRecords["+a+"]);\n";for(var u="",a=0;a<s.length;++a)u+=""+s[a]+" = directives.getDetectorFor(this.directiveRecords["+a+"]);\n";return P.assert.returnType("\n"+e+".prototype.hydrate = function(context, locals, directives) {\n  "+H+' = "'+t+'";\n  '+F+" = context;\n  "+B+" = locals;\n  "+o+"\n  "+u+"\n}\n"+e+".prototype.dehydrate = function() {\n  "+n+"\n  "+r+"\n  "+B+" = null;\n}\n"+e+".prototype.hydrated = function() {\n  return "+F+" !== "+Y+".unitialized();\n}\n",P.assert.type.string)}function a(e,t){return P.assert.argumentTypes(e,P.assert.type.string,t,P.assert.type.string),P.assert.returnType("\n"+e+".prototype.detectChangesInRecords = function(throwOnChange) {\n  "+t+"\n}\n",P.assert.type.string)}function u(e,t){return P.assert.argumentTypes(e,P.assert.type.string,t,P.assert.type.string),P.assert.returnType("\n"+e+".prototype.callOnAllChangesDone = function() {\n  "+t+"\n}\n",P.assert.type.string)}function c(e){return P.assert.argumentTypes(e,P.assert.type.string),P.assert.returnType(""+e+".onAllChangesDone();",P.assert.type.string)}function p(e,t,r){return P.assert.argumentTypes(e,P.assert.type.string,t,P.assert.type.string,r,P.assert.type.string),P.assert.returnType("\n"+e+"\n"+t+"\nvar "+U+";\nvar "+N+" = false;\nvar "+q+";\nvar "+V+" = null;\n\ncontext = "+F+";\n"+r+"\n",P.assert.type.string)}function l(e,t,r,n,i,s,o,a,u,c,p){return P.assert.argumentTypes(e,P.assert.type.number,t,P.assert.type.string,r,P.assert.type.string,n,P.assert.type.string,i,P.assert.type.string,s,P.assert.type.string,o,P.assert.type.string,a,P.assert.type.string,u,P.assert.type.string,c,P.assert.type.any,p,P.assert.type.string),P.assert.returnType("\n"+q+" = "+I+"["+e+"];\nif ("+n+" === "+Y+".unitialized()) {\n  "+n+" = "+R+".get('"+i+"', "+t+", "+r+");\n} else if (!"+n+".supports("+t+")) {\n  "+n+".onDestroy();\n  "+n+" = "+R+".get('"+i+"', "+t+", "+r+");\n}\n\n"+o+" = "+n+".transform("+t+");\nif (! "+Y+".noChangeMarker("+o+")) {\n  "+a+" = true;\n  "+u+"\n  "+c+"\n  "+s+" = "+o+";\n}\n"+p+"\n",P.assert.type.string)}function f(e,t,r,n,i,s,o,a){return P.assert.argumentTypes(e,P.assert.type.number,t,P.assert.type.string,r,P.assert.type.string,n,P.assert.type.string,i,P.assert.type.string,s,P.assert.type.string,o,P.assert.type.string,a,P.assert.type.string),P.assert.returnType("\n"+q+" = "+I+"["+e+"];\n"+t+"\nif ("+n+" !== "+r+" || ("+n+" !== "+n+") && ("+r+" !== "+r+")) {\n  "+i+" = true;\n  "+s+"\n  "+o+"\n  "+r+" = "+n+";\n}\n"+a+"\n",P.assert.type.string)}function h(e,t){return P.assert.argumentTypes(e,P.assert.type.string,t,P.assert.type.string),""+e+" = "+t+";"}function d(e){return P.assert.returnType(e.map(function(e){return"var "+e+";"}).join("\n"),P.assert.type.string)}function y(e){return P.assert.returnType(e.map(function(e){return"var "+e+" = false;"}).join("\n"),P.assert.type.string)}function m(e){return P.assert.returnType(e.map(function(e){return""+e+" = "+Y+".unitialized();"}).join("\n"),P.assert.type.string)}function g(e,t){P.assert.argumentTypes(e,D.List,t,P.assert.type.string);var r=e.join(" || ");return P.assert.returnType("\nif ("+r+") {\n  "+t+"\n}\n",P.assert.type.string)}function v(e,t){return P.assert.argumentTypes(e,P.assert.type.string,t,P.assert.type.string),P.assert.returnType(""+V+" = "+Y+".addChange("+V+", "+q+".bindingRecord.propertyName, "+Y+".simpleChange("+e+", "+t+"));",P.assert.type.string)}function _(e,t,r){return P.assert.argumentTypes(e,P.assert.type.string,t,P.assert.type.string,r,P.assert.type.string),P.assert.returnType("\nif(throwOnChange) "+Y+".throwOnChange("+q+", "+Y+".simpleChange("+e+", "+t+"));\n"+r+" = "+t+";\n"+N+" = true;\n  ",P.assert.type.string)}function b(e,t){return P.assert.argumentTypes(e,P.assert.type.string,t,P.assert.type.string),P.assert.returnType("\nif(throwOnChange) "+Y+".throwOnChange("+q+", "+Y+".simpleChange("+e+", "+t+"));\n"+A+".notifyOnBinding("+q+".bindingRecord, "+t+");\n  ",P.assert.type.string)}function w(e){return P.assert.argumentTypes(e,P.assert.type.string),P.assert.returnType("\nif("+V+") {\n  "+e+".onChange("+V+");\n  "+V+" = null;\n}\n",P.assert.type.string)}function T(e){return P.assert.argumentTypes(e,P.assert.type.string),P.assert.returnType("\nif("+N+") {\n  "+e+".markAsCheckOnce();\n}\n",P.assert.type.string)}function k(e,t){return P.assert.argumentTypes(e,P.assert.type.string,t,P.assert.type.string),P.assert.returnType("\n"+e+"\n"+t+"\n"+N+" = false;\n",P.assert.type.string)}var L=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},M=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var P=r(1),O=r(2),D=r(4),j=r(87),C=r(45),E=r(47),S=r(33),x="AbstractChangeDetector",Y="ChangeDetectionUtil",A="this.dispatcher",R="this.pipeRegistry",I="this.protos",W="this.directiveRecords",F="this.context",N="isChanged",V="changes",B="this.locals",H="this.mode",U="temp",q="currentProto";Object.defineProperty(n,"parameters",{get:function(){return[[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string]]}}),Object.defineProperty(i,"parameters",{get:function(){return[[P.assert.type.string],[P.assert.type.string]]}}),Object.defineProperty(s,"parameters",{get:function(){return[[D.List]]}}),Object.defineProperty(o,"parameters",{get:function(){return[[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[P.assert.genericType(D.List,String)],[P.assert.genericType(D.List,String)]]}}),Object.defineProperty(a,"parameters",{get:function(){return[[P.assert.type.string],[P.assert.type.string]]}}),Object.defineProperty(u,"parameters",{get:function(){return[[P.assert.type.string],[P.assert.type.string]]}}),Object.defineProperty(c,"parameters",{get:function(){return[[P.assert.type.string]]}}),Object.defineProperty(p,"parameters",{get:function(){return[[P.assert.type.string],[P.assert.type.string],[P.assert.type.string]]}}),Object.defineProperty(l,"parameters",{get:function(){return[[P.assert.type.number],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[],[P.assert.type.string]]}}),Object.defineProperty(f,"parameters",{get:function(){return[[P.assert.type.number],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string],[P.assert.type.string]]}}),Object.defineProperty(h,"parameters",{get:function(){return[[P.assert.type.string],[P.assert.type.string]]}}),Object.defineProperty(d,"parameters",{get:function(){return[[D.List]]}}),Object.defineProperty(y,"parameters",{get:function(){return[[D.List]]}}),Object.defineProperty(m,"parameters",{get:function(){return[[D.List]]}}),Object.defineProperty(g,"parameters",{get:function(){return[[D.List],[P.assert.type.string]]}}),Object.defineProperty(v,"parameters",{get:function(){return[[P.assert.type.string],[P.assert.type.string]]}}),Object.defineProperty(_,"parameters",{get:function(){return[[P.assert.type.string],[P.assert.type.string],[P.assert.type.string]]}}),Object.defineProperty(b,"parameters",{get:function(){return[[P.assert.type.string],[P.assert.type.string]]}}),Object.defineProperty(w,"parameters",{get:function(){return[[P.assert.type.string]]}}),Object.defineProperty(T,"parameters",{get:function(){return[[P.assert.type.string]]}}),Object.defineProperty(k,"parameters",{get:function(){return[[P.assert.type.string],[P.assert.type.string]]}});var z=function(){function e(t,r,n,i){L(this,e),P.assert.argumentTypes(t,P.assert.type.string,r,P.assert.type.string,n,P.assert.genericType(D.List,S.ProtoRecord),i,D.List),this.typeName=t,this.changeDetectionStrategy=r,this.records=n,this.directiveRecords=i,this.localNames=this.getLocalNames(n),this.changeNames=this.getChangeNames(this.localNames),this.fieldNames=this.getFieldNames(this.localNames),this.pipeNames=this.getPipeNames(this.localNames)}return M(e,[{key:"getLocalNames",value:function(e){P.assert.argumentTypes(e,P.assert.genericType(D.List,S.ProtoRecord));var t=0,r=e.map(function(e){var r=e.name.replace(new RegExp("\\W","g"),"");return""+r+t++});return P.assert.returnType(["context"].concat(r),P.assert.genericType(D.List,P.assert.type.string))}},{key:"getChangeNames",value:function(e){return P.assert.returnType(e.map(function(e){return"change_"+e}),P.assert.genericType(D.List,P.assert.type.string))}},{key:"getFieldNames",value:function(e){return P.assert.returnType(e.map(function(e){return"this."+e}),P.assert.genericType(D.List,P.assert.type.string))}},{key:"getPipeNames",value:function(e){return P.assert.returnType(e.map(function(e){return"this."+e+"_pipe"}),P.assert.genericType(D.List,P.assert.type.string))}},{key:"generate",value:function(){var e=n(this.typeName,this.genConstructor(),this.genDetectChanges(),this.genCallOnAllChangesDone(),this.genHydrate());return P.assert.returnType(new Function("AbstractChangeDetector","ChangeDetectionUtil","protos","directiveRecords",e)(j.AbstractChangeDetector,C.ChangeDetectionUtil,this.records,this.directiveRecords),Function)}},{key:"genConstructor",value:function(){return P.assert.returnType(i(this.typeName,this.genFieldDefinitions()),P.assert.type.string)}},{key:"genHydrate",value:function(){var e=C.ChangeDetectionUtil.changeDetectionMode(this.changeDetectionStrategy);return P.assert.returnType(o(this.typeName,e,this.genFieldDefinitions(),s(this.getNonNullPipeNames()),this.getDirectiveFieldNames(),this.getDetectorFieldNames()),P.assert.type.string)}},{key:"getDirectiveFieldNames",value:function(){var e=this;return P.assert.returnType(this.directiveRecords.map(function(t){return e.getDirective(t)}),P.assert.genericType(D.List,P.assert.type.string))}},{key:"getDetectorFieldNames",value:function(){var e=this;return P.assert.returnType(this.directiveRecords.filter(function(e){return e.isOnPushChangeDetection()}).map(function(t){return e.getDetector(t)}),P.assert.genericType(D.List,P.assert.type.string))}},{key:"getDirective",value:function(e){return P.assert.argumentTypes(e,E.DirectiveRecord),"this.directive_"+e.name}},{key:"getDetector",value:function(e){return P.assert.argumentTypes(e,E.DirectiveRecord),"this.detector_"+e.name}},{key:"genFieldDefinitions",value:function(){var e=[];return e=e.concat(this.fieldNames),e=e.concat(this.getNonNullPipeNames()),e=e.concat(this.getDirectiveFieldNames()),e=e.concat(this.getDetectorFieldNames()),m(e)}},{key:"getNonNullPipeNames",value:function(){var e=this,t=[];return this.records.forEach(function(r){(r.mode===S.RECORD_TYPE_PIPE||r.mode===S.RECORD_TYPE_BINDING_PIPE)&&t.push(e.pipeNames[r.selfIndex])}),P.assert.returnType(t,P.assert.genericType(D.List,P.assert.type.string))}},{key:"genDetectChanges",value:function(){var e=this.genDetectChangesBody();return P.assert.returnType(a(this.typeName,e),P.assert.type.string)}},{key:"genCallOnAllChangesDone",value:function(){for(var e=[],t=this.directiveRecords,r=t.length-1;r>=0;--r){var n=t[r];if(n.callOnAllChangesDone){var i="this.directive_"+n.name;e.push(c(i))}}return P.assert.returnType(u(this.typeName,e.join(";\n")),P.assert.type.string)}},{key:"genDetectChangesBody",value:function(){var e=this,t=this.records.map(function(t){return e.genRecord(t)}).join("\n");return P.assert.returnType(p(this.genLocalDefinitions(),this.genChangeDefinitions(),t),P.assert.type.string)}},{key:"genLocalDefinitions",value:function(){return P.assert.returnType(d(this.localNames),P.assert.type.string)}},{key:"genChangeDefinitions",value:function(){return P.assert.returnType(y(this.changeNames),P.assert.type.string)}},{key:"genRecord",value:function(e){return P.assert.argumentTypes(e,S.ProtoRecord),e.mode===S.RECORD_TYPE_PIPE||e.mode===S.RECORD_TYPE_BINDING_PIPE?P.assert.returnType(this.genPipeCheck(e),P.assert.type.string):P.assert.returnType(this.genReferenceCheck(e),P.assert.type.string)}},{key:"genPipeCheck",value:function(e){P.assert.argumentTypes(e,S.ProtoRecord);var t=this.localNames[e.contextIndex],r=this.fieldNames[e.selfIndex],n=this.localNames[e.selfIndex],i=this.changeNames[e.selfIndex],s=this.pipeNames[e.selfIndex],o=e.mode===S.RECORD_TYPE_BINDING_PIPE?"this.ref":"null",a=this.genUpdateDirectiveOrElement(e),u=this.genAddToChanges(e),c=this.genLastInDirective(e);return P.assert.returnType(l(e.selfIndex-1,t,o,s,e.name,r,n,i,a,u,c),P.assert.type.string)}},{key:"genReferenceCheck",value:function(e){P.assert.argumentTypes(e,S.ProtoRecord);var t=this.fieldNames[e.selfIndex],r=this.localNames[e.selfIndex],n=this.changeNames[e.selfIndex],i=this.genUpdateCurrentValue(e),s=this.genUpdateDirectiveOrElement(e),o=this.genAddToChanges(e),a=this.genLastInDirective(e),u=f(e.selfIndex-1,i,t,r,n,s,o,a);return e.isPureFunction()?P.assert.returnType(this.ifChangedGuard(e,u),P.assert.type.string):P.assert.returnType(u,P.assert.type.string)}},{key:"genUpdateCurrentValue",value:function(e){P.assert.argumentTypes(e,S.ProtoRecord);var t=this.localNames[e.contextIndex],r=this.localNames[e.selfIndex],n=this.genArgs(e);switch(e.mode){case S.RECORD_TYPE_SELF:return P.assert.returnType(h(r,t),P.assert.type.string);case S.RECORD_TYPE_CONST:return P.assert.returnType(""+r+" = "+this.genLiteral(e.funcOrValue),P.assert.type.string);case S.RECORD_TYPE_PROPERTY:return P.assert.returnType(h(r,""+t+"."+e.name),P.assert.type.string);case S.RECORD_TYPE_LOCAL:return P.assert.returnType(h(r,""+B+".get('"+e.name+"')"),P.assert.type.string);case S.RECORD_TYPE_INVOKE_METHOD:return P.assert.returnType(h(r,""+t+"."+e.name+"("+n+")"),P.assert.type.string);case S.RECORD_TYPE_INVOKE_CLOSURE:return P.assert.returnType(h(r,""+t+"("+n+")"),P.assert.type.string);case S.RECORD_TYPE_PRIMITIVE_OP:return P.assert.returnType(h(r,""+Y+"."+e.name+"("+n+")"),P.assert.type.string);case S.RECORD_TYPE_INTERPOLATE:return P.assert.returnType(h(r,this.genInterpolation(e)),P.assert.type.string);case S.RECORD_TYPE_KEYED_ACCESS:var i=this.localNames[e.args[0]];return P.assert.returnType(h(r,""+t+"["+i+"]"),P.assert.type.string);default:throw new O.BaseException("Unknown operation "+e.mode)}}},{key:"ifChangedGuard",value:function(e,t){var r=this;return P.assert.returnType(g(e.args.map(function(e){return r.changeNames[e]}),t),P.assert.type.string)}},{key:"genInterpolation",value:function(e){P.assert.argumentTypes(e,S.ProtoRecord);for(var t="",r=0;r<e.args.length;++r)t+=this.genLiteral(e.fixedArgs[r]),t+=" + ",t+=this.localNames[e.args[r]],t+=" + ";return t+=this.genLiteral(e.fixedArgs[e.args.length]),P.assert.returnType(t,P.assert.type.string)}},{key:"genLiteral",value:function(e){return P.assert.returnType(JSON.stringify(e),P.assert.type.string)}},{key:"genUpdateDirectiveOrElement",value:function(e){if(P.assert.argumentTypes(e,S.ProtoRecord),!e.lastInBinding)return P.assert.returnType("",P.assert.type.string);var t=this.localNames[e.selfIndex],r=this.fieldNames[e.selfIndex],n=e.bindingRecord;if(n.isDirective()){var i=""+this.getDirective(n.directiveRecord)+"."+n.propertyName;return P.assert.returnType(_(r,t,i),P.assert.type.string)}return P.assert.returnType(b(r,t),P.assert.type.string)}},{key:"genAddToChanges",value:function(e){P.assert.argumentTypes(e,S.ProtoRecord);var t=this.localNames[e.selfIndex],r=this.fieldNames[e.selfIndex];return P.assert.returnType(e.bindingRecord.callOnChange()?v(r,t):"",P.assert.type.string)}},{key:"genLastInDirective",value:function(e){P.assert.argumentTypes(e,S.ProtoRecord);var t=this.genNotifyOnChanges(e),r=this.genNotifyOnPushDetectors(e);return P.assert.returnType(k(t,r),P.assert.type.string)}},{key:"genNotifyOnChanges",value:function(e){P.assert.argumentTypes(e,S.ProtoRecord);var t=e.bindingRecord;return e.lastInDirective&&t.callOnChange()?P.assert.returnType(w(this.getDirective(t.directiveRecord)),P.assert.type.string):P.assert.returnType("",P.assert.type.string)}},{key:"genNotifyOnPushDetectors",value:function(e){P.assert.argumentTypes(e,S.ProtoRecord);var t=e.bindingRecord;return e.lastInDirective&&t.isOnPushChangeDetection()?P.assert.returnType(T(this.getDetector(t.directiveRecord)),P.assert.type.string):P.assert.returnType("",P.assert.type.string)}},{key:"genArgs",value:function(e){var t=this;return P.assert.returnType(e.args.map(function(e){return t.localNames[e]}).join(", "),P.assert.type.string)}}]),e}();t.ChangeDetectorJITGenerator=z,Object.defineProperty(z,"parameters",{get:function(){return[[P.assert.type.string],[P.assert.type.string],[P.assert.genericType(D.List,S.ProtoRecord)],[D.List]]}}),Object.defineProperty(z.prototype.getLocalNames,"parameters",{get:function(){return[[P.assert.genericType(D.List,S.ProtoRecord)]]}}),Object.defineProperty(z.prototype.getChangeNames,"parameters",{get:function(){return[[P.assert.genericType(D.List,P.assert.type.string)]]}}),Object.defineProperty(z.prototype.getFieldNames,"parameters",{get:function(){return[[P.assert.genericType(D.List,P.assert.type.string)]]}}),Object.defineProperty(z.prototype.getPipeNames,"parameters",{get:function(){return[[P.assert.genericType(D.List,P.assert.type.string)]]}}),Object.defineProperty(z.prototype.getDirective,"parameters",{get:function(){return[[E.DirectiveRecord]]}}),Object.defineProperty(z.prototype.getDetector,"parameters",{get:function(){return[[E.DirectiveRecord]]}}),Object.defineProperty(z.prototype.genRecord,"parameters",{get:function(){return[[S.ProtoRecord]]}}),Object.defineProperty(z.prototype.genPipeCheck,"parameters",{get:function(){return[[S.ProtoRecord]]}}),Object.defineProperty(z.prototype.genReferenceCheck,"parameters",{get:function(){return[[S.ProtoRecord]]}}),Object.defineProperty(z.prototype.genUpdateCurrentValue,"parameters",{get:function(){return[[S.ProtoRecord]]}}),Object.defineProperty(z.prototype.ifChangedGuard,"parameters",{get:function(){return[[S.ProtoRecord],[P.assert.type.string]]}}),Object.defineProperty(z.prototype.genInterpolation,"parameters",{get:function(){return[[S.ProtoRecord]]}}),Object.defineProperty(z.prototype.genUpdateDirectiveOrElement,"parameters",{get:function(){return[[S.ProtoRecord]]}}),Object.defineProperty(z.prototype.genAddToChanges,"parameters",{get:function(){return[[S.ProtoRecord]]}}),Object.defineProperty(z.prototype.genLastInDirective,"parameters",{get:function(){return[[S.ProtoRecord]]}}),Object.defineProperty(z.prototype.genNotifyOnChanges,"parameters",{get:function(){return[[S.ProtoRecord]]}}),Object.defineProperty(z.prototype.genNotifyOnPushDetectors,"parameters",{get:function(){return[[S.ProtoRecord]]}}),Object.defineProperty(z.prototype.genArgs,"parameters",{get:function(){return[[S.ProtoRecord]]}})},function(e,t,r){"use strict";function n(e){u.assert.argumentTypes(e,u.assert.genericType(p.List,l.ProtoRecord));for(var t=p.ListWrapper.create(),r=p.MapWrapper.create(),n=0;n<e.length;++n){var a=e[n],f=o(a,t.length+1,r),h=s(f,t);c.isPresent(h)&&f.lastInBinding?(p.ListWrapper.push(t,i(f,h.selfIndex,t.length+1)),p.MapWrapper.set(r,a.selfIndex,h.selfIndex)):c.isPresent(h)&&!f.lastInBinding?p.MapWrapper.set(r,a.selfIndex,h.selfIndex):(p.ListWrapper.push(t,f),p.MapWrapper.set(r,a.selfIndex,f.selfIndex))}return u.assert.returnType(t,u.assert.genericType(p.List,l.ProtoRecord))}function i(e,t,r){return u.assert.argumentTypes(e,l.ProtoRecord,t,u.assert.type.number,r,u.assert.type.number),u.assert.returnType(new l.ProtoRecord(l.RECORD_TYPE_SELF,"self",null,[],e.fixedArgs,t,r,e.bindingRecord,e.expressionAsString,e.lastInBinding,e.lastInDirective),l.ProtoRecord)}function s(e,t){return p.ListWrapper.find(t,function(t){return t.mode===e.mode&&t.funcOrValue===e.funcOrValue&&t.contextIndex===e.contextIndex&&p.ListWrapper.equals(t.args,e.args)})}function o(e,t,r){var n=p.ListWrapper.map(e.args,function(e){return a(r,e)}),i=a(r,e.contextIndex);return new l.ProtoRecord(e.mode,e.name,e.funcOrValue,n,e.fixedArgs,i,t,e.bindingRecord,e.expressionAsString,e.lastInBinding,e.lastInDirective)}function a(e,t){u.assert.argumentTypes(e,p.Map,t,u.assert.type.number);var r=p.MapWrapper.get(e,t);return c.isPresent(r)?r:t}Object.defineProperty(t,"__esModule",{
value:!0}),t.coalesce=n;var u=r(1),c=r(2),p=r(4),l=r(33);Object.defineProperty(n,"parameters",{get:function(){return[[u.assert.genericType(p.List,l.ProtoRecord)]]}}),Object.defineProperty(i,"parameters",{get:function(){return[[l.ProtoRecord],[u.assert.type.number],[u.assert.type.number]]}}),Object.defineProperty(s,"parameters",{get:function(){return[[l.ProtoRecord],[u.assert.genericType(p.List,l.ProtoRecord)]]}}),Object.defineProperty(o,"parameters",{get:function(){return[[l.ProtoRecord],[u.assert.type.number],[p.Map]]}}),Object.defineProperty(a,"parameters",{get:function(){return[[p.Map],[u.assert.type.number]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(7),a=r(2),u=r(4),c=r(89),p=r(22),l=r(48),f=new l.ImplicitReceiver,h=a.RegExpWrapper.create("\\{\\{(.*?)\\}\\}"),d=(a.RegExpWrapper.create("'"),function(){function e(t){var r=void 0===arguments[1]?null:arguments[1];n(this,e),s.assert.argumentTypes(t,c.Lexer,r,p.Reflector),this._lexer=t,this._reflector=a.isPresent(r)?r:p.reflector}return i(e,[{key:"parseAction",value:function(e,t){s.assert.argumentTypes(e,s.assert.type.string,t,s.assert.type.any);var r=this._lexer.tokenize(e),n=new y(e,t,r,this._reflector,!0).parseChain();return s.assert.returnType(new l.ASTWithSource(n,e,t),l.ASTWithSource)}},{key:"parseBinding",value:function(e,t){s.assert.argumentTypes(e,s.assert.type.string,t,s.assert.type.any);var r=this._lexer.tokenize(e),n=new y(e,t,r,this._reflector,!1).parseChain();return s.assert.returnType(new l.ASTWithSource(n,e,t),l.ASTWithSource)}},{key:"addPipes",value:function(e,t){if(u.ListWrapper.isEmpty(t))return s.assert.returnType(e,l.ASTWithSource);var r=u.ListWrapper.reduce(t,function(e,t){return new l.Pipe(e,t,[],!1)},e.ast);return s.assert.returnType(new l.ASTWithSource(r,e.source,e.location),l.ASTWithSource)}},{key:"parseTemplateBindings",value:function(e,t){s.assert.argumentTypes(e,s.assert.type.string,t,s.assert.type.any);var r=this._lexer.tokenize(e);return s.assert.returnType(new y(e,t,r,this._reflector,!1).parseTemplateBindings(),s.assert.genericType(u.List,l.TemplateBinding))}},{key:"parseInterpolation",value:function(e,t){s.assert.argumentTypes(e,s.assert.type.string,t,s.assert.type.any);var r=a.StringWrapper.split(e,h);if(r.length<=1)return s.assert.returnType(null,l.ASTWithSource);for(var n=[],i=[],o=0;o<r.length;o++){var c=r[o];if(o%2===0)u.ListWrapper.push(n,c);else{var p=this._lexer.tokenize(c),f=new y(e,t,p,this._reflector,!1).parseChain();u.ListWrapper.push(i,f)}}return s.assert.returnType(new l.ASTWithSource(new l.Interpolation(n,i),e,t),l.ASTWithSource)}},{key:"wrapLiteralPrimitive",value:function(e,t){return s.assert.argumentTypes(e,s.assert.type.string,t,s.assert.type.any),s.assert.returnType(new l.ASTWithSource(new l.LiteralPrimitive(e),e,t),l.ASTWithSource)}}]),e}());t.Parser=d,Object.defineProperty(d,"annotations",{get:function(){return[new o.Injectable]}}),Object.defineProperty(d,"parameters",{get:function(){return[[c.Lexer],[p.Reflector]]}}),Object.defineProperty(d.prototype.parseAction,"parameters",{get:function(){return[[s.assert.type.string],[s.assert.type.any]]}}),Object.defineProperty(d.prototype.parseBinding,"parameters",{get:function(){return[[s.assert.type.string],[s.assert.type.any]]}}),Object.defineProperty(d.prototype.addPipes,"parameters",{get:function(){return[[l.ASTWithSource],[s.assert.genericType(u.List,String)]]}}),Object.defineProperty(d.prototype.parseTemplateBindings,"parameters",{get:function(){return[[s.assert.type.string],[s.assert.type.any]]}}),Object.defineProperty(d.prototype.parseInterpolation,"parameters",{get:function(){return[[s.assert.type.string],[s.assert.type.any]]}}),Object.defineProperty(d.prototype.wrapLiteralPrimitive,"parameters",{get:function(){return[[s.assert.type.string],[s.assert.type.any]]}});var y=function(){function e(t,r,i,o,a){n(this,e),s.assert.argumentTypes(t,s.assert.type.string,r,s.assert.type.any,i,u.List,o,p.Reflector,a,s.assert.type["boolean"]),this.input=t,this.location=r,this.tokens=i,this.index=0,this.reflector=o,this.parseAction=a}return i(e,[{key:"peek",value:function(e){s.assert.argumentTypes(e,a["int"]);var t=this.index+e;return s.assert.returnType(t<this.tokens.length?this.tokens[t]:c.EOF,c.Token)}},{key:"next",get:function(){return s.assert.returnType(this.peek(0),c.Token)}},{key:"inputIndex",get:function(){return s.assert.returnType(this.index<this.tokens.length?this.next.index:this.input.length,a["int"])}},{key:"advance",value:function(){this.index++}},{key:"optionalCharacter",value:function(e){return s.assert.argumentTypes(e,a["int"]),this.next.isCharacter(e)?(this.advance(),s.assert.returnType(!0,s.assert.type["boolean"])):s.assert.returnType(!1,s.assert.type["boolean"])}},{key:"optionalKeywordVar",value:function(){return this.peekKeywordVar()?(this.advance(),s.assert.returnType(!0,s.assert.type["boolean"])):s.assert.returnType(!1,s.assert.type["boolean"])}},{key:"peekKeywordVar",value:function(){return s.assert.returnType(this.next.isKeywordVar()||this.next.isOperator("#"),s.assert.type["boolean"])}},{key:"expectCharacter",value:function(e){s.assert.argumentTypes(e,a["int"]),this.optionalCharacter(e)||this.error("Missing expected "+a.StringWrapper.fromCharCode(e))}},{key:"optionalOperator",value:function(e){return s.assert.argumentTypes(e,s.assert.type.string),this.next.isOperator(e)?(this.advance(),s.assert.returnType(!0,s.assert.type["boolean"])):s.assert.returnType(!1,s.assert.type["boolean"])}},{key:"expectOperator",value:function(e){s.assert.argumentTypes(e,s.assert.type.string),this.optionalOperator(e)||this.error("Missing expected operator "+e)}},{key:"expectIdentifierOrKeyword",value:function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||this.error("Unexpected token "+e+", expected identifier or keyword"),this.advance(),s.assert.returnType(e.toString(),s.assert.type.string)}},{key:"expectIdentifierOrKeywordOrString",value:function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()||this.error("Unexpected token "+e+", expected identifier, keyword, or string"),this.advance(),s.assert.returnType(e.toString(),s.assert.type.string)}},{key:"parseChain",value:function(){for(var e=[];this.index<this.tokens.length;){var t=this.parsePipe();if(u.ListWrapper.push(e,t),this.optionalCharacter(c.$SEMICOLON))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(c.$SEMICOLON););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==e.length?s.assert.returnType(new l.EmptyExpr,l.AST):1==e.length?s.assert.returnType(e[0],l.AST):s.assert.returnType(new l.Chain(e),l.AST)}},{key:"parsePipe",value:function(){var e=this.parseExpression();return this.optionalOperator("|")?this.parseInlinedPipe(e):e}},{key:"parseExpression",value:function(){for(var e=this.inputIndex,t=this.parseConditional();this.next.isOperator("=");){if(!t.isAssignable){var r=this.inputIndex,n=this.input.substring(e,r);this.error("Expression "+n+" is not assignable")}this.parseAction||this.error("Binding expression cannot contain assignments"),this.expectOperator("="),t=new l.Assignment(t,this.parseConditional())}return t}},{key:"parseConditional",value:function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){var r=this.parseExpression();if(!this.optionalCharacter(c.$COLON)){var n=this.inputIndex,i=this.input.substring(e,n);this.error("Conditional expression "+i+" requires all 3 expressions")}var s=this.parseExpression();return new l.Conditional(t,r,s)}return t}},{key:"parseLogicalOr",value:function(){for(var e=this.parseLogicalAnd();this.optionalOperator("||");)e=new l.Binary("||",e,this.parseLogicalAnd());return e}},{key:"parseLogicalAnd",value:function(){for(var e=this.parseEquality();this.optionalOperator("&&");)e=new l.Binary("&&",e,this.parseEquality());return e}},{key:"parseEquality",value:function(){for(var e=this.parseRelational();;)if(this.optionalOperator("=="))e=new l.Binary("==",e,this.parseRelational());else{if(!this.optionalOperator("!="))return e;e=new l.Binary("!=",e,this.parseRelational())}}},{key:"parseRelational",value:function(){for(var e=this.parseAdditive();;)if(this.optionalOperator("<"))e=new l.Binary("<",e,this.parseAdditive());else if(this.optionalOperator(">"))e=new l.Binary(">",e,this.parseAdditive());else if(this.optionalOperator("<="))e=new l.Binary("<=",e,this.parseAdditive());else{if(!this.optionalOperator(">="))return e;e=new l.Binary(">=",e,this.parseAdditive())}}},{key:"parseAdditive",value:function(){for(var e=this.parseMultiplicative();;)if(this.optionalOperator("+"))e=new l.Binary("+",e,this.parseMultiplicative());else{if(!this.optionalOperator("-"))return e;e=new l.Binary("-",e,this.parseMultiplicative())}}},{key:"parseMultiplicative",value:function(){for(var e=this.parsePrefix();;)if(this.optionalOperator("*"))e=new l.Binary("*",e,this.parsePrefix());else if(this.optionalOperator("%"))e=new l.Binary("%",e,this.parsePrefix());else{if(!this.optionalOperator("/"))return e;e=new l.Binary("/",e,this.parsePrefix())}}},{key:"parsePrefix",value:function(){return this.optionalOperator("+")?this.parsePrefix():this.optionalOperator("-")?new l.Binary("-",new l.LiteralPrimitive(0),this.parsePrefix()):this.optionalOperator("!")?new l.PrefixNot(this.parsePrefix()):this.parseCallChain()}},{key:"parseCallChain",value:function(){for(var e=this.parsePrimary();;)if(this.optionalCharacter(c.$PERIOD))e=this.parseAccessMemberOrMethodCall(e);else if(this.optionalCharacter(c.$LBRACKET)){var t=this.parseExpression();this.expectCharacter(c.$RBRACKET),e=new l.KeyedAccess(e,t)}else{if(!this.optionalCharacter(c.$LPAREN))return s.assert.returnType(e,l.AST);var r=this.parseCallArguments();this.expectCharacter(c.$RPAREN),e=new l.FunctionCall(e,r)}}},{key:"parsePrimary",value:function(){if(this.optionalCharacter(c.$LPAREN)){var e=this.parsePipe();return this.expectCharacter(c.$RPAREN),e}if(this.next.isKeywordNull()||this.next.isKeywordUndefined())return this.advance(),new l.LiteralPrimitive(null);if(this.next.isKeywordTrue())return this.advance(),new l.LiteralPrimitive(!0);if(this.next.isKeywordFalse())return this.advance(),new l.LiteralPrimitive(!1);if(this.optionalCharacter(c.$LBRACKET)){var t=this.parseExpressionList(c.$RBRACKET);return this.expectCharacter(c.$RBRACKET),new l.LiteralArray(t)}if(this.next.isCharacter(c.$LBRACE))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(f);if(this.next.isNumber()){var r=this.next.toNumber();return this.advance(),new l.LiteralPrimitive(r)}if(this.next.isString()){var r=this.next.toString();return this.advance(),new l.LiteralPrimitive(r)}this.error(this.index>=this.tokens.length?"Unexpected end of expression: "+this.input:"Unexpected token "+this.next)}},{key:"parseExpressionList",value:function(e){s.assert.argumentTypes(e,a["int"]);var t=[];if(!this.next.isCharacter(e))do u.ListWrapper.push(t,this.parseExpression());while(this.optionalCharacter(c.$COMMA));return s.assert.returnType(t,u.List)}},{key:"parseLiteralMap",value:function(){var e=[],t=[];if(this.expectCharacter(c.$LBRACE),!this.optionalCharacter(c.$RBRACE)){do{var r=this.expectIdentifierOrKeywordOrString();u.ListWrapper.push(e,r),this.expectCharacter(c.$COLON),u.ListWrapper.push(t,this.parseExpression())}while(this.optionalCharacter(c.$COMMA));this.expectCharacter(c.$RBRACE)}return new l.LiteralMap(e,t)}},{key:"parseAccessMemberOrMethodCall",value:function(e){var t=this.expectIdentifierOrKeyword();if(this.optionalCharacter(c.$LPAREN)){var r=this.parseCallArguments();this.expectCharacter(c.$RPAREN);var n=this.reflector.method(t);return s.assert.returnType(new l.MethodCall(e,t,n,r),l.AST)}var i=this.reflector.getter(t),o=this.reflector.setter(t),a=new l.AccessMember(e,t,i,o);return this.optionalOperator("|")?s.assert.returnType(this.parseInlinedPipe(a),l.AST):s.assert.returnType(a,l.AST)}},{key:"parseInlinedPipe",value:function(e){do{this.parseAction&&this.error("Cannot have a pipe in an action expression");for(var t=this.expectIdentifierOrKeyword(),r=u.ListWrapper.create();this.optionalCharacter(c.$COLON);)u.ListWrapper.push(r,this.parseExpression());e=new l.Pipe(e,t,r,!0)}while(this.optionalOperator("|"));return e}},{key:"parseCallArguments",value:function(){if(this.next.isCharacter(c.$RPAREN))return[];var e=[];do u.ListWrapper.push(e,this.parseExpression());while(this.optionalCharacter(c.$COMMA));return e}},{key:"expectTemplateBindingKey",value:function(){var e="",t=!1;do e+=this.expectIdentifierOrKeywordOrString(),t=this.optionalOperator("-"),t&&(e+="-");while(t);return e.toString()}},{key:"parseTemplateBindings",value:function(){for(var e=[];this.index<this.tokens.length;){var t=s.assert.type(this.optionalKeywordVar(),s.assert.type["boolean"]),r=this.expectTemplateBindingKey();this.optionalCharacter(c.$COLON);var n=null,i=null;if(this.next!==c.EOF)if(t)n=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(!this.peekKeywordVar()){var o=this.inputIndex,a=this.parsePipe(),p=this.input.substring(o,this.inputIndex);i=new l.ASTWithSource(a,p,this.location)}u.ListWrapper.push(e,new l.TemplateBinding(r,t,n,i)),this.optionalCharacter(c.$SEMICOLON)||this.optionalCharacter(c.$COMMA)}return e}},{key:"error",value:function(e){var t=void 0===arguments[1]?null:arguments[1];s.assert.argumentTypes(e,s.assert.type.string,t,a["int"]),a.isBlank(t)&&(t=this.index);var r=t<this.tokens.length?"at column "+(this.tokens[t].index+1)+" in":"at the end of the expression";throw new a.BaseException("Parser Error: "+e+" "+r+" ["+this.input+"] in "+this.location)}}]),e}();Object.defineProperty(y,"parameters",{get:function(){return[[s.assert.type.string],[s.assert.type.any],[u.List],[p.Reflector],[s.assert.type["boolean"]]]}}),Object.defineProperty(y.prototype.peek,"parameters",{get:function(){return[[a["int"]]]}}),Object.defineProperty(y.prototype.optionalCharacter,"parameters",{get:function(){return[[a["int"]]]}}),Object.defineProperty(y.prototype.expectCharacter,"parameters",{get:function(){return[[a["int"]]]}}),Object.defineProperty(y.prototype.optionalOperator,"parameters",{get:function(){return[[s.assert.type.string]]}}),Object.defineProperty(y.prototype.expectOperator,"parameters",{get:function(){return[[s.assert.type.string]]}}),Object.defineProperty(y.prototype.parseExpressionList,"parameters",{get:function(){return[[a["int"]]]}}),Object.defineProperty(y.prototype.error,"parameters",{get:function(){return[[s.assert.type.string],[a["int"]]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function d(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:d(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(9),c=r(2),p=r(27),l=r(46),f=function(e){function t(e){n(this,t),a.assert.argumentTypes(e,l.ChangeDetectorRef),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._observable=null}return o(t,e),i(t,[{key:"supports",value:function(e){return a.assert.returnType(u.ObservableWrapper.isObservable(e),a.assert.type["boolean"])}},{key:"onDestroy",value:function(){c.isPresent(this._subscription)&&this._dispose()}},{key:"transform",value:function(e){return a.assert.argumentTypes(e,u.Observable),c.isBlank(this._subscription)?(this._subscribe(e),a.assert.returnType(null,a.assert.type.any)):e!==this._observable?(this._dispose(),a.assert.returnType(this.transform(e),a.assert.type.any)):this._latestValue===this._latestReturnedValue?a.assert.returnType(p.NO_CHANGE,a.assert.type.any):(this._latestReturnedValue=this._latestValue,a.assert.returnType(this._latestValue,a.assert.type.any))}},{key:"_subscribe",value:function(e){var t=this;this._observable=e,this._subscription=u.ObservableWrapper.subscribe(e,function(e){return t._updateLatestValue(e)},function(e){throw e})}},{key:"_dispose",value:function(){u.ObservableWrapper.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._observable=null}},{key:"_updateLatestValue",value:function(e){a.assert.argumentTypes(e,Object),this._latestValue=e,this._ref.requestCheck()}}]),t}(p.Pipe);t.AsyncPipe=f,Object.defineProperty(f,"parameters",{get:function(){return[[l.ChangeDetectorRef]]}}),Object.defineProperty(f.prototype.transform,"parameters",{get:function(){return[[u.Observable]]}}),Object.defineProperty(f.prototype._subscribe,"parameters",{get:function(){return[[u.Observable]]}}),Object.defineProperty(f.prototype._updateLatestValue,"parameters",{get:function(){return[[Object]]}});var h=function(){function e(){n(this,e)}return i(e,[{key:"supports",value:function(e){return a.assert.returnType(u.ObservableWrapper.isObservable(e),a.assert.type["boolean"])}},{key:"create",value:function(e){return a.assert.returnType(new f(e),p.Pipe)}}]),e}();t.AsyncPipeFactory=h},function(e,t,r){"use strict";var n=function m(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:m(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(4),c=r(2),p=r(27),l=function(){function e(){s(this,e)}return o(e,[{key:"supports",value:function(e){return a.assert.returnType(f.supportsObj(e),a.assert.type["boolean"])}},{key:"create",value:function(e){return a.assert.returnType(new f,p.Pipe)}}]),e}();t.IterableChangesFactory=l;var f=function(e){function t(){s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._collection=null,this._length=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null}return i(t,e),o(t,[{key:"supports",value:function(e){return a.assert.returnType(t.supportsObj(e),a.assert.type["boolean"])}},{key:"collection",get:function(){return this._collection}},{key:"length",get:function(){return a.assert.returnType(this._length,c["int"])}},{key:"forEachItem",value:function(e){a.assert.argumentTypes(e,Function);var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){a.assert.argumentTypes(e,Function);var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){a.assert.argumentTypes(e,Function);var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){a.assert.argumentTypes(e,Function);var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){a.assert.argumentTypes(e,Function);var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"transform",value:function(e){return this.check(e)?this:p.NO_CHANGE}},{key:"check",value:function(e){var t=this;this._reset();var r,n,i=a.assert.type(this._itHead,h),s=a.assert.type(!1,a.assert.type["boolean"]);if(u.ListWrapper.isList(e)){var o=e;for(this._length=e.length,r=0;r<this._length;r++)n=o[r],null!==i&&c.looseIdentical(i.item,n)?s&&(i=this._verifyReinsertion(i,n,r)):(i=this._mismatch(i,n,r),s=!0),i=i._next}else r=0,u.iterateListLike(e,function(e){null!==i&&c.looseIdentical(i.item,e)?s&&(i=t._verifyReinsertion(i,e,r)):(i=t._mismatch(i,e,r),s=!0),i=i._next,r++}),this._length=r;return this._truncate(i),this._collection=e,a.assert.returnType(this.isDirty,a.assert.type["boolean"])}},{key:"isDirty",get:function(){return a.assert.returnType(null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead,a.assert.type["boolean"])}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null}}},{key:"_mismatch",value:function(e,t,r){a.assert.argumentTypes(e,h,t,a.assert.type.any,r,c["int"]);var n;return null===e?n=this._itTail:(n=e._prev,this._remove(e)),e=null===this._linkedRecords?null:this._linkedRecords.get(t,r),null!==e?this._moveAfter(e,n,r):(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(t),null!==e?this._reinsertAfter(e,n,r):e=this._addAfter(new h(t),n,r)),a.assert.returnType(e,h)}},{key:"_verifyReinsertion",value:function(e,t,r){a.assert.argumentTypes(e,h,t,a.assert.type.any,r,c["int"]);var n=a.assert.type(null===this._unlinkedRecords?null:this._unlinkedRecords.get(t),h);return null!==n?e=this._reinsertAfter(n,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),a.assert.returnType(e,h)}},{key:"_truncate",value:function(e){for(a.assert.argumentTypes(e,h);null!==e;){var t=a.assert.type(e._next,h);this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null)}},{key:"_reinsertAfter",value:function(e,t,r){a.assert.argumentTypes(e,h,t,h,r,c["int"]),null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var n=e._prevRemoved,i=e._nextRemoved;return null===n?this._removalsHead=i:n._nextRemoved=i,null===i?this._removalsTail=n:i._prevRemoved=n,this._insertAfter(e,t,r),this._addToMoves(e,r),a.assert.returnType(e,h)}},{key:"_moveAfter",value:function(e,t,r){return a.assert.argumentTypes(e,h,t,h,r,c["int"]),this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),a.assert.returnType(e,h)}},{key:"_addAfter",value:function(e,t,r){return a.assert.argumentTypes(e,h,t,h,r,c["int"]),this._insertAfter(e,t,r),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,a.assert.returnType(e,h)}},{key:"_insertAfter",value:function(e,t,r){a.assert.argumentTypes(e,h,t,h,r,c["int"]);var n=a.assert.type(null===t?this._itHead:t._next,h);return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new y),this._linkedRecords.put(e),e.currentIndex=r,a.assert.returnType(e,h)}},{key:"_remove",value:function(e){return a.assert.argumentTypes(e,h),a.assert.returnType(this._addToRemovals(this._unlink(e)),h)}},{key:"_unlink",value:function(e){a.assert.argumentTypes(e,h),null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,a.assert.returnType(e,h)}},{key:"_addToMoves",value:function(e,t){return a.assert.argumentTypes(e,h,t,c["int"]),e.previousIndex===t?a.assert.returnType(e,h):(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e,a.assert.returnType(e,h))}},{key:"_addToRemovals",value:function(e){return a.assert.argumentTypes(e,h),null===this._unlinkedRecords&&(this._unlinkedRecords=new y),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),a.assert.returnType(e,h)}},{key:"toString",value:function(){var e,t=[];for(e=this._itHead;null!==e;e=e._next)u.ListWrapper.push(t,e);var r=[];for(e=this._previousItHead;null!==e;e=e._nextPrevious)u.ListWrapper.push(r,e);var n=[];for(e=this._additionsHead;null!==e;e=e._nextAdded)u.ListWrapper.push(n,e);var i=[];for(e=this._movesHead;null!==e;e=e._nextMoved)u.ListWrapper.push(i,e);var s=[];for(e=this._removalsHead;null!==e;e=e._nextRemoved)u.ListWrapper.push(s,e);return a.assert.returnType("collection: "+t.join(", ")+"\nprevious: "+r.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+i.join(", ")+"\nremovals: "+s.join(", ")+"\n",a.assert.type.string)}}],[{key:"supportsObj",value:function(e){return a.assert.returnType(u.isListLikeIterable(e),a.assert.type["boolean"])}}]),t}(p.Pipe);t.IterableChanges=f,Object.defineProperty(f.prototype.forEachItem,"parameters",{get:function(){return[[Function]]}}),Object.defineProperty(f.prototype.forEachPreviousItem,"parameters",{get:function(){return[[Function]]}}),Object.defineProperty(f.prototype.forEachAddedItem,"parameters",{get:function(){return[[Function]]}}),Object.defineProperty(f.prototype.forEachMovedItem,"parameters",{get:function(){return[[Function]]}}),Object.defineProperty(f.prototype.forEachRemovedItem,"parameters",{get:function(){return[[Function]]}}),Object.defineProperty(f.prototype._mismatch,"parameters",{get:function(){return[[h],[],[c["int"]]]}}),Object.defineProperty(f.prototype._verifyReinsertion,"parameters",{get:function(){return[[h],[],[c["int"]]]}}),Object.defineProperty(f.prototype._truncate,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(f.prototype._reinsertAfter,"parameters",{get:function(){return[[h],[h],[c["int"]]]}}),Object.defineProperty(f.prototype._moveAfter,"parameters",{get:function(){return[[h],[h],[c["int"]]]}}),Object.defineProperty(f.prototype._addAfter,"parameters",{get:function(){return[[h],[h],[c["int"]]]}}),Object.defineProperty(f.prototype._insertAfter,"parameters",{get:function(){return[[h],[h],[c["int"]]]}}),Object.defineProperty(f.prototype._remove,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(f.prototype._unlink,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(f.prototype._addToMoves,"parameters",{get:function(){return[[h],[c["int"]]]}}),Object.defineProperty(f.prototype._addToRemovals,"parameters",{get:function(){return[[h]]}});var h=function(){function e(t){s(this,e),this.currentIndex=null,this.previousIndex=null,this.item=t,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null}return o(e,[{key:"toString",value:function(){return a.assert.returnType(this.previousIndex===this.currentIndex?c.stringify(this.item):c.stringify(this.item)+"["+c.stringify(this.previousIndex)+"->"+c.stringify(this.currentIndex)+"]",a.assert.type.string)}}]),e}();t.CollectionChangeRecord=h;var d=function(){function e(){s(this,e),this._head=null,this._tail=null}return o(e,[{key:"add",value:function(e){a.assert.argumentTypes(e,h),null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){a.assert.argumentTypes(e,a.assert.type.any,t,c["int"]);var r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<r.currentIndex)&&c.looseIdentical(r.item,e))return a.assert.returnType(r,h);return a.assert.returnType(null,h)}},{key:"remove",value:function(e){a.assert.argumentTypes(e,h);var t=a.assert.type(e._prevDup,h),r=a.assert.type(e._nextDup,h);return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,a.assert.returnType(null===this._head,a.assert.type["boolean"])}}]),e}();Object.defineProperty(d.prototype.add,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(d.prototype.get,"parameters",{get:function(){return[[],[c["int"]]]}}),Object.defineProperty(d.prototype.remove,"parameters",{get:function(){return[[h]]}});var y=function(){function e(){s(this,e),this.map=u.MapWrapper.create()}return o(e,[{key:"put",value:function(e){a.assert.argumentTypes(e,h);var t=c.getMapKey(e.item),r=u.MapWrapper.get(this.map,t);c.isPresent(r)||(r=new d,u.MapWrapper.set(this.map,t,r)),r.add(e)}},{key:"get",value:function(e){var t=void 0===arguments[1]?null:arguments[1],r=c.getMapKey(e),n=u.MapWrapper.get(this.map,r);return a.assert.returnType(c.isBlank(n)?null:n.get(e,t),h)}},{key:"remove",value:function(e){a.assert.argumentTypes(e,h);var t=c.getMapKey(e.item),r=a.assert.type(u.MapWrapper.get(this.map,t),d);return r.remove(e)&&u.MapWrapper["delete"](this.map,t),a.assert.returnType(e,h)}},{key:"isEmpty",get:function(){return a.assert.returnType(0===u.MapWrapper.size(this.map),a.assert.type["boolean"])}},{key:"clear",value:function(){u.MapWrapper.clear(this.map)}},{key:"toString",value:function(){return a.assert.returnType("_DuplicateMap("+c.stringify(this.map)+")",a.assert.type.string)}}]),e}();Object.defineProperty(y.prototype.put,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(y.prototype.remove,"parameters",{get:function(){return[[h]]}})},function(e,t,r){"use strict";var n=function d(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:d(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(4),c=r(2),p=r(27),l=function(){function e(){s(this,e)}return o(e,[{key:"supports",value:function(e){return a.assert.returnType(f.supportsObj(e),a.assert.type["boolean"])}},{key:"create",value:function(e){return a.assert.returnType(new f,p.Pipe)}}]),e}();t.KeyValueChangesFactory=l;var f=function(e){function t(){s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._records=u.MapWrapper.create(),this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,
this._removalsTail=null}return i(t,e),o(t,[{key:"supports",value:function(e){return a.assert.returnType(t.supportsObj(e),a.assert.type["boolean"])}},{key:"transform",value:function(e){return this.check(e)?this:p.NO_CHANGE}},{key:"isDirty",get:function(){return a.assert.returnType(null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead,a.assert.type["boolean"])}},{key:"forEachItem",value:function(e){a.assert.argumentTypes(e,Function);var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){a.assert.argumentTypes(e,Function);var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){a.assert.argumentTypes(e,Function);var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){a.assert.argumentTypes(e,Function);var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){a.assert.argumentTypes(e,Function);var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"check",value:function(e){var t=this;this._reset();var r=this._records,n=a.assert.type(this._mapHead,h),i=a.assert.type(null,h),s=a.assert.type(null,h),o=a.assert.type(!1,a.assert.type["boolean"]);return this._forEach(e,function(e,a){var p;null!==n&&a===n.key?(p=n,c.looseIdentical(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,t._addToChanges(n))):(o=!0,null!==n&&(n._next=null,t._removeFromSeq(i,n),t._addToRemovals(n)),u.MapWrapper.contains(r,a)?p=u.MapWrapper.get(r,a):(p=new h(a),u.MapWrapper.set(r,a,p),p.currentValue=e,t._addToAdditions(p))),o&&(t._isInRemovals(p)&&t._removeFromRemovals(p),null==s?t._mapHead=p:s._next=p),i=n,s=p,n=null===n?null:n._next}),this._truncate(i,n),a.assert.returnType(this.isDirty,a.assert.type["boolean"])}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousMapHead=this._mapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}}},{key:"_truncate",value:function(e,t){for(a.assert.argumentTypes(e,h,t,h);null!==t;){null===e?this._mapHead=null:e._next=null;var r=t._next;this._addToRemovals(t),e=t,t=r}for(var n=a.assert.type(this._removalsHead,h);null!==n;n=n._nextRemoved)n.previousValue=n.currentValue,n.currentValue=null,u.MapWrapper["delete"](this._records,n.key)}},{key:"_isInRemovals",value:function(e){return a.assert.argumentTypes(e,h),e===this._removalsHead||null!==e._nextRemoved||null!==e._prevRemoved}},{key:"_addToRemovals",value:function(e){a.assert.argumentTypes(e,h),null===this._removalsHead?this._removalsHead=this._removalsTail=e:(this._removalsTail._nextRemoved=e,e._prevRemoved=this._removalsTail,this._removalsTail=e)}},{key:"_removeFromSeq",value:function(e,t){a.assert.argumentTypes(e,h,t,h);var r=t._next;null===e?this._mapHead=r:e._next=r}},{key:"_removeFromRemovals",value:function(e){a.assert.argumentTypes(e,h);var t=e._prevRemoved,r=e._nextRemoved;null===t?this._removalsHead=r:t._nextRemoved=r,null===r?this._removalsTail=t:r._prevRemoved=t,e._prevRemoved=e._nextRemoved=null}},{key:"_addToAdditions",value:function(e){a.assert.argumentTypes(e,h),null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){a.assert.argumentTypes(e,h),null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"toString",value:function(){var e,t=[],r=[],n=[],i=[],s=[];for(e=this._mapHead;null!==e;e=e._next)u.ListWrapper.push(t,c.stringify(e));for(e=this._previousMapHead;null!==e;e=e._nextPrevious)u.ListWrapper.push(r,c.stringify(e));for(e=this._changesHead;null!==e;e=e._nextChanged)u.ListWrapper.push(n,c.stringify(e));for(e=this._additionsHead;null!==e;e=e._nextAdded)u.ListWrapper.push(i,c.stringify(e));for(e=this._removalsHead;null!==e;e=e._nextRemoved)u.ListWrapper.push(s,c.stringify(e));return a.assert.returnType("map: "+t.join(", ")+"\nprevious: "+r.join(", ")+"\nadditions: "+i.join(", ")+"\nchanges: "+n.join(", ")+"\nremovals: "+s.join(", ")+"\n",a.assert.type.string)}},{key:"_forEach",value:function(e,t){a.assert.argumentTypes(e,a.assert.type.any,t,Function),e instanceof Map?u.MapWrapper.forEach(e,t):u.StringMapWrapper.forEach(e,t)}}],[{key:"supportsObj",value:function(e){return a.assert.returnType(e instanceof Map||c.isJsObject(e),a.assert.type["boolean"])}}]),t}(p.Pipe);t.KeyValueChanges=f,Object.defineProperty(f.prototype.forEachItem,"parameters",{get:function(){return[[Function]]}}),Object.defineProperty(f.prototype.forEachPreviousItem,"parameters",{get:function(){return[[Function]]}}),Object.defineProperty(f.prototype.forEachChangedItem,"parameters",{get:function(){return[[Function]]}}),Object.defineProperty(f.prototype.forEachAddedItem,"parameters",{get:function(){return[[Function]]}}),Object.defineProperty(f.prototype.forEachRemovedItem,"parameters",{get:function(){return[[Function]]}}),Object.defineProperty(f.prototype._truncate,"parameters",{get:function(){return[[h],[h]]}}),Object.defineProperty(f.prototype._isInRemovals,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(f.prototype._addToRemovals,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(f.prototype._removeFromSeq,"parameters",{get:function(){return[[h],[h]]}}),Object.defineProperty(f.prototype._removeFromRemovals,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(f.prototype._addToAdditions,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(f.prototype._addToChanges,"parameters",{get:function(){return[[h]]}}),Object.defineProperty(f.prototype._forEach,"parameters",{get:function(){return[[],[Function]]}});var h=function(){function e(t){s(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return o(e,[{key:"toString",value:function(){return a.assert.returnType(c.looseIdentical(this.previousValue,this.currentValue)?c.stringify(this.key):c.stringify(this.key)+"["+c.stringify(this.previousValue)+"->"+c.stringify(this.currentValue)+"]",a.assert.type.string)}}]),e}();t.KVChangeRecord=h},function(e,t,r){"use strict";var n=function f(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:f(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(2),c=r(27),p=function(){function e(){s(this,e)}return o(e,[{key:"supports",value:function(e){return a.assert.returnType(l.supportsObj(e),a.assert.type["boolean"])}},{key:"create",value:function(e){return a.assert.returnType(new l,c.Pipe)}}]),e}();t.NullPipeFactory=p;var l=function(e){function t(){s(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.called=!1}return i(t,e),o(t,[{key:"supports",value:function(e){return t.supportsObj(e)}},{key:"transform",value:function(e){return this.called?c.NO_CHANGE:(this.called=!0,null)}}],[{key:"supportsObj",value:function(e){return a.assert.returnType(u.isBlank(e),a.assert.type["boolean"])}}]),t}(c.Pipe);t.NullPipe=l},function(e,t,r){"use strict";function n(e){return c.assert.returnType([p.bind(Q.appDocumentToken).toValue(h.DOM.defaultDoc()),p.bind(Q.appComponentAnnotatedTypeToken).toFactory(function(t){return t.read(e)},[b.DirectiveMetadataReader]),p.bind(Q.appElementToken).toFactory(function(e,t){var r=e.annotation.selector,n=h.DOM.querySelector(t,r);if(l.isBlank(n))throw new l.BaseException('The app selector "'+r+'" did not match any elements');return n},[Q.appComponentAnnotatedTypeToken,Q.appDocumentToken]),p.bind(Q.appComponentRefToken).toAsyncFactory(function(e,t,r,n,i,s){return s.registerApplication(r,i),e.loadIntoNewLocation(n.type,null,r,t)},[I.DynamicComponentLoader,p.Injector,Q.appElementToken,Q.appComponentAnnotatedTypeToken,W.Testability,W.TestabilityRegistry]),p.bind(Q.appChangeDetectorToken).toFactory(function(e){return e.hostView.changeDetector},[Q.appComponentRefToken]),p.bind(e).toFactory(function(e){return e.instance},[Q.appComponentRefToken]),p.bind(L.LifeCycle).toFactory(function(e){return new L.LifeCycle(e,null,l.assertionsEnabled())},[g.ExceptionHandler]),p.bind(j.EventManager).toFactory(function(e){var t=[new E.HammerGesturesPlugin,new C.KeyEventsPlugin,new j.DomEventsPlugin];return new j.EventManager(t,e)},[k.VmTurnZone]),p.bind(M.ShadowDomStrategy).toFactory(function(e,t){return new P.EmulatedUnscopedShadowDomStrategy(e,t.head)},[A.StyleUrlResolver,Q.appDocumentToken]),H.DirectDomRenderer,p.bind(B.Renderer).toClass(H.DirectDomRenderer),p.bind(q.Compiler).toClass(q.DefaultCompiler),p.bind(K.ViewFactory).toFactory(function(e,t,r){return new K.ViewFactory(e,t,r)},[K.VIEW_POOL_CAPACITY,j.EventManager,M.ShadowDomStrategy]),p.bind(K.VIEW_POOL_CAPACITY).toValue(1e4),J.RenderViewHydrator,V.ProtoViewFactory,p.bind(F.ViewFactory).toFactory(function(e,t){return new F.ViewFactory(e,t)},[F.VIEW_POOL_CAPACITY,B.Renderer]),p.bind(F.VIEW_POOL_CAPACITY).toValue(1e4),N.AppViewHydrator,d.Compiler,d.CompilerCache,_.TemplateResolver,p.bind(m.PipeRegistry).toValue(m.defaultPipeRegistry),p.bind(m.ChangeDetection).toClass(m.DynamicChangeDetection),v.TemplateLoader,b.DirectiveMetadataReader,m.Parser,m.Lexer,g.ExceptionHandler,p.bind(O.XHR).toValue(new D.XHRImpl),x.ComponentUrlMapper,Y.UrlResolver,A.StyleUrlResolver,R.StyleInliner,I.DynamicComponentLoader,W.Testability],c.assert.genericType(w.List,S.Binding))}function i(e){c.assert.argumentTypes(e,Function);var t=function(e,t){var r=w.ListWrapper.join(t,"\n\n-----async gap-----\n");throw l.print(""+e+"\n\n"+r),e},r=l.isPresent(e)?e:t,n=new k.VmTurnZone({enableLongStackTrace:l.assertionsEnabled()});return n.initCallbacks({onErrorHandler:r}),c.assert.returnType(n,k.VmTurnZone)}function s(e){var t=void 0===arguments[1]?null:arguments[1],r=void 0===arguments[2]?null:arguments[2];c.assert.argumentTypes(e,l.Type,t,c.assert.genericType(w.List,S.Binding),r,Function),f.BrowserDomAdapter.makeCurrent();var n=T.PromiseWrapper.completer(),s=i(r);return s.run(function(){var r=o(e,t,s);T.PromiseWrapper.then(r.asyncGet(Q.appComponentRefToken),function(e){var t=e.hostView.changeDetector,i=r.get(L.LifeCycle);i.registerWith(s,t),i.tick(),n.resolve(e)},function(e){n.reject(e)})}),c.assert.returnType(n.promise,c.assert.genericType(T.Promise,I.ComponentRef))}function o(e,t,r){c.assert.argumentTypes(e,l.Type,t,c.assert.genericType(w.List,S.Binding),r,k.VmTurnZone),l.isBlank(u)&&(u=p.Injector.resolveAndCreate($));var i=l.isPresent(t)?w.ListWrapper.concat(n(e),t):n(e);return w.ListWrapper.push(i,p.bind(k.VmTurnZone).toValue(r)),c.assert.returnType(u.resolveAndCreateChild(i),p.Injector)}var a=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0}),t.bootstrap=s;var u,c=r(1),p=r(7),l=r(2),f=r(263),h=r(8),d=r(63),y=r(22),m=r(10),g=r(98),v=r(71),_=r(97),b=r(64),w=r(4),T=r(9),k=r(66),L=r(254),M=r(25),P=r(281),O=r(54),D=r(287),j=r(37),C=r(280),E=r(279),S=r(67),x=r(94),Y=r(40),A=r(73),R=r(284),I=r(95),W=r(99),F=r(51),N=r(65),V=r(96),B=r(11),H=r(53),U=r(101),q=a(U),z=r(76),K=a(z),G=r(103),J=a(G),Q=r(93),$=[p.bind(y.Reflector).toValue(y.reflector),W.TestabilityRegistry];Object.defineProperty(i,"parameters",{get:function(){return[[Function]]}}),Object.defineProperty(s,"parameters",{get:function(){return[[l.Type],[c.assert.genericType(w.List,S.Binding)],[Function]]}}),Object.defineProperty(o,"parameters",{get:function(){return[[l.Type],[c.assert.genericType(w.List,S.Binding)],[k.VmTurnZone]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),o=(r(12),function(){function e(){n(this,e),this._results=[],this._callbacks=[],this._dirty=!1}return i(e,[{key:Symbol.iterator,value:function(){return this._results[Symbol.iterator]()}},{key:"reset",value:function(e){this._results=e,this._dirty=!0}},{key:"add",value:function(e){s.ListWrapper.push(this._results,e),this._dirty=!0}},{key:"fireCallbacks",value:function(){this._dirty&&(s.ListWrapper.forEach(this._callbacks,function(e){return e()}),this._dirty=!1)}},{key:"onChange",value:function(e){s.ListWrapper.push(this._callbacks,e)}},{key:"removeCallback",value:function(e){s.ListWrapper.remove(this._callbacks,e)}}]),e}());t.BaseQueryList=o},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),s=r(2),o=r(4),a=r(12),u=r(7),c=function p(e,t,r){n(this,p),i.assert.argumentTypes(e,s.Type,t,a.Directive,r,i.assert.genericType(o.List,u.ResolvedBinding)),this.annotation=t,this.type=e,this.resolvedInjectables=r};t.DirectiveMetadata=c,Object.defineProperty(c,"parameters",{get:function(){return[[s.Type],[a.Directive],[i.assert.genericType(o.List,u.ResolvedBinding)]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(2),u=r(20),c=n(u),p=(r(4),r(15)),l=(n(p),function(){function e(t,r,n,s,p,l){if(i(this,e),o.assert.argumentTypes(t,a["int"],r,e,n,a["int"],s,c.ProtoElementInjector,p,u.DirectiveBinding,l,u.DirectiveBinding),a.isBlank(t))throw new a.BaseException("null index not allowed.");this.protoElementInjector=s,this.componentDirective=p,this.viewportDirective=l,this.parent=r,this.index=t,this.distanceToParent=n,this.hostListeners=null,this.nestedProtoView=null}return s(e,[{key:"hasStaticComponent",value:function(){return a.isPresent(this.componentDirective)&&a.isPresent(this.nestedProtoView)}},{key:"hasDynamicComponent",value:function(){return a.isPresent(this.componentDirective)&&a.isBlank(this.nestedProtoView)}}]),e}());t.ElementBinder=l,Object.defineProperty(l,"parameters",{get:function(){return[[a["int"]],[l],[a["int"]],[c.ProtoElementInjector],[u.DirectiveBinding],[u.DirectiveBinding]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){n(this,e)}return i(e,[{key:"onChange",value:function(e){throw"OnChange.onChange is not implemented"}}]),e}();t.OnChange=s},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function c(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:c(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(249),u=function(e){function t(){n(this,t),null!=e&&e.apply(this,arguments)}return o(t,e),i(t,[{key:"onChange",value:function(e){return s(Object.getPrototypeOf(t.prototype),"onChange",this).call(this,e)}},{key:"removeCallback",value:function(e){return s(Object.getPrototypeOf(t.prototype),"removeCallback",this).call(this,e)}}]),t}(a.BaseQueryList);t.QueryList=u},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(7),a=r(10),u=r(66),c=r(98),p=r(2),l=function(){function e(t){var r=void 0===arguments[1]?null:arguments[1],i=void 0===arguments[2]?!1:arguments[2];n(this,e),s.assert.argumentTypes(t,c.ExceptionHandler,r,a.ChangeDetector,i,s.assert.type["boolean"]),this._errorHandler=function(e,r){throw t.call(e,r),e},this._changeDetector=r,this._enforceNoNewChanges=i}return i(e,[{key:"registerWith",value:function(e){var t=this,r=void 0===arguments[1]?null:arguments[1];p.isPresent(r)&&(this._changeDetector=r),e.initCallbacks({onErrorHandler:this._errorHandler,onTurnDone:function(){return t.tick()}})}},{key:"tick",value:function(){this._changeDetector.detectChanges(),this._enforceNoNewChanges&&this._changeDetector.checkNoChanges()}}]),e}();t.LifeCycle=l,Object.defineProperty(l,"annotations",{get:function(){return[new o.Injectable]}}),Object.defineProperty(l,"parameters",{get:function(){return[[c.ExceptionHandler],[a.ChangeDetector],[s.assert.type["boolean"]]]}}),Object.defineProperty(l.prototype.registerWith,"parameters",{get:function(){return[[u.VmTurnZone],[a.ChangeDetector]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(99),a=r(2),u=function(){function e(t){n(this,e),s.assert.argumentTypes(t,o.Testability),this._testability=t}return i(e,[{key:"whenStable",value:function(e){s.assert.argumentTypes(e,Function),this._testability.whenStable(e)}},{key:"findBindings",value:function(e,t,r){return s.assert.argumentTypes(e,s.assert.type.any,t,s.assert.type.string,r,s.assert.type["boolean"]),this._testability.findBindings(e,t,r)}}]),e}();Object.defineProperty(u,"parameters",{get:function(){return[[o.Testability]]}}),Object.defineProperty(u.prototype.whenStable,"parameters",{get:function(){return[[Function]]}}),Object.defineProperty(u.prototype.findBindings,"parameters",{get:function(){return[[],[s.assert.type.string],[s.assert.type["boolean"]]]}});var c=function(){function e(){n(this,e)}return i(e,null,[{key:"addToWindow",value:function(e){s.assert.argumentTypes(e,o.TestabilityRegistry),a.global.getAngularTestability=function(t){var r=e.findTestabilityInTree(t);if(null==r)throw new Error("Could not find testability for element.");return s.assert.returnType(new u(r),u)}}}]),e}();t.GetTestability=c,Object.defineProperty(c.addToWindow,"parameters",{get:function(){return[[o.TestabilityRegistry]]}})},function(e,t,r){"use strict";function n(e){return c.assert.returnType(e instanceof v,c.assert.type["boolean"])}function i(e){c.assert.argumentTypes(e,p.List);for(var t=p.ListWrapper.createFixedSize(e.length),r=0;r<e.length;r++){var n,s=e[r];if(s instanceof l.ResolvedBinding)n=s;else if(s instanceof h.Type)n=l.bind(s).toClass(s).resolve();else if(s instanceof l.Binding)n=s.resolve();else{if(!(s instanceof p.List))throw new f.InvalidBindingError(s instanceof l.BindingBuilder?s.token:s);n=i(s)}t[r]=n}return c.assert.returnType(t,p.List)}function s(e){var t=p.ListWrapper.createFixedSize(y.Key.numberOfKeys+1);return p.MapWrapper.forEach(e,function(e,r){return t[r]=e}),c.assert.returnType(t,p.List)}function o(e,t){return c.assert.argumentTypes(e,p.List,t,p.Map),p.ListWrapper.forEach(e,function(e){e instanceof l.ResolvedBinding?p.MapWrapper.set(t,e.key.id,e):e instanceof p.List&&o(e,t)}),t}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(t,"__esModule",{value:!0});var c=r(1),p=r(4),l=r(67),f=r(68),h=r(2),d=r(9),y=r(69),m=new Object,g=new Object,v=function T(e){u(this,T),c.assert.argumentTypes(e,d.Promise),this.promise=e};Object.defineProperty(v,"parameters",{get:function(){return[[d.Promise]]}});var _=function(){function e(t,r,n){u(this,e),c.assert.argumentTypes(t,c.assert.genericType(p.List,l.ResolvedBinding),r,e,n,c.assert.type["boolean"]),this._bindings=t,this._instances=this._createInstances(),this._parent=r,this._defaultBindings=n,this._asyncStrategy=new w(this),this._syncStrategy=new b(this)}return a(e,[{key:"get",value:function(e){return this._getByKey(y.Key.get(e),!1,!1,!1)}},{key:"getOptional",value:function(e){return this._getByKey(y.Key.get(e),!1,!1,!0)}},{key:"asyncGet",value:function(e){return c.assert.returnType(this._getByKey(y.Key.get(e),!0,!1,!1),d.Promise)}},{key:"resolveAndCreateChild",value:function(t){return c.assert.argumentTypes(t,p.List),c.assert.returnType(new e(e.resolve(t),this,!1),e)}},{key:"createChildFromResolved",value:function(t){return c.assert.argumentTypes(t,c.assert.genericType(p.List,l.ResolvedBinding)),c.assert.returnType(new e(t,this,!1),e)}},{key:"_createInstances",value:function(){return c.assert.returnType(p.ListWrapper.createFixedSize(y.Key.numberOfKeys+1),p.List)}},{key:"_getByKey",value:function(e,t,r,n){var i=this;if(r)return function(){return i._getByKey(e,t,!1,n)};var s=t?this._asyncStrategy:this._syncStrategy,o=s.readFromCache(e);if(o!==g)return o;if(o=s.instantiate(e),o!==g)return o;if(h.isPresent(this._parent))return this._parent._getByKey(e,t,r,n);if(n)return null;throw new f.NoBindingError(e)}},{key:"_resolveDependencies",value:function(e,t,r){var n=this;try{var i=function(e){return n._getByKey(e.key,r||e.asPromise,e.lazy,e.optional)};return c.assert.returnType(p.ListWrapper.map(t.dependencies,i),p.List)}catch(s){throw this._clear(e),s instanceof f.AbstractBindingError&&s.addKey(e),s}}},{key:"_getInstance",value:function(e){return c.assert.argumentTypes(e,y.Key),this._instances.length<=e.id?null:p.ListWrapper.get(this._instances,e.id)}},{key:"_setInstance",value:function(e,t){c.assert.argumentTypes(e,y.Key,t,c.assert.type.any),p.ListWrapper.set(this._instances,e.id,t)}},{key:"_getBinding",value:function(e){c.assert.argumentTypes(e,y.Key);var t=this._bindings.length<=e.id?null:p.ListWrapper.get(this._bindings,e.id);return h.isBlank(t)&&this._defaultBindings?l.bind(e.token).toClass(e.token).resolve():t}},{key:"_markAsConstructing",value:function(e){c.assert.argumentTypes(e,y.Key),this._setInstance(e,m)}},{key:"_clear",value:function(e){c.assert.argumentTypes(e,y.Key),this._setInstance(e,null)}}],[{key:"resolve",value:function(e){c.assert.argumentTypes(e,p.List);var t=i(e),r=o(t,p.MapWrapper.create());return c.assert.returnType(s(r),c.assert.genericType(p.List,l.ResolvedBinding))}},{key:"resolveAndCreate",value:function(t){var r=void 0===arguments[1]?{}:arguments[1],n=r.defaultBindings,i=void 0===n?!1:n;return c.assert.argumentTypes(t,p.List),new e(e.resolve(t),null,i)}},{key:"fromResolvedBindings",value:function(t){var r=void 0===arguments[1]?{}:arguments[1],n=r.defaultBindings,i=void 0===n?!1:n;return c.assert.argumentTypes(t,c.assert.genericType(p.List,l.ResolvedBinding)),new e(t,null,i)}}]),e}();t.Injector=_,Object.defineProperty(_,"parameters",{get:function(){return[[c.assert.genericType(p.List,l.ResolvedBinding)],[_],[c.assert.type["boolean"]]]}}),Object.defineProperty(_.resolve,"parameters",{get:function(){return[[p.List]]}}),Object.defineProperty(_.resolveAndCreate,"parameters",{get:function(){return[[p.List],[]]}}),Object.defineProperty(_.fromResolvedBindings,"parameters",{get:function(){return[[c.assert.genericType(p.List,l.ResolvedBinding)],[]]}}),Object.defineProperty(_.prototype.resolveAndCreateChild,"parameters",{get:function(){return[[p.List]]}}),Object.defineProperty(_.prototype.createChildFromResolved,"parameters",{get:function(){return[[c.assert.genericType(p.List,l.ResolvedBinding)]]}}),Object.defineProperty(_.prototype._getByKey,"parameters",{get:function(){return[[y.Key],[c.assert.type["boolean"]],[c.assert.type["boolean"]],[c.assert.type["boolean"]]]}}),Object.defineProperty(_.prototype._resolveDependencies,"parameters",{get:function(){return[[y.Key],[l.ResolvedBinding],[c.assert.type["boolean"]]]}}),Object.defineProperty(_.prototype._getInstance,"parameters",{get:function(){return[[y.Key]]}}),Object.defineProperty(_.prototype._setInstance,"parameters",{get:function(){return[[y.Key],[]]}}),Object.defineProperty(_.prototype._getBinding,"parameters",{get:function(){return[[y.Key]]}}),Object.defineProperty(_.prototype._markAsConstructing,"parameters",{get:function(){return[[y.Key]]}}),Object.defineProperty(_.prototype._clear,"parameters",{get:function(){return[[y.Key]]}});var b=function(){function e(t){u(this,e),c.assert.argumentTypes(t,_),this.injector=t}return a(e,[{key:"readFromCache",value:function(e){if(c.assert.argumentTypes(e,y.Key),e.token===_)return this.injector;var t=this.injector._getInstance(e);if(t===m)throw new f.CyclicDependencyError(e);return h.isPresent(t)&&!n(t)?t:g}},{key:"instantiate",value:function(e){c.assert.argumentTypes(e,y.Key);var t=this.injector._getBinding(e);if(h.isBlank(t))return g;if(t.providedAsPromise)throw new f.AsyncBindingError(e);this.injector._markAsConstructing(e);var r=this.injector._resolveDependencies(e,t,!1);return this._createInstance(e,t,r)}},{key:"_createInstance",value:function(e,t,r){c.assert.argumentTypes(e,y.Key,t,l.ResolvedBinding,r,p.List);try{var n=h.FunctionWrapper.apply(t.factory,r);return this.injector._setInstance(e,n),n}catch(i){throw this.injector._clear(e),new f.InstantiationError(i,e)}}}]),e}();Object.defineProperty(b,"parameters",{get:function(){return[[_]]}}),Object.defineProperty(b.prototype.readFromCache,"parameters",{get:function(){return[[y.Key]]}}),Object.defineProperty(b.prototype.instantiate,"parameters",{get:function(){return[[y.Key]]}}),Object.defineProperty(b.prototype._createInstance,"parameters",{get:function(){return[[y.Key],[l.ResolvedBinding],[p.List]]}});var w=function(){function e(t){u(this,e),c.assert.argumentTypes(t,_),this.injector=t}return a(e,[{key:"readFromCache",value:function(e){if(c.assert.argumentTypes(e,y.Key),e.token===_)return d.PromiseWrapper.resolve(this.injector);var t=this.injector._getInstance(e);if(t===m)throw new f.CyclicDependencyError(e);return n(t)?t.promise:h.isPresent(t)?d.PromiseWrapper.resolve(t):g}},{key:"instantiate",value:function(e){var t=this,r=this.injector._getBinding(e);if(h.isBlank(r))return g;this.injector._markAsConstructing(e);var n=this.injector._resolveDependencies(e,r,!0),i=d.PromiseWrapper.all(n),s=d.PromiseWrapper.then(i,null,function(r){return t._errorHandler(e,r)}).then(function(n){return t._findOrCreate(e,r,n)}).then(function(r){return t._cacheInstance(e,r)});return this.injector._setInstance(e,new v(s)),s}},{key:"_errorHandler",value:function(e,t){return c.assert.argumentTypes(e,y.Key,t,c.assert.type.any),t instanceof f.AbstractBindingError&&t.addKey(e),c.assert.returnType(d.PromiseWrapper.reject(t),d.Promise)}},{key:"_findOrCreate",value:function(e,t,r){c.assert.argumentTypes(e,y.Key,t,l.ResolvedBinding,r,p.List);try{var i=this.injector._getInstance(e);return n(i)?h.FunctionWrapper.apply(t.factory,r):i}catch(s){throw this.injector._clear(e),new f.InstantiationError(s,e)}}},{key:"_cacheInstance",value:function(e,t){return this.injector._setInstance(e,t),t}}]),e}();Object.defineProperty(w,"parameters",{get:function(){return[[_]]}}),Object.defineProperty(w.prototype.readFromCache,"parameters",{get:function(){return[[y.Key]]}}),Object.defineProperty(w.prototype.instantiate,"parameters",{get:function(){return[[y.Key]]}}),Object.defineProperty(w.prototype._errorHandler,"parameters",{get:function(){return[[y.Key],[]]}}),Object.defineProperty(w.prototype._findOrCreate,"parameters",{get:function(){return[[y.Key],[l.ResolvedBinding],[p.List]]}}),Object.defineProperty(i,"parameters",{get:function(){return[[p.List]]}}),Object.defineProperty(o,"parameters",{get:function(){return[[p.List],[p.Map]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=function(){function e(t){n(this,e),s.assert.argumentTypes(t,s.assert.type.string),this._desc="Token("+t+")"}return i(e,[{key:"toString",value:function(){return this._desc}}]),e}();t.OpaqueToken=o,Object.defineProperty(o,"parameters",{get:function(){return[[s.assert.type.string]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(12),a=r(2),u=r(8),c=r(50),p=function(){function e(t){n(this,e),s.assert.argumentTypes(t,c.NgElement),this._domEl=t.domElement}return i(e,[{key:"_toggleClass",value:function(e,t){t?u.DOM.addClass(this._domEl,e):u.DOM.removeClass(this._domEl,e)}},{key:"iterableChanges",set:function(e){var t=this;a.isPresent(e)&&(e.forEachAddedItem(function(e){t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&u.DOM.removeClass(t._domEl,e.key)}))}}]),e}();t.CSSClass=p,Object.defineProperty(p,"annotations",{get:function(){return[new o.Decorator({selector:"[class]",properties:{iterableChanges:"class | keyValDiff"}})]}}),Object.defineProperty(p,"parameters",{get:function(){return[[c.NgElement]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");

},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(12),a=r(28),u=(r(15),r(2)),c=r(4),p=function(){function e(t){n(this,e),s.assert.argumentTypes(t,a.ViewContainer),this.viewContainer=t}return i(e,[{key:"iterableChanges",set:function(t){if(u.isBlank(t))return void this.viewContainer.clear();var r=[];t.forEachRemovedItem(function(e){return c.ListWrapper.push(r,new l(e,null))}),t.forEachMovedItem(function(e){return c.ListWrapper.push(r,new l(e,null))});var n=e.bulkRemove(r,this.viewContainer);t.forEachAddedItem(function(e){return c.ListWrapper.push(n,new l(e,null))}),e.bulkInsert(n,this.viewContainer);for(var i=0;i<n.length;i++)this.perViewChange(n[i].view,n[i].record)}},{key:"perViewChange",value:function(e,t){e.setLocal("$implicit",t.item),e.setLocal("index",t.currentIndex)}}],[{key:"bulkRemove",value:function(e,t){e.sort(function(e,t){return e.record.previousIndex-t.record.previousIndex});for(var r=[],n=e.length-1;n>=0;n--){var i=e[n];u.isPresent(i.record.currentIndex)?(i.view=t.detach(i.record.previousIndex),c.ListWrapper.push(r,i)):t.remove(i.record.previousIndex)}return r}},{key:"bulkInsert",value:function(e,t){e.sort(function(e,t){return e.record.currentIndex-t.record.currentIndex});for(var r=0;r<e.length;r++){var n=e[r];u.isPresent(n.view)?t.insert(n.view,n.record.currentIndex):n.view=t.create(n.record.currentIndex)}return e}}]),e}();t.For=p,Object.defineProperty(p,"annotations",{get:function(){return[new o.Viewport({selector:"[for][of]",properties:{iterableChanges:"of | iterableDiff"}})]}}),Object.defineProperty(p,"parameters",{get:function(){return[[a.ViewContainer]]}});var l=function f(e,t){n(this,f),this.record=e,this.view=t}},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(12),a=r(28),u=r(2),c=function(){function e(t){n(this,e),s.assert.argumentTypes(t,a.ViewContainer),this.viewContainer=t,this.prevCondition=null}return i(e,[{key:"condition",set:function(e){!e||!u.isBlank(this.prevCondition)&&this.prevCondition?e||!u.isBlank(this.prevCondition)&&!this.prevCondition||(this.prevCondition=!1,this.viewContainer.clear()):(this.prevCondition=!0,this.viewContainer.create())}}]),e}();t.If=c,Object.defineProperty(c,"annotations",{get:function(){return[new o.Viewport({selector:"[if]",properties:{condition:"if"}})]}}),Object.defineProperty(c,"parameters",{get:function(){return[[a.ViewContainer]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),s=function o(){n(this,o)};t.NonBindable=s,Object.defineProperty(s,"annotations",{get:function(){return[new i.Decorator({selector:"[non-bindable]",compileChildren:!1})]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(12),a=r(28),u=r(2),c=r(4),p=r(62),l=function(){function e(){n(this,e),this._valueViewContainers=c.MapWrapper.create(),this._activeViewContainers=c.ListWrapper.create(),this._useDefault=!1}return i(e,[{key:"value",set:function(e){this._emptyAllActiveViewContainers(),this._useDefault=!1;var t=c.MapWrapper.get(this._valueViewContainers,e);u.isBlank(t)&&(this._useDefault=!0,t=u.normalizeBlank(c.MapWrapper.get(this._valueViewContainers,d))),this._activateViewContainers(t),this._switchValue=e}},{key:"_onWhenValueChanged",value:function(e,t,r){s.assert.argumentTypes(e,s.assert.type.any,t,s.assert.type.any,r,a.ViewContainer),this._deregisterViewContainer(e,r),this._registerViewContainer(t,r),e===this._switchValue?(r.remove(),c.ListWrapper.remove(this._activeViewContainers,r)):t===this._switchValue&&(this._useDefault&&(this._useDefault=!1,this._emptyAllActiveViewContainers()),r.create(),c.ListWrapper.push(this._activeViewContainers,r)),0!==this._activeViewContainers.length||this._useDefault||(this._useDefault=!0,this._activateViewContainers(c.MapWrapper.get(this._valueViewContainers,d)))}},{key:"_emptyAllActiveViewContainers",value:function(){for(var e=this._activeViewContainers,t=0;t<e.length;t++)e[t].remove();this._activeViewContainers=c.ListWrapper.create()}},{key:"_activateViewContainers",value:function(e){if(s.assert.argumentTypes(e,s.assert.genericType(c.List,a.ViewContainer)),u.isPresent(e)){for(var t=0;t<e.length;t++)e[t].create();this._activeViewContainers=e}}},{key:"_registerViewContainer",value:function(e,t){s.assert.argumentTypes(e,s.assert.type.any,t,a.ViewContainer);var r=c.MapWrapper.get(this._valueViewContainers,e);u.isBlank(r)&&(r=c.ListWrapper.create(),c.MapWrapper.set(this._valueViewContainers,e,r)),c.ListWrapper.push(r,t)}},{key:"_deregisterViewContainer",value:function(e,t){if(s.assert.argumentTypes(e,s.assert.type.any,t,a.ViewContainer),e!=d){var r=c.MapWrapper.get(this._valueViewContainers,e);1==r.length?c.MapWrapper["delete"](this._valueViewContainers,e):c.ListWrapper.remove(r,t)}}}]),e}();t.Switch=l,Object.defineProperty(l,"annotations",{get:function(){return[new o.Decorator({selector:"[switch]",properties:{value:"switch"}})]}}),Object.defineProperty(l.prototype._onWhenValueChanged,"parameters",{get:function(){return[[],[],[a.ViewContainer]]}}),Object.defineProperty(l.prototype._activateViewContainers,"parameters",{get:function(){return[[s.assert.genericType(c.List,a.ViewContainer)]]}}),Object.defineProperty(l.prototype._registerViewContainer,"parameters",{get:function(){return[[],[a.ViewContainer]]}}),Object.defineProperty(l.prototype._deregisterViewContainer,"parameters",{get:function(){return[[],[a.ViewContainer]]}});var f=function(){function e(t,r){n(this,e),s.assert.argumentTypes(t,a.ViewContainer,r,l),this._value=d,this._switch=r,this._viewContainer=t}return i(e,[{key:"when",set:function(e){this._switch._onWhenValueChanged(this._value,e,this._viewContainer),this._value=e}}]),e}();t.SwitchWhen=f,Object.defineProperty(f,"annotations",{get:function(){return[new o.Viewport({selector:"[switch-when]",properties:{when:"switch-when"}})]}}),Object.defineProperty(f,"parameters",{get:function(){return[[a.ViewContainer],[l,new p.Parent]]}});var h=function y(e,t){n(this,y),s.assert.argumentTypes(e,a.ViewContainer,t,l),t._registerViewContainer(d,e)};t.SwitchDefault=h,Object.defineProperty(h,"annotations",{get:function(){return[new o.Viewport({selector:"[switch-default]"})]}}),Object.defineProperty(h,"parameters",{get:function(){return[[a.ViewContainer],[l,new p.Parent]]}});var d=new Object},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(4),u=r(2),c=r(8),p=r(264),l={innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},f=3,h={"\b":"Backspace","	":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},d={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},y=function(e){function t(){n(this,t),null!=e&&e.apply(this,arguments)}return s(t,e),i(t,[{key:"attrToPropMap",get:function(){return l}},{key:"query",value:function(e){return o.assert.argumentTypes(e,o.assert.type.string),document.querySelector(e)}},{key:"querySelector",value:function(e,t){return o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),o.assert.returnType(e.querySelector(t),Node)}},{key:"querySelectorAll",value:function(e,t){return o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),o.assert.returnType(e.querySelectorAll(t),NodeList)}},{key:"on",value:function(e,t,r){e.addEventListener(t,r,!1)}},{key:"onAndCancel",value:function(e,t,r){return e.addEventListener(t,r,!1),o.assert.returnType(function(){e.removeEventListener(t,r,!1)},Function)}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"createMouseEvent",value:function(e){var t=new MouseEvent(e);return t.initEvent(e,!0,!0),t}},{key:"createEvent",value:function(e){return new Event(e,!0)}},{key:"getInnerHTML",value:function(e){return e.innerHTML}},{key:"getOuterHTML",value:function(e){return e.outerHTML}},{key:"nodeName",value:function(e){return o.assert.argumentTypes(e,Node),o.assert.returnType(e.nodeName,o.assert.type.string)}},{key:"nodeValue",value:function(e){return o.assert.argumentTypes(e,Node),o.assert.returnType(e.nodeValue,o.assert.type.string)}},{key:"type",value:function(e){return o.assert.argumentTypes(e,o.assert.type.string),e.type}},{key:"content",value:function(e){return o.assert.argumentTypes(e,HTMLElement),this.hasProperty(e,"content")?o.assert.returnType(e.content,Node):o.assert.returnType(e,Node)}},{key:"firstChild",value:function(e){return o.assert.returnType(e.firstChild,Node)}},{key:"nextSibling",value:function(e){return o.assert.returnType(e.nextSibling,Node)}},{key:"parentElement",value:function(e){return e.parentElement}},{key:"childNodes",value:function(e){return o.assert.returnType(e.childNodes,NodeList)}},{key:"childNodesAsList",value:function(e){for(var t=e.childNodes,r=a.ListWrapper.createFixedSize(t.length),n=0;n<t.length;n++)r[n]=t[n];return o.assert.returnType(r,a.List)}},{key:"clearNodes",value:function(e){for(var t=0;t<e.childNodes.length;t++)this.remove(e.childNodes[t])}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"removeChild",value:function(e,t){e.removeChild(t)}},{key:"replaceChild",value:function(e,t,r){o.assert.argumentTypes(e,Node,t,o.assert.type.any,r,o.assert.type.any),e.replaceChild(t,r)}},{key:"remove",value:function(e){var t=e.parentNode;return t.removeChild(e),e}},{key:"insertBefore",value:function(e,t){e.parentNode.insertBefore(t,e)}},{key:"insertAllBefore",value:function(e,t){a.ListWrapper.forEach(t,function(t){e.parentNode.insertBefore(t,e)})}},{key:"insertAfter",value:function(e,t){e.parentNode.insertBefore(t,e.nextSibling)}},{key:"setInnerHTML",value:function(e,t){e.innerHTML=t}},{key:"getText",value:function(e){return e.textContent}},{key:"setText",value:function(e,t){o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),e.textContent=t}},{key:"getValue",value:function(e){return e.value}},{key:"setValue",value:function(e,t){o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),e.value=t}},{key:"getChecked",value:function(e){return e.checked}},{key:"setChecked",value:function(e,t){o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type["boolean"]),e.checked=t}},{key:"createTemplate",value:function(e){var t=document.createElement("template");return t.innerHTML=e,t}},{key:"createElement",value:function(e){var t=void 0===arguments[1]?document:arguments[1];return t.createElement(e)}},{key:"createTextNode",value:function(e){var t=void 0===arguments[1]?document:arguments[1];return o.assert.argumentTypes(e,o.assert.type.string,t,o.assert.type.any),t.createTextNode(e)}},{key:"createScriptTag",value:function(e,t){var r=void 0===arguments[2]?document:arguments[2];o.assert.argumentTypes(e,o.assert.type.string,t,o.assert.type.string,r,o.assert.type.any);var n=r.createElement("SCRIPT");return n.setAttribute(e,t),n}},{key:"createStyleElement",value:function(e){var t=void 0===arguments[1]?document:arguments[1];o.assert.argumentTypes(e,o.assert.type.string,t,o.assert.type.any);var r=t.createElement("STYLE");return r.innerText=e,o.assert.returnType(r,HTMLStyleElement)}},{key:"createShadowRoot",value:function(e){return o.assert.argumentTypes(e,HTMLElement),o.assert.returnType(e.createShadowRoot(),ShadowRoot)}},{key:"getShadowRoot",value:function(e){return o.assert.argumentTypes(e,HTMLElement),o.assert.returnType(e.shadowRoot,ShadowRoot)}},{key:"getHost",value:function(e){return o.assert.argumentTypes(e,HTMLElement),o.assert.returnType(e.host,HTMLElement)}},{key:"clone",value:function(e){return o.assert.argumentTypes(e,Node),e.cloneNode(!0)}},{key:"hasProperty",value:function(e,t){return o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),t in e}},{key:"getElementsByClassName",value:function(e,t){return o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),e.getElementsByClassName(t)}},{key:"getElementsByTagName",value:function(e,t){return o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),e.getElementsByTagName(t)}},{key:"classList",value:function(e){return o.assert.returnType(Array.prototype.slice.call(e.classList,0),a.List)}},{key:"addClass",value:function(e,t){o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),e.classList.add(t)}},{key:"removeClass",value:function(e,t){o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),e.classList.remove(t)}},{key:"hasClass",value:function(e,t){return o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),e.classList.contains(t)}},{key:"setStyle",value:function(e,t,r){o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string,r,o.assert.type.string),e.style[t]=r}},{key:"removeStyle",value:function(e,t){o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),e.style[t]=null}},{key:"getStyle",value:function(e,t){return o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),e.style[t]}},{key:"tagName",value:function(e){return o.assert.returnType(e.tagName,o.assert.type.string)}},{key:"attributeMap",value:function(e){for(var t=a.MapWrapper.create(),r=e.attributes,n=0;n<r.length;n++){var i=r[n];a.MapWrapper.set(t,i.name,i.value)}return t}},{key:"getAttribute",value:function(e,t){return o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),e.getAttribute(t)}},{key:"setAttribute",value:function(e,t,r){o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string,r,o.assert.type.string),e.setAttribute(t,r)}},{key:"removeAttribute",value:function(e,t){return o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),e.removeAttribute(t)}},{key:"templateAwareRoot",value:function(e){return this.isTemplateElement(e)?this.content(e):e}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"defaultDoc",value:function(){return document}},{key:"getBoundingClientRect",value:function(e){return e.getBoundingClientRect()}},{key:"getTitle",value:function(){return document.title}},{key:"setTitle",value:function(e){o.assert.argumentTypes(e,o.assert.type.string),document.title=e}},{key:"elementMatches",value:function(e,t){return o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string),o.assert.returnType(e instanceof HTMLElement&&e.matches(t),o.assert.type["boolean"])}},{key:"isTemplateElement",value:function(e){return o.assert.argumentTypes(e,o.assert.type.any),o.assert.returnType(e instanceof HTMLElement&&"TEMPLATE"==e.nodeName,o.assert.type["boolean"])}},{key:"isTextNode",value:function(e){return o.assert.argumentTypes(e,Node),o.assert.returnType(e.nodeType===Node.TEXT_NODE,o.assert.type["boolean"])}},{key:"isCommentNode",value:function(e){return o.assert.argumentTypes(e,Node),o.assert.returnType(e.nodeType===Node.COMMENT_NODE,o.assert.type["boolean"])}},{key:"isElementNode",value:function(e){return o.assert.argumentTypes(e,Node),o.assert.returnType(e.nodeType===Node.ELEMENT_NODE,o.assert.type["boolean"])}},{key:"hasShadowRoot",value:function(e){return o.assert.returnType(e instanceof HTMLElement&&u.isPresent(e.shadowRoot),o.assert.type["boolean"])}},{key:"isShadowRoot",value:function(e){return o.assert.returnType(e instanceof ShadowRoot,o.assert.type["boolean"])}},{key:"importIntoDoc",value:function(e){o.assert.argumentTypes(e,Node);var t=document.importNode(e,!0);if(this.isTemplateElement(t)&&!this.content(t).childNodes.length&&this.content(e).childNodes.length)for(var r=this.content(e).childNodes,n=0;n<r.length;++n)this.content(t).appendChild(this.importIntoDoc(r[n]));return t}},{key:"isPageRule",value:function(e){return o.assert.returnType(e.type===CSSRule.PAGE_RULE,o.assert.type["boolean"])}},{key:"isStyleRule",value:function(e){return o.assert.returnType(e.type===CSSRule.STYLE_RULE,o.assert.type["boolean"])}},{key:"isMediaRule",value:function(e){return o.assert.returnType(e.type===CSSRule.MEDIA_RULE,o.assert.type["boolean"])}},{key:"isKeyframesRule",value:function(e){return o.assert.returnType(e.type===CSSRule.KEYFRAMES_RULE,o.assert.type["boolean"])}},{key:"getHref",value:function(e){return o.assert.argumentTypes(e,Element),o.assert.returnType(e.href,o.assert.type.string)}},{key:"getEventKey",value:function(e){var t=e.key;if(u.isBlank(t)){if(t=e.keyIdentifier,u.isBlank(t))return o.assert.returnType("Unidentified",o.assert.type.string);t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===f&&d.hasOwnProperty(t)&&(t=d[t]))}return h.hasOwnProperty(t)&&(t=h[t]),o.assert.returnType(t,o.assert.type.string)}},{key:"getGlobalEventTarget",value:function(e){return o.assert.argumentTypes(e,o.assert.type.string),"window"==e?window:"document"==e?document:"body"==e?document.body:void 0}}],[{key:"makeCurrent",value:function(){c.setRootDomAdapter(new t)}}]),t}(p.GenericBrowserDomAdapter);t.BrowserDomAdapter=y,Object.defineProperty(y.prototype.query,"parameters",{get:function(){return[[o.assert.type.string]]}}),Object.defineProperty(y.prototype.querySelector,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.querySelectorAll,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.nodeName,"parameters",{get:function(){return[[Node]]}}),Object.defineProperty(y.prototype.nodeValue,"parameters",{get:function(){return[[Node]]}}),Object.defineProperty(y.prototype.type,"parameters",{get:function(){return[[o.assert.type.string]]}}),Object.defineProperty(y.prototype.content,"parameters",{get:function(){return[[HTMLElement]]}}),Object.defineProperty(y.prototype.replaceChild,"parameters",{get:function(){return[[Node],[],[]]}}),Object.defineProperty(y.prototype.setText,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.setValue,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.setChecked,"parameters",{get:function(){return[[],[o.assert.type["boolean"]]]}}),Object.defineProperty(y.prototype.createTextNode,"parameters",{get:function(){return[[o.assert.type.string],[]]}}),Object.defineProperty(y.prototype.createScriptTag,"parameters",{get:function(){return[[o.assert.type.string],[o.assert.type.string],[]]}}),Object.defineProperty(y.prototype.createStyleElement,"parameters",{get:function(){return[[o.assert.type.string],[]]}}),Object.defineProperty(y.prototype.createShadowRoot,"parameters",{get:function(){return[[HTMLElement]]}}),Object.defineProperty(y.prototype.getShadowRoot,"parameters",{get:function(){return[[HTMLElement]]}}),Object.defineProperty(y.prototype.getHost,"parameters",{get:function(){return[[HTMLElement]]}}),Object.defineProperty(y.prototype.clone,"parameters",{get:function(){return[[Node]]}}),Object.defineProperty(y.prototype.hasProperty,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.getElementsByClassName,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.getElementsByTagName,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.addClass,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.removeClass,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.hasClass,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.setStyle,"parameters",{get:function(){return[[],[o.assert.type.string],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.removeStyle,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.getStyle,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.getAttribute,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.setAttribute,"parameters",{get:function(){return[[],[o.assert.type.string],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.removeAttribute,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.setTitle,"parameters",{get:function(){return[[o.assert.type.string]]}}),Object.defineProperty(y.prototype.elementMatches,"parameters",{get:function(){return[[],[o.assert.type.string]]}}),Object.defineProperty(y.prototype.isTemplateElement,"parameters",{get:function(){return[[o.assert.type.any]]}}),Object.defineProperty(y.prototype.isTextNode,"parameters",{get:function(){return[[Node]]}}),Object.defineProperty(y.prototype.isCommentNode,"parameters",{get:function(){return[[Node]]}}),Object.defineProperty(y.prototype.isElementNode,"parameters",{get:function(){return[[Node]]}}),Object.defineProperty(y.prototype.importIntoDoc,"parameters",{get:function(){return[[Node]]}}),Object.defineProperty(y.prototype.getHref,"parameters",{get:function(){return[[Element]]}}),Object.defineProperty(y.prototype.getGlobalEventTarget,"parameters",{get:function(){return[[o.assert.type.string]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(2),u=r(4),c=r(8),p=function(e){function t(){n(this,t),null!=e&&e.apply(this,arguments)}return s(t,e),i(t,[{key:"getDistributedNodes",value:function(e){return e.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(e,t,r){o.assert.argumentTypes(e,o.assert.type.any,t,o.assert.type.string,r,o.assert.type.string),e.href=null==r?t:t+"/../"+r}},{key:"cssToRules",value:function(e){o.assert.argumentTypes(e,o.assert.type.string);var t=this.createStyleElement(e);this.appendChild(this.defaultDoc().head,t);var r=u.ListWrapper.create();if(a.isPresent(t.sheet))try{var n=t.sheet.cssRules;r=u.ListWrapper.createFixedSize(n.length);for(var i=0;i<n.length;i++)r[i]=n[i]}catch(s){}return this.remove(t),o.assert.returnType(r,u.List)}},{key:"supportsDOMEvents",value:function(){return o.assert.returnType(!0,o.assert.type["boolean"])}},{key:"supportsNativeShadowDOM",value:function(){return o.assert.returnType(a.isFunction(this.defaultDoc().body.createShadowRoot),o.assert.type["boolean"])}}]),t}(c.DomAdapter);t.GenericBrowserDomAdapter=p,Object.defineProperty(p,"annotations",{get:function(){return[new a.ABSTRACT]}}),Object.defineProperty(p.prototype.resolveAndSetHref,"parameters",{get:function(){return[[],[o.assert.type.string],[o.assert.type.string]]}}),Object.defineProperty(p.prototype.cssToRules,"parameters",{get:function(){return[[o.assert.type.string]]}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=n.global.Math;t.Math=i;var s=n.global.NaN;t.NaN=s},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(21),a=r(7),u=r(2),c=r(4),p=r(52),l=r(70),f=function(){function e(t){n(this,e),s.assert.argumentTypes(t,Function),this._setValueProperty=t,this.onChange=function(e){}}return i(e,[{key:"writeValue",value:function(e){this._setValueProperty(e)}}]),e}();t.DefaultValueAccessor=f,Object.defineProperty(f,"annotations",{get:function(){return[new o.Decorator({selector:"[control]",hostListeners:{change:"onChange($event.target.value)",input:"onChange($event.target.value)"}})]}}),Object.defineProperty(f,"parameters",{get:function(){return[[Function,new o.PropertySetter("value")]]}});var h=function(){function e(t,r){n(this,e),s.assert.argumentTypes(t,d,r,Function),this._setCheckedProperty=r,this.onChange=function(e){},t.valueAccessor=this}return i(e,[{key:"writeValue",value:function(e){this._setCheckedProperty(e)}}]),e}();t.CheckboxControlValueAccessor=h,Object.defineProperty(h,"annotations",{get:function(){return[new o.Decorator({selector:"input[type=checkbox][control]",hostListeners:{change:"onChange($event.target.checked)"}})]}}),Object.defineProperty(h,"parameters",{get:function(){return[[d],[Function,new o.PropertySetter("checked")]]}});var d=function(){function e(t,r){n(this,e),s.assert.argumentTypes(t,y,r,f),this._groupDirective=t,this.controlOrName=null,this.valueAccessor=r,this.validator=l.Validators.nullValidator}return i(e,[{key:"onChange",value:function(e){this._initialize()}},{key:"_initialize",value:function(){u.isPresent(this._groupDirective)&&this._groupDirective.addDirective(this);var e=this._control();e.validator=l.Validators.compose([e.validator,this.validator]),this._updateDomValue(),this._setUpUpdateControlValue()}},{key:"_updateDomValue",value:function(){this.valueAccessor.writeValue(this._control().value)}},{key:"_setUpUpdateControlValue",value:function(){var e=this;this.valueAccessor.onChange=function(t){return e._control().updateValue(t)}}},{key:"_control",value:function(){return u.isString(this.controlOrName)?this._groupDirective.findControl(this.controlOrName):this.controlOrName}}]),e}();t.ControlDirective=d,Object.defineProperty(d,"annotations",{get:function(){return[new o.Decorator({lifecycle:[o.onChange],selector:"[control]",properties:{controlOrName:"control"}})]}}),Object.defineProperty(d,"parameters",{get:function(){return[[y,new a.Optional,new o.Ancestor],[f]]}});var y=function(){function e(t){n(this,e),s.assert.argumentTypes(t,e),this._groupDirective=t,this._directives=c.ListWrapper.create()}return i(e,[{key:"controlGroup",set:function(e){u.isString(e)?this._controlGroupName=e:this._controlGroup=e,this._updateDomValue()}},{key:"_updateDomValue",value:function(){c.ListWrapper.forEach(this._directives,function(e){return e._updateDomValue()})}},{key:"addDirective",value:function(e){s.assert.argumentTypes(e,d),c.ListWrapper.push(this._directives,e)}},{key:"findControl",value:function(e){return s.assert.argumentTypes(e,s.assert.type.string),s.assert.returnType(this._getControlGroup().controls[e],s.assert.type.any)}},{key:"_getControlGroup",value:function(){return u.isPresent(this._controlGroupName)?s.assert.returnType(this._groupDirective.findControl(this._controlGroupName),p.ControlGroup):s.assert.returnType(this._controlGroup,p.ControlGroup)}}]),e}();t.ControlGroupDirective=y,Object.defineProperty(y,"annotations",{get:function(){return[new o.Decorator({selector:"[control-group]",properties:{controlGroup:"control-group"}})]}}),Object.defineProperty(y,"parameters",{get:function(){return[[y,new a.Optional,new o.Ancestor]]}}),Object.defineProperty(y.prototype.addDirective,"parameters",{get:function(){return[[d]]}}),Object.defineProperty(y.prototype.findControl,"parameters",{get:function(){return[[s.assert.type.string]]}});var m=[y,d,h,f];t.FormDirectives=m},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(4),u=r(2),c=r(52),p=n(c),l=function(){function e(){i(this,e)}return s(e,[{key:"group",value:function(e){var t=void 0===arguments[1]?null:arguments[1],r=this._reduceControls(e),n=u.isPresent(t)?a.StringMapWrapper.get(t,"optionals"):null,i=u.isPresent(t)?a.StringMapWrapper.get(t,"validator"):null;return u.isPresent(i)?o.assert.returnType(new p.ControlGroup(r,n,i),p.ControlGroup):o.assert.returnType(new p.ControlGroup(r,n),p.ControlGroup)}},{key:"control",value:function(e){var t=void 0===arguments[1]?null:arguments[1];return o.assert.argumentTypes(e,o.assert.type.any,t,Function),u.isPresent(t)?o.assert.returnType(new p.Control(e,t),p.Control):o.assert.returnType(new p.Control(e),p.Control)}},{key:"array",value:function(e){var t=this,r=void 0===arguments[1]?null:arguments[1],n=a.ListWrapper.map(e,function(e){return t._createControl(e)});return u.isPresent(r)?o.assert.returnType(new p.ControlArray(n,r),p.ControlArray):o.assert.returnType(new p.ControlArray(n),p.ControlArray)}},{key:"_reduceControls",value:function(e){var t=this,r={};return a.StringMapWrapper.forEach(e,function(e,n){r[n]=t._createControl(e)}),r}},{key:"_createControl",value:function(e){if(e instanceof p.Control||e instanceof p.ControlGroup||e instanceof p.ControlArray)return e;if(a.ListWrapper.isList(e)){var t=a.ListWrapper.get(e,0),r=e.length>1?e[1]:null;return this.control(t,r)}return this.control(e)}}]),e}();t.FormBuilder=l,Object.defineProperty(l.prototype.control,"parameters",{get:function(){return[[],[Function]]}}),Object.defineProperty(l.prototype.array,"parameters",{get:function(){return[[a.List],[Function]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),s=r(21),o=r(86),a=function u(e){n(this,u),i.assert.argumentTypes(e,o.ControlDirective),e.validator=o.Validators.compose([e.validator,o.Validators.required])};t.RequiredValidatorDirective=a,Object.defineProperty(a,"annotations",{get:function(){return[new s.Decorator({selector:"[required]"})]}}),Object.defineProperty(a,"parameters",{get:function(){return[[o.ControlDirective]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,
n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(2),a=r(4),u=r(34),c=function(){function e(){n(this,e)}return i(e,[{key:"factory",value:function(e){switch(s.assert.argumentTypes(e,o.Type),e.length){case 0:return s.assert.returnType(function(){return new e},Function);case 1:return s.assert.returnType(function(t){return new e(t)},Function);case 2:return s.assert.returnType(function(t,r){return new e(t,r)},Function);case 3:return s.assert.returnType(function(t,r,n){return new e(t,r,n)},Function);case 4:return s.assert.returnType(function(t,r,n,i){return new e(t,r,n,i)},Function);case 5:return s.assert.returnType(function(t,r,n,i,s){return new e(t,r,n,i,s)},Function);case 6:return s.assert.returnType(function(t,r,n,i,s,o){return new e(t,r,n,i,s,o)},Function);case 7:return s.assert.returnType(function(t,r,n,i,s,o,a){return new e(t,r,n,i,s,o,a)},Function);case 8:return s.assert.returnType(function(t,r,n,i,s,o,a,u){return new e(t,r,n,i,s,o,a,u)},Function);case 9:return s.assert.returnType(function(t,r,n,i,s,o,a,u,c){return new e(t,r,n,i,s,o,a,u,c)},Function);case 10:return s.assert.returnType(function(t,r,n,i,s,o,a,u,c,p){return new e(t,r,n,i,s,o,a,u,c,p)},Function)}throw new Error("Factory cannot take more than 10 arguments")}},{key:"parameters",value:function(e){return s.assert.returnType(o.isPresent(e.parameters)?e.parameters:a.ListWrapper.createFixedSize(e.length),s.assert.genericType(a.List,a.List))}},{key:"annotations",value:function(e){return s.assert.returnType(o.isPresent(e.annotations)?e.annotations:[],a.List)}},{key:"getter",value:function(e){return s.assert.argumentTypes(e,s.assert.type.string),s.assert.returnType(new Function("o","return o."+e+";"),u.GetterFn)}},{key:"setter",value:function(e){return s.assert.argumentTypes(e,s.assert.type.string),s.assert.returnType(new Function("o","v","return o."+e+" = v;"),u.SetterFn)}},{key:"method",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){s.assert.argumentTypes(e,s.assert.type.string);var t="o."+e;return s.assert.returnType(new Function("o","args","if (!"+t+") throw new Error('\""+e+"\" is undefined');"+("return "+t+".apply(o, args);")),u.MethodFn)})}]),e}();t.ReflectionCapabilities=c,Object.defineProperty(c.prototype.factory,"parameters",{get:function(){return[[o.Type]]}}),Object.defineProperty(c.prototype.getter,"parameters",{get:function(){return[[s.assert.type.string]]}}),Object.defineProperty(c.prototype.setter,"parameters",{get:function(){return[[s.assert.type.string]]}}),Object.defineProperty(c.prototype.method,"parameters",{get:function(){return[[s.assert.type.string]]}})},function(e,t,r){"use strict";function n(e,t){u.StringMapWrapper.forEach(t,function(t,r){return u.MapWrapper.set(e,r,t)})}var i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(2),u=r(4),c=r(34);Object.defineProperty(t,"SetterFn",{enumerable:!0,get:function(){return c.SetterFn}}),Object.defineProperty(t,"GetterFn",{enumerable:!0,get:function(){return c.GetterFn}}),Object.defineProperty(t,"MethodFn",{enumerable:!0,get:function(){return c.MethodFn}});var p=function(){function e(t){i(this,e),this._typeInfo=u.MapWrapper.create(),this._getters=u.MapWrapper.create(),this._setters=u.MapWrapper.create(),this._methods=u.MapWrapper.create(),this.reflectionCapabilities=t}return s(e,[{key:"registerType",value:function(e,t){u.MapWrapper.set(this._typeInfo,e,t)}},{key:"registerGetters",value:function(e){n(this._getters,e)}},{key:"registerSetters",value:function(e){n(this._setters,e)}},{key:"registerMethods",value:function(e){n(this._methods,e)}},{key:"factory",value:function(e){return o.assert.argumentTypes(e,a.Type),u.MapWrapper.contains(this._typeInfo,e)?o.assert.returnType(u.MapWrapper.get(this._typeInfo,e).factory,Function):o.assert.returnType(this.reflectionCapabilities.factory(e),Function)}},{key:"parameters",value:function(e){return u.MapWrapper.contains(this._typeInfo,e)?o.assert.returnType(u.MapWrapper.get(this._typeInfo,e).parameters,u.List):o.assert.returnType(this.reflectionCapabilities.parameters(e),u.List)}},{key:"annotations",value:function(e){return u.MapWrapper.contains(this._typeInfo,e)?o.assert.returnType(u.MapWrapper.get(this._typeInfo,e).annotations,u.List):o.assert.returnType(this.reflectionCapabilities.annotations(e),u.List)}},{key:"getter",value:function(e){return o.assert.argumentTypes(e,o.assert.type.string),u.MapWrapper.contains(this._getters,e)?o.assert.returnType(u.MapWrapper.get(this._getters,e),c.GetterFn):o.assert.returnType(this.reflectionCapabilities.getter(e),c.GetterFn)}},{key:"setter",value:function(e){return o.assert.argumentTypes(e,o.assert.type.string),u.MapWrapper.contains(this._setters,e)?o.assert.returnType(u.MapWrapper.get(this._setters,e),c.SetterFn):o.assert.returnType(this.reflectionCapabilities.setter(e),c.SetterFn)}},{key:"method",value:function(e){return o.assert.argumentTypes(e,o.assert.type.string),u.MapWrapper.contains(this._methods,e)?o.assert.returnType(u.MapWrapper.get(this._methods,e),c.MethodFn):o.assert.returnType(this.reflectionCapabilities.method(e),c.MethodFn)}}]),e}();t.Reflector=p,Object.defineProperty(p.prototype.factory,"parameters",{get:function(){return[[a.Type]]}}),Object.defineProperty(p.prototype.getter,"parameters",{get:function(){return[[o.assert.type.string]]}}),Object.defineProperty(p.prototype.setter,"parameters",{get:function(){return[[o.assert.type.string]]}}),Object.defineProperty(p.prototype.method,"parameters",{get:function(){return[[o.assert.type.string]]}}),Object.defineProperty(n,"parameters",{get:function(){return[[u.Map],[]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(2),a=r(4),u=r(8),c=r(23),p=r(29),l=r(24),f=r(74),h=function(){function e(t){n(this,e),s.assert.argumentTypes(t,s.assert.genericType(a.List,l.CompileStep)),this._control=new p.CompileControl(t)}return i(e,[{key:"process",value:function(e){var t=void 0===arguments[1]?"":arguments[1];s.assert.argumentTypes(e,s.assert.type.any,t,s.assert.type.string);var r=a.ListWrapper.create(),n=new c.CompileElement(e,t);return n.inheritedProtoView=new f.ProtoViewBuilder(e),n.isViewRoot=!0,this._process(r,null,n,t),s.assert.returnType(r,a.List)}},{key:"_process",value:function(e,t,r){var n=void 0===arguments[3]?"":arguments[3];s.assert.argumentTypes(e,s.assert.type.any,t,c.CompileElement,r,c.CompileElement,n,s.assert.type.string);var i=this._control.internalProcess(e,0,t,r);if(r.compileChildren)for(var a=u.DOM.firstChild(u.DOM.templateAwareRoot(r.element));o.isPresent(a);){var p=u.DOM.nextSibling(a);if(u.DOM.isElementNode(a)){var l=new c.CompileElement(a,n);l.inheritedProtoView=r.inheritedProtoView,l.inheritedElementBinder=r.inheritedElementBinder,l.distanceToInheritedBinder=r.distanceToInheritedBinder+1,this._process(e,r,l)}a=p}if(o.isPresent(i))for(var f=0;f<i.length;f++)this._process(e,r,i[f])}}]),e}();t.CompilePipeline=h,Object.defineProperty(h,"parameters",{get:function(){return[[s.assert.genericType(a.List,l.CompileStep)]]}}),Object.defineProperty(h.prototype.process,"parameters",{get:function(){return[[],[s.assert.type.string]]}}),Object.defineProperty(h.prototype._process,"parameters",{get:function(){return[[],[c.CompileElement],[c.CompileElement],[s.assert.type.string]]}})},function(e,t,r){"use strict";var n=function b(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:b(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(4),c=r(9),p=r(10),l=r(11),f=r(24),h=r(274),d=r(276),y=r(273),m=r(277),g=r(283),v=(r(25),function(){function e(){s(this,e)}return o(e,[{key:"createSteps",value:function(e,t){return a.assert.argumentTypes(e,l.ViewDefinition,t,a.assert.genericType(u.List,c.Promise)),a.assert.returnType(null,a.assert.genericType(u.List,f.CompileStep))}}]),e}());t.CompileStepFactory=v,Object.defineProperty(v.prototype.createSteps,"parameters",{get:function(){return[[l.ViewDefinition],[a.assert.genericType(u.List,c.Promise)]]}});var _=function(e){function t(e,r){s(this,t),a.assert.argumentTypes(e,p.Parser,r,a.assert.type.any),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._parser=e,this._shadowDomStrategy=r}return i(t,e),o(t,[{key:"createSteps",value:function(e,t){return a.assert.argumentTypes(e,l.ViewDefinition,t,a.assert.genericType(u.List,c.Promise)),[new m.ViewSplitter(this._parser),new h.PropertyBindingParser(this._parser),new y.DirectiveParser(this._parser,e.directives),new d.TextInterpolationParser(this._parser),new g.ShadowDomCompileStep(this._shadowDomStrategy,e,t)]}}]),t}(v);t.DefaultStepFactory=_,Object.defineProperty(_,"parameters",{get:function(){return[[p.Parser],[]]}}),Object.defineProperty(_.prototype.createSteps,"parameters",{get:function(){return[[l.ViewDefinition],[a.assert.genericType(u.List,c.Promise)]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function _(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:_(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(2),c=r(4),p=r(8),l=r(10),f=r(275),h=r(24),d=r(23),y=r(29),m=r(11),g=r(30),v=function(e){function t(e,r){n(this,t),a.assert.argumentTypes(e,l.Parser,r,a.assert.genericType(c.List,m.DirectiveMetadata)),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._parser=e,this._selectorMatcher=new f.SelectorMatcher,this._directives=r;for(var i=0;i<r.length;i++){var o=f.CssSelector.parse(r[i].selector);this._selectorMatcher.addSelectables(o,i)}}return o(t,e),i(t,[{key:"process",value:function(e,t,r){var n=this;a.assert.argumentTypes(e,d.CompileElement,t,d.CompileElement,r,y.CompileControl);var i=t.attrs(),s=t.classList(),o=new f.CssSelector,l=p.DOM.nodeName(t.element);o.setElement(l);for(var h=0;h<s.length;h++)o.addClassName(s[h]);c.MapWrapper.forEach(i,function(e,t){o.addAttribute(t,e)});var g,v,_=p.DOM.isTemplateElement(t.element);this._selectorMatcher.match(o,function(e,r){var i=t.bindElement(),s=n._directives[r],o=i.bindDirective(r);if(t.compileChildren=t.compileChildren&&s.compileChildren,u.isPresent(s.properties)&&c.MapWrapper.forEach(s.properties,function(e,r){n._bindDirectiveProperty(r,e,t,o)}),u.isPresent(s.hostListeners)&&c.MapWrapper.forEach(s.hostListeners,function(e,r){n._bindDirectiveEvent(r,e,t,o)}),u.isPresent(s.setters)&&c.ListWrapper.forEach(s.setters,function(e){i.bindPropertySetter(e)}),u.isPresent(s.readAttributes)&&c.ListWrapper.forEach(s.readAttributes,function(e){i.readAttribute(e)}),s.type===m.DirectiveMetadata.VIEWPORT_TYPE){if(!_)throw new u.BaseException("Viewport directives need to be placed on <template> elements or elements with template attribute - check "+t.elementDescription);if(u.isPresent(g))throw new u.BaseException("Only one viewport directive is allowed per element - check "+t.elementDescription);g=s}else{if(_)throw new u.BaseException("Only template directives are allowed on template elements - check "+t.elementDescription);if(s.type===m.DirectiveMetadata.COMPONENT_TYPE){if(u.isPresent(v))throw new u.BaseException("Only one component directive is allowed per element - check "+t.elementDescription);v=s,i.setComponentId(s.id)}}})}},{key:"_bindDirectiveProperty",value:function(e,t,r,n){var i=this._splitBindConfig(t),s=c.ListWrapper.removeAt(i,0),o=c.MapWrapper.get(r.bindElement().propertyBindings,g.dashCaseToCamelCase(s));if(u.isBlank(o)){var a=c.MapWrapper.get(r.attrs(),g.camelCaseToDashCase(s));u.isPresent(a)&&(o=this._parser.wrapLiteralPrimitive(a,r.elementDescription))}if(u.isPresent(o)){var p=this._parser.addPipes(o,i);n.bindProperty(e,p)}}},{key:"_bindDirectiveEvent",value:function(e,t,r,n){var i=this._parser.parseAction(t,r.elementDescription);if(u.StringWrapper.contains(e,g.EVENT_TARGET_SEPARATOR)){var s=e.split(g.EVENT_TARGET_SEPARATOR);n.bindEvent(s[1],i,s[0])}else n.bindEvent(e,i)}},{key:"_splitBindConfig",value:function(e){return c.ListWrapper.map(e.split("|"),function(e){return e.trim()})}}]),t}(h.CompileStep);t.DirectiveParser=v,Object.defineProperty(v,"parameters",{get:function(){return[[l.Parser],[a.assert.genericType(c.List,m.DirectiveMetadata)]]}}),Object.defineProperty(v.prototype.process,"parameters",{get:function(){return[[d.CompileElement],[d.CompileElement],[y.CompileControl]]}}),Object.defineProperty(v.prototype._splitBindConfig,"parameters",{get:function(){return[[a.assert.type.string]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function g(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:g(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(2),c=r(4),p=r(10),l=r(24),f=r(23),h=r(29),d=r(30),y=u.RegExpWrapper.create("^(?:(?:(?:(bind-)|(var-|#)|(on-))(.+))|\\[([^\\]]+)\\]|\\(([^\\)]+)\\))$"),m=function(e){function t(e){n(this,t),a.assert.argumentTypes(e,p.Parser),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._parser=e}return o(t,e),i(t,[{key:"process",value:function(e,t,r){var n=this;a.assert.argumentTypes(e,f.CompileElement,t,f.CompileElement,r,h.CompileControl);var i=t.attrs(),s=c.MapWrapper.create();c.MapWrapper.forEach(i,function(e,r){var i=u.RegExpWrapper.firstMatch(y,r);if(u.isPresent(i))if(u.isPresent(i[1]))n._bindProperty(i[4],e,t,s);else if(u.isPresent(i[2])){var o=i[4],a=""==e?"$implicit":e;n._bindVariable(o,a,t,s)}else u.isPresent(i[3])?n._bindEvent(i[4],e,t,s):u.isPresent(i[5])?n._bindProperty(i[5],e,t,s):u.isPresent(i[6])&&n._bindEvent(i[6],e,t,s);else{var c=n._parser.parseInterpolation(e,t.elementDescription);u.isPresent(c)&&n._bindPropertyAst(r,c,t,s)}}),c.MapWrapper.forEach(s,function(e,t){c.MapWrapper.set(i,t,e)})}},{key:"_bindVariable",value:function(e,t,r,n){a.assert.argumentTypes(e,a.assert.type.any,t,a.assert.type.any,r,f.CompileElement,n,a.assert.type.any),r.bindElement().bindVariable(d.dashCaseToCamelCase(e),t),c.MapWrapper.set(n,e,t)}},{key:"_bindProperty",value:function(e,t,r,n){a.assert.argumentTypes(e,a.assert.type.any,t,a.assert.type.any,r,f.CompileElement,n,a.assert.type.any),this._bindPropertyAst(e,this._parser.parseBinding(t,r.elementDescription),r,n)}},{key:"_bindPropertyAst",value:function(e,t,r,n){a.assert.argumentTypes(e,a.assert.type.any,t,a.assert.type.any,r,f.CompileElement,n,a.assert.type.any);var i=r.bindElement(),s=d.dashCaseToCamelCase(e);i.bindProperty(s,t),c.MapWrapper.set(n,e,t.source)}},{key:"_bindEvent",value:function(e,t,r,n){a.assert.argumentTypes(e,a.assert.type.any,t,a.assert.type.any,r,f.CompileElement,n,a.assert.type.any),r.bindElement().bindEvent(d.dashCaseToCamelCase(e),this._parser.parseAction(t,r.elementDescription))}}]),t}(l.CompileStep);t.PropertyBindingParser=m,Object.defineProperty(m,"parameters",{get:function(){return[[p.Parser]]}}),Object.defineProperty(m.prototype.process,"parameters",{get:function(){return[[f.CompileElement],[f.CompileElement],[h.CompileControl]]}}),Object.defineProperty(m.prototype._bindVariable,"parameters",{get:function(){return[[],[],[f.CompileElement],[]]}}),Object.defineProperty(m.prototype._bindProperty,"parameters",{get:function(){return[[],[],[f.CompileElement],[]]}}),Object.defineProperty(m.prototype._bindPropertyAst,"parameters",{get:function(){return[[],[],[f.CompileElement],[]]}}),Object.defineProperty(m.prototype._bindEvent,"parameters",{get:function(){return[[],[],[f.CompileElement],[]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),o=r(4),a=r(2),u="",c=a.RegExpWrapper.create("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|(?:\\))|(\\s*,\\s*)"),p=function(){function e(){n(this,e),this.element=null,this.classNames=o.ListWrapper.create(),this.attrs=o.ListWrapper.create(),this.notSelector=null}return i(e,[{key:"setElement",value:function(){var e=void 0===arguments[0]?null:arguments[0];s.assert.argumentTypes(e,s.assert.type.string),a.isPresent(e)&&(e=e.toLowerCase()),this.element=e}},{key:"addAttribute",value:function(e){var t=void 0===arguments[1]?u:arguments[1];s.assert.argumentTypes(e,s.assert.type.string,t,s.assert.type.string),o.ListWrapper.push(this.attrs,e.toLowerCase()),t=a.isPresent(t)?t.toLowerCase():u,o.ListWrapper.push(this.attrs,t)}},{key:"addClassName",value:function(e){s.assert.argumentTypes(e,s.assert.type.string),o.ListWrapper.push(this.classNames,e.toLowerCase())}},{key:"toString",value:function(){var e="";if(a.isPresent(this.element)&&(e+=this.element),a.isPresent(this.classNames))for(var t=0;t<this.classNames.length;t++)e+="."+this.classNames[t];if(a.isPresent(this.attrs))for(var t=0;t<this.attrs.length;){var r=this.attrs[t++],n=this.attrs[t++];e+="["+r,n.length>0&&(e+="="+n),e+="]"}return a.isPresent(this.notSelector)&&(e+=":not("+this.notSelector.toString()+")"),s.assert.returnType(e,s.assert.type.string)}}],[{key:"parse",value:function(t){s.assert.argumentTypes(t,s.assert.type.string);for(var r,n=o.ListWrapper.create(),i=function(e,t){a.isPresent(t.notSelector)&&a.isBlank(t.element)&&o.ListWrapper.isEmpty(t.classNames)&&o.ListWrapper.isEmpty(t.attrs)&&(t.element="*"),o.ListWrapper.push(e,t)},u=new e,p=a.RegExpWrapper.matcher(c,t),l=u;a.isPresent(r=a.RegExpMatcherWrapper.next(p));){if(a.isPresent(r[1])){if(a.isPresent(u.notSelector))throw new a.BaseException("Nesting :not is not allowed in a selector");l.notSelector=new e,l=l.notSelector}a.isPresent(r[2])&&l.setElement(r[2]),a.isPresent(r[3])&&l.addClassName(r[3]),a.isPresent(r[4])&&l.addAttribute(r[4],r[5]),a.isPresent(r[6])&&(i(n,u),u=l=new e)}return i(n,u),s.assert.returnType(n,s.assert.genericType(o.List,e))}}]),e}();t.CssSelector=p,Object.defineProperty(p.parse,"parameters",{get:function(){return[[s.assert.type.string]]}}),Object.defineProperty(p.prototype.setElement,"parameters",{get:function(){return[[s.assert.type.string]]}}),Object.defineProperty(p.prototype.addAttribute,"parameters",{get:function(){return[[s.assert.type.string],[s.assert.type.string]]}}),Object.defineProperty(p.prototype.addClassName,"parameters",{get:function(){return[[s.assert.type.string]]}});var l=function(){function e(){n(this,e),this._elementMap=o.MapWrapper.create(),this._elementPartialMap=o.MapWrapper.create(),this._classMap=o.MapWrapper.create(),this._classPartialMap=o.MapWrapper.create(),this._attrValueMap=o.MapWrapper.create(),this._attrValuePartialMap=o.MapWrapper.create(),this._listContexts=o.ListWrapper.create()}return i(e,[{key:"addSelectables",value:function(e,t){s.assert.argumentTypes(e,s.assert.genericType(o.List,p),t,s.assert.type.any);var r=null;e.length>1&&(r=new f(e),o.ListWrapper.push(this._listContexts,r));for(var n=0;n<e.length;n++)this.addSelectable(e[n],t,r)}},{key:"addSelectable",value:function(e,t,r){s.assert.argumentTypes(e,s.assert.type.any,t,s.assert.type.any,r,f);var n=this,i=e.element,u=e.classNames,c=e.attrs,p=new h(e,t,r);if(a.isPresent(i)){var l=0===c.length&&0===u.length;l?this._addTerminal(n._elementMap,i,p):n=this._addPartial(n._elementPartialMap,i)}if(a.isPresent(u))for(var d=0;d<u.length;d++){var l=0===c.length&&d===u.length-1,y=u[d];l?this._addTerminal(n._classMap,y,p):n=this._addPartial(n._classPartialMap,y)}if(a.isPresent(c))for(var d=0;d<c.length;){var l=d===c.length-2,m=c[d++],g=c[d++],v=l?n._attrValueMap:n._attrValuePartialMap,_=o.MapWrapper.get(v,m);a.isBlank(_)&&(_=o.MapWrapper.create(),o.MapWrapper.set(v,m,_)),l?this._addTerminal(_,g,p):n=this._addPartial(_,g)}}},{key:"_addTerminal",value:function(e,t,r){s.assert.argumentTypes(e,s.assert.genericType(o.Map,s.assert.type.string,s.assert.type.string),t,s.assert.type.string,r,s.assert.type.any);var n=o.MapWrapper.get(e,t);a.isBlank(n)&&(n=o.ListWrapper.create(),o.MapWrapper.set(e,t,n)),o.ListWrapper.push(n,r)}},{key:"_addPartial",value:function(t,r){s.assert.argumentTypes(t,s.assert.genericType(o.Map,s.assert.type.string,s.assert.type.string),r,s.assert.type.string);var n=o.MapWrapper.get(t,r);return a.isBlank(n)&&(n=new e,o.MapWrapper.set(t,r,n)),n}},{key:"match",value:function(e,t){s.assert.argumentTypes(e,p,t,Function);for(var r=!1,n=e.element,i=e.classNames,c=e.attrs,l=0;l<this._listContexts.length;l++)this._listContexts[l].alreadyMatched=!1;if(r=this._matchTerminal(this._elementMap,n,e,t)||r,r=this._matchPartial(this._elementPartialMap,n,e,t)||r,a.isPresent(i))for(var f=0;f<i.length;f++){var h=i[f];r=this._matchTerminal(this._classMap,h,e,t)||r,r=this._matchPartial(this._classPartialMap,h,e,t)||r}if(a.isPresent(c))for(var f=0;f<c.length;){var d=c[f++],y=c[f++],m=o.MapWrapper.get(this._attrValueMap,d);a.StringWrapper.equals(y,u)||(r=this._matchTerminal(m,u,e,t)||r),r=this._matchTerminal(m,y,e,t)||r,m=o.MapWrapper.get(this._attrValuePartialMap,d),r=this._matchPartial(m,y,e,t)||r}return s.assert.returnType(r,s.assert.type["boolean"])}},{key:"_matchTerminal",value:function(e,t,r,n){var i=void 0===arguments[0]?null:arguments[0];if(s.assert.argumentTypes(i,s.assert.genericType(o.Map,s.assert.type.string,s.assert.type.string),t,s.assert.type.any,r,s.assert.type.any,n,s.assert.type.any),a.isBlank(i)||a.isBlank(t))return s.assert.returnType(!1,s.assert.type["boolean"]);var u=o.MapWrapper.get(i,t),c=o.MapWrapper.get(i,"*");if(a.isPresent(c)&&(u=o.ListWrapper.concat(u,c)),a.isBlank(u))return s.assert.returnType(!1,s.assert.type["boolean"]);for(var p,l=!1,f=0;f<u.length;f++)p=u[f],l=p.finalize(r,n)||l;return s.assert.returnType(l,s.assert.type["boolean"])}},{key:"_matchPartial",value:function(e,t,r,n){var i=void 0===arguments[0]?null:arguments[0];if(s.assert.argumentTypes(i,s.assert.genericType(o.Map,s.assert.type.string,s.assert.type.string),t,s.assert.type.any,r,s.assert.type.any,n,s.assert.type.any),a.isBlank(i)||a.isBlank(t))return s.assert.returnType(!1,s.assert.type["boolean"]);var u=o.MapWrapper.get(i,t);return a.isBlank(u)?s.assert.returnType(!1,s.assert.type["boolean"]):s.assert.returnType(u.match(r,n),s.assert.type["boolean"])}}]),e}();t.SelectorMatcher=l,Object.defineProperty(l.prototype.addSelectables,"parameters",{get:function(){return[[s.assert.genericType(o.List,p)],[]]}}),Object.defineProperty(l.prototype.addSelectable,"parameters",{get:function(){return[[],[],[f]]}}),Object.defineProperty(l.prototype._addTerminal,"parameters",{get:function(){return[[s.assert.genericType(o.Map,s.assert.type.string,s.assert.type.string)],[s.assert.type.string],[]]}}),Object.defineProperty(l.prototype._addPartial,"parameters",{get:function(){return[[s.assert.genericType(o.Map,s.assert.type.string,s.assert.type.string)],[s.assert.type.string]]}}),Object.defineProperty(l.prototype.match,"parameters",{get:function(){return[[p],[Function]]}}),Object.defineProperty(l.prototype._matchTerminal,"parameters",{get:function(){return[[s.assert.genericType(o.Map,s.assert.type.string,s.assert.type.string)],[],[],[]]}}),Object.defineProperty(l.prototype._matchPartial,"parameters",{get:function(){return[[s.assert.genericType(o.Map,s.assert.type.string,s.assert.type.string)],[],[],[]]}});var f=function d(e){n(this,d),s.assert.argumentTypes(e,s.assert.genericType(o.List,p)),this.selectors=e,this.alreadyMatched=!1};Object.defineProperty(f,"parameters",{get:function(){return[[s.assert.genericType(o.List,p)]]}});var h=function(){function e(t,r,i){n(this,e),s.assert.argumentTypes(t,p,r,s.assert.type.any,i,f),this.selector=t,this.notSelector=t.notSelector,this.cbContext=r,this.listContext=i}return i(e,[{key:"finalize",value:function(e,t){s.assert.argumentTypes(e,p,t,s.assert.type.any);var r=!0;if(a.isPresent(this.notSelector)&&(a.isBlank(this.listContext)||!this.listContext.alreadyMatched)){var n=new l;n.addSelectable(this.notSelector,null,null),r=!n.match(e,null)}return r&&a.isPresent(t)&&(a.isBlank(this.listContext)||!this.listContext.alreadyMatched)&&(a.isPresent(this.listContext)&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),r}}]),e}();Object.defineProperty(h,"parameters",{get:function(){return[[p],[],[f]]}}),Object.defineProperty(h.prototype.finalize,"parameters",{get:function(){return[[p],[]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function y(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:y(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(2),c=r(8),p=r(10),l=r(24),f=r(23),h=r(29),d=function(e){function t(e){n(this,t),a.assert.argumentTypes(e,p.Parser),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._parser=e}return o(t,e),i(t,[{key:"process",value:function(e,t,r){if(a.assert.argumentTypes(e,f.CompileElement,t,f.CompileElement,r,h.CompileControl),t.compileChildren)for(var n=t.element,i=c.DOM.childNodes(c.DOM.templateAwareRoot(n)),s=0;s<i.length;s++){var o=i[s];if(c.DOM.isTextNode(o)){var p=c.DOM.nodeValue(o),l=this._parser.parseInterpolation(p,t.elementDescription);u.isPresent(l)&&(c.DOM.setText(o," "),t.bindElement().bindText(s,l))}}}}]),t}(l.CompileStep);t.TextInterpolationParser=d,Object.defineProperty(d,"parameters",{get:function(){return[[p.Parser]]}}),Object.defineProperty(d.prototype.process,"parameters",{get:function(){return[[f.CompileElement],[f.CompileElement],[h.CompileControl]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function g(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:g(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(2),c=r(8),p=r(4),l=r(10),f=r(24),h=r(23),d=r(29),y=r(30),m=function(e){function t(e){n(this,t),a.assert.argumentTypes(e,l.Parser),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._parser=e}return o(t,e),i(t,[{key:"process",value:function(e,t,r){a.assert.argumentTypes(e,h.CompileElement,t,h.CompileElement,r,d.CompileControl);var n=t.attrs(),i=p.MapWrapper.get(n,"template"),s=u.isPresent(i);if(p.MapWrapper.forEach(n,function(e,r){if(u.StringWrapper.startsWith(r,"*")){var n=u.StringWrapper.substring(r,1);if(s)throw new u.BaseException("Only one template directive per element is allowed: "+(""+i+" and "+n+" cannot be used simultaneously ")+("in "+t.elementDescription));i=0==e.length?n:n+" "+e,s=!0}}),u.isPresent(e)){if(c.DOM.isTemplateElement(t.element)&&!t.isViewRoot){var o=new h.CompileElement(c.DOM.createTemplate(""));o.inheritedProtoView=t.bindElement().bindNestedProtoView(o.element),o.elementDescription=t.elementDescription,o.isViewRoot=!0,this._moveChildNodes(c.DOM.content(t.element),c.DOM.content(o.element)),r.addChild(o)}if(s){var l=new h.CompileElement(c.DOM.createTemplate(""));l.inheritedProtoView=t.inheritedProtoView,l.inheritedElementBinder=t.inheritedElementBinder,l.distanceToInheritedBinder=t.distanceToInheritedBinder,l.elementDescription=t.elementDescription,t.inheritedProtoView=l.bindElement().bindNestedProtoView(t.element),t.inheritedElementBinder=null,t.distanceToInheritedBinder=0,t.isViewRoot=!0,this._parseTemplateBindings(i,l),this._addParentElement(t.element,l.element),r.addParent(l),c.DOM.remove(t.element)}}}},{key:"_moveChildNodes",value:function(e,t){for(var r=c.DOM.firstChild(e);u.isPresent(r);)c.DOM.appendChild(t,r),r=c.DOM.firstChild(e)}},{key:"_addParentElement",value:function(e,t){c.DOM.insertBefore(e,t),c.DOM.appendChild(t,e)}},{key:"_parseTemplateBindings",value:function(e,t){a.assert.argumentTypes(e,a.assert.type.string,t,h.CompileElement);for(var r=this._parser.parseTemplateBindings(e,t.elementDescription),n=0;n<r.length;n++){
var i=r[n];i.keyIsVar?(t.bindElement().bindVariable(y.dashCaseToCamelCase(i.key),i.name),p.MapWrapper.set(t.attrs(),i.key,i.name)):u.isPresent(i.expression)?(t.bindElement().bindProperty(y.dashCaseToCamelCase(i.key),i.expression),p.MapWrapper.set(t.attrs(),i.key,i.expression.source)):c.DOM.setAttribute(t.element,i.key,"")}}}]),t}(f.CompileStep);t.ViewSplitter=m,Object.defineProperty(m,"parameters",{get:function(){return[[l.Parser]]}}),Object.defineProperty(m.prototype.process,"parameters",{get:function(){return[[h.CompileElement],[h.CompileElement],[d.CompileControl]]}}),Object.defineProperty(m.prototype._parseTemplateBindings,"parameters",{get:function(){return[[a.assert.type.string],[h.CompileElement]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function f(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:f(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(37),c=r(4),p={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},l=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return o(t,e),i(t,[{key:"supports",value:function(e){return a.assert.argumentTypes(e,a.assert.type.string),e=e.toLowerCase(),a.assert.returnType(c.StringMapWrapper.contains(p,e),a.assert.type["boolean"])}}]),t}(u.EventManagerPlugin);t.HammerGesturesPluginCommon=l,Object.defineProperty(l.prototype.supports,"parameters",{get:function(){return[[a.assert.type.string]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function l(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:l(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(278),c=r(2),p=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return o(t,e),i(t,[{key:"supports",value:function(e){if(a.assert.argumentTypes(e,a.assert.type.string),!s(Object.getPrototypeOf(t.prototype),"supports",this).call(this,e))return a.assert.returnType(!1,a.assert.type["boolean"]);if(!c.isPresent(window.Hammer))throw new c.BaseException("Hammer.js is not loaded, can not bind "+e+" event");return a.assert.returnType(!0,a.assert.type["boolean"])}},{key:"addEventListener",value:function(e,t,r,n){if(a.assert.argumentTypes(e,a.assert.type.any,t,a.assert.type.string,r,Function,n,a.assert.type["boolean"]),n)throw new c.BaseException("Hammer.js plugin does not support bubbling gestures.");var i=this.manager.getZone();t=t.toLowerCase(),i.runOutsideAngular(function(){var n=new Hammer(e);n.get("pinch").set({enable:!0}),n.get("rotate").set({enable:!0}),n.on(t,function(e){i.run(function(){r(e)})})})}}]),t}(u.HammerGesturesPluginCommon);t.HammerGesturesPlugin=p,Object.defineProperty(p.prototype.supports,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(p.prototype.addEventListener,"parameters",{get:function(){return[[],[a.assert.type.string],[Function],[a.assert.type["boolean"]]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function y(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:y(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(8),c=r(2),p=r(4),l=r(37),f=["alt","control","meta","shift"],h={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},d=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return o(t,e),i(t,[{key:"supports",value:function(e){return a.assert.argumentTypes(e,a.assert.type.string),a.assert.returnType(c.isPresent(t.parseEventName(e)),a.assert.type["boolean"])}},{key:"addEventListener",value:function(e,r,n,i){a.assert.argumentTypes(e,a.assert.type.any,r,a.assert.type.string,n,Function,i,a.assert.type["boolean"]);var s=t.parseEventName(r),o=t.eventCallback(e,i,p.StringMapWrapper.get(s,"fullKey"),n,this.manager.getZone());this.manager.getZone().runOutsideAngular(function(){u.DOM.on(e,p.StringMapWrapper.get(s,"domEventName"),o)})}}],[{key:"parseEventName",value:function(e){a.assert.argumentTypes(e,a.assert.type.string),e=e.toLowerCase();var t=e.split("."),r=p.ListWrapper.removeAt(t,0);if(0===t.length||!c.StringWrapper.equals(r,"keydown")&&!c.StringWrapper.equals(r,"keyup"))return null;var n=p.ListWrapper.removeLast(t),i="";return p.ListWrapper.forEach(f,function(e){p.ListWrapper.contains(t,e)&&(p.ListWrapper.remove(t,e),i+=e+".")}),i+=n,0!=t.length||0===n.length?null:{domEventName:r,fullKey:i}}},{key:"getEventFullKey",value:function(e){var t="",r=u.DOM.getEventKey(e);return r=r.toLowerCase(),c.StringWrapper.equals(r," ")?r="space":c.StringWrapper.equals(r,".")&&(r="dot"),p.ListWrapper.forEach(f,function(n){if(n!=r){var i=p.StringMapWrapper.get(h,n);i(e)&&(t+=n+".")}}),t+=r,a.assert.returnType(t,a.assert.type.string)}},{key:"eventCallback",value:function(e,r,n,i,s){return function(o){var a=r||o.target===e;a&&t.getEventFullKey(o)===n&&s.run(function(){return i(o)})}}}]),t}(l.EventManagerPlugin);t.KeyEventsPlugin=d,Object.defineProperty(d.prototype.supports,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(d.prototype.addEventListener,"parameters",{get:function(){return[[],[a.assert.type.string],[Function],[a.assert.type["boolean"]]]}}),Object.defineProperty(d.parseEventName,"parameters",{get:function(){return[[a.assert.type.string]]}})},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function v(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:v(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var u=r(1),c=r(9),p=r(8),l=r(31),f=n(l),h=r(38),d=r(25),y=r(73),m=r(285),g=function(e){function t(e,r){i(this,t),u.assert.argumentTypes(e,y.StyleUrlResolver,r,u.assert.type.any),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.styleUrlResolver=e,this.styleHost=r}return a(t,e),s(t,[{key:"hasNativeContentElement",value:function(){return u.assert.returnType(!1,u.assert.type["boolean"])}},{key:"attachTemplate",value:function(e,t){u.assert.argumentTypes(e,u.assert.type.any,t,f.RenderView),m.moveViewNodesIntoParent(e,t)}},{key:"constructLightDom",value:function(e,t,r){return u.assert.argumentTypes(e,f.RenderView,t,f.RenderView,r,u.assert.type.any),u.assert.returnType(new h.LightDom(e,t,r),h.LightDom)}},{key:"processStyleElement",value:function(e,t,r){u.assert.argumentTypes(e,u.assert.type.string,t,u.assert.type.string,r,u.assert.type.any);var n=p.DOM.getText(r);return n=this.styleUrlResolver.resolveUrls(n,t),p.DOM.setText(r,n),p.DOM.remove(r),m.insertSharedStyleText(n,this.styleHost,r),u.assert.returnType(null,c.Promise)}}]),t}(d.ShadowDomStrategy);t.EmulatedUnscopedShadowDomStrategy=g,Object.defineProperty(g,"parameters",{get:function(){return[[y.StyleUrlResolver],[]]}}),Object.defineProperty(g.prototype.attachTemplate,"parameters",{get:function(){return[[],[f.RenderView]]}}),Object.defineProperty(g.prototype.constructLightDom,"parameters",{get:function(){return[[f.RenderView],[f.RenderView],[]]}}),Object.defineProperty(g.prototype.processStyleElement,"parameters",{get:function(){return[[u.assert.type.string],[u.assert.type.string],[]]}})},function(e,t,r){"use strict";function n(e){return a.assert.argumentTypes(e,a.assert.type.string),u.DOM.cssToRules(e)}function i(e,t){if(a.assert.argumentTypes(e,a.assert.type.string,t,Function),!p.isBlank(t)){var r=n(e);t(r)}}var s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(8),c=r(4),p=r(2),l=function(){function e(){s(this,e),this.strictStyling=!0}return o(e,[{key:"shimStyle",value:function(e,t){var r=void 0===arguments[2]?"":arguments[2];a.assert.argumentTypes(e,a.assert.type.any,t,a.assert.type.string,r,a.assert.type.string);var n=u.DOM.getText(e);return a.assert.returnType(this.shimCssText(n,t,r),a.assert.type.string)}},{key:"shimCssText",value:function(e,t){var r=void 0===arguments[2]?"":arguments[2];return a.assert.argumentTypes(e,a.assert.type.string,t,a.assert.type.string,r,a.assert.type.string),e=this._insertDirectives(e),a.assert.returnType(this._scopeCssText(e,t,r),a.assert.type.string)}},{key:"_insertDirectives",value:function(e){return a.assert.argumentTypes(e,a.assert.type.string),e=this._insertPolyfillDirectivesInCssText(e),a.assert.returnType(this._insertPolyfillRulesInCssText(e),a.assert.type.string)}},{key:"_insertPolyfillDirectivesInCssText",value:function(e){return a.assert.argumentTypes(e,a.assert.type.string),a.assert.returnType(p.StringWrapper.replaceAllMapped(e,f,function(e){return e[1]+"{"}),a.assert.type.string)}},{key:"_insertPolyfillRulesInCssText",value:function(e){return a.assert.argumentTypes(e,a.assert.type.string),a.assert.returnType(p.StringWrapper.replaceAllMapped(e,h,function(e){var t=e[0];return t=p.StringWrapper.replace(t,e[1],""),t=p.StringWrapper.replace(t,e[2],""),e[3]+t}),a.assert.type.string)}},{key:"_scopeCssText",value:function(e,t,r){var n=this;a.assert.argumentTypes(e,a.assert.type.string,t,a.assert.type.string,r,a.assert.type.string);var s=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),p.isPresent(t)&&i(e,function(i){e=n._scopeRules(i,t,r)}),e=e+"\n"+s,a.assert.returnType(e.trim(),a.assert.type.string)}},{key:"_extractUnscopedRulesFromCssText",value:function(e){a.assert.argumentTypes(e,a.assert.type.string);for(var t,r="",n=p.RegExpWrapper.matcher(d,e);p.isPresent(t=p.RegExpMatcherWrapper.next(n));){var i=t[0];i=p.StringWrapper.replace(i,t[2],""),i=p.StringWrapper.replace(i,t[1],t[3]),r=i+"\n\n"}return a.assert.returnType(r,a.assert.type.string)}},{key:"_convertColonHost",value:function(e){return a.assert.argumentTypes(e,a.assert.type.string),a.assert.returnType(this._convertColonRule(e,v,this._colonHostPartReplacer),a.assert.type.string)}},{key:"_convertColonHostContext",value:function(e){return a.assert.argumentTypes(e,a.assert.type.string),a.assert.returnType(this._convertColonRule(e,_,this._colonHostContextPartReplacer),a.assert.type.string)}},{key:"_convertColonRule",value:function(e,t,r){return a.assert.argumentTypes(e,a.assert.type.string,t,p.RegExp,r,Function),a.assert.returnType(p.StringWrapper.replaceAllMapped(e,t,function(e){if(p.isPresent(e[2])){for(var t=e[2].split(","),n=[],i=0;i<t.length;i++){var s=t[i];if(p.isBlank(s))break;s=s.trim(),c.ListWrapper.push(n,r(b,s,e[3]))}return n.join(",")}return b+e[3]}),a.assert.type.string)}},{key:"_colonHostContextPartReplacer",value:function(e,t,r){return a.assert.argumentTypes(e,a.assert.type.string,t,a.assert.type.string,r,a.assert.type.string),p.StringWrapper.contains(t,y)?a.assert.returnType(this._colonHostPartReplacer(e,t,r),a.assert.type.string):a.assert.returnType(e+t+r+", "+t+" "+e+r,a.assert.type.string)}},{key:"_colonHostPartReplacer",value:function(e,t,r){return a.assert.argumentTypes(e,a.assert.type.string,t,a.assert.type.string,r,a.assert.type.string),a.assert.returnType(e+p.StringWrapper.replace(t,y,"")+r,a.assert.type.string)}},{key:"_convertShadowDOMSelectors",value:function(e){a.assert.argumentTypes(e,a.assert.type.string);for(var t=0;t<w.length;t++)e=p.StringWrapper.replaceAll(e,w[t]," ");return a.assert.returnType(e,a.assert.type.string)}},{key:"_scopeRules",value:function(e,t,r){a.assert.argumentTypes(e,a.assert.type.any,t,a.assert.type.string,r,a.assert.type.string);var n="";if(p.isPresent(e))for(var i=0;i<e.length;i++){var s=e[i];if(u.DOM.isStyleRule(s)||u.DOM.isPageRule(s))n+=this._scopeSelector(s.selectorText,t,r,this.strictStyling)+" {\n",n+=this._propertiesFromRule(s)+"\n}\n\n";else if(u.DOM.isMediaRule(s))n+="@media "+s.media.mediaText+" {\n",n+=this._scopeRules(s.cssRules,t,r),n+="\n}\n\n";else try{p.isPresent(s.cssText)&&(n+=s.cssText+"\n\n")}catch(o){u.DOM.isKeyframesRule(s)&&p.isPresent(s.cssRules)&&(n+=this._ieSafeCssTextFromKeyFrameRule(s))}}return a.assert.returnType(n,a.assert.type.string)}},{key:"_ieSafeCssTextFromKeyFrameRule",value:function(e){for(var t="@keyframes "+e.name+" {",r=0;r<e.cssRules.length;r++){var n=e.cssRules[r];t+=" "+n.keyText+" {"+n.style.cssText+"}"}return t+=" }",a.assert.returnType(t,a.assert.type.string)}},{key:"_scopeSelector",value:function(e,t,r,n){a.assert.argumentTypes(e,a.assert.type.string,t,a.assert.type.string,r,a.assert.type.string,n,a.assert.type["boolean"]);for(var i=[],s=e.split(","),o=0;o<s.length;o++){var u=s[o];u=u.trim(),this._selectorNeedsScoping(u,t)&&(u=n&&!p.StringWrapper.contains(u,b)?this._applyStrictSelectorScope(u,t):this._applySelectorScope(u,t,r)),c.ListWrapper.push(i,u)}return a.assert.returnType(i.join(", "),a.assert.type.string)}},{key:"_selectorNeedsScoping",value:function(e,t){a.assert.argumentTypes(e,a.assert.type.string,t,a.assert.type.string);var r=this._makeScopeMatcher(t);return a.assert.returnType(!p.isPresent(p.RegExpWrapper.firstMatch(r,e)),a.assert.type["boolean"])}},{key:"_makeScopeMatcher",value:function(e){a.assert.argumentTypes(e,a.assert.type.string);var t=p.RegExpWrapper.create("\\["),r=p.RegExpWrapper.create("\\]");return e=p.StringWrapper.replaceAll(e,t,"\\["),e=p.StringWrapper.replaceAll(e,r,"\\]"),a.assert.returnType(p.RegExpWrapper.create("^("+e+")"+T,"m"),p.RegExp)}},{key:"_applySelectorScope",value:function(e,t,r){return a.assert.argumentTypes(e,a.assert.type.string,t,a.assert.type.string,r,a.assert.type.string),a.assert.returnType(this._applySimpleSelectorScope(e,t,r),a.assert.type.string)}},{key:"_applySimpleSelectorScope",value:function(e,t,r){if(a.assert.argumentTypes(e,a.assert.type.string,t,a.assert.type.string,r,a.assert.type.string),p.isPresent(p.RegExpWrapper.firstMatch(k,e))){var n=this.strictStyling?"["+r+"]":t;return e=p.StringWrapper.replace(e,b,n),a.assert.returnType(p.StringWrapper.replaceAll(e,k,n+" "),a.assert.type.string)}return a.assert.returnType(t+" "+e,a.assert.type.string)}},{key:"_applyStrictSelectorScope",value:function(e,t){var r=p.RegExpWrapper.create("\\[is=([^\\]]*)\\]");t=p.StringWrapper.replaceAllMapped(t,r,function(e){return e[1]});for(var n=[" ",">","+","~"],i=e,s="["+t+"]",o=0;o<n.length;o++){var u=n[o],l=i.split(u);i=c.ListWrapper.map(l,function(e){var t=p.StringWrapper.replaceAll(e.trim(),k,"");if(t.length>0&&!c.ListWrapper.contains(n,t)&&!p.StringWrapper.contains(t,s)){var r=p.RegExpWrapper.create("([^:]*)(:*)(.*)"),i=p.RegExpWrapper.firstMatch(r,t);p.isPresent(i)&&(e=i[1]+s+i[2]+i[3])}return e}).join(u)}return a.assert.returnType(i,a.assert.type.string)}},{key:"_insertPolyfillHostInCssText",value:function(e){return a.assert.argumentTypes(e,a.assert.type.string),e=p.StringWrapper.replaceAll(e,M,m),e=p.StringWrapper.replaceAll(e,L,y),a.assert.returnType(e,a.assert.type.string)}},{key:"_propertiesFromRule",value:function(e){var t=e.style.cssText,r=p.RegExpWrapper.create("['\"]+|attr");if(e.style.content.length>0&&!p.isPresent(p.RegExpWrapper.firstMatch(r,e.style.content))){var n=p.RegExpWrapper.create("content:[^;]*;");t=p.StringWrapper.replaceAll(t,n,"content: '"+e.style.content+"';")}return a.assert.returnType(t,a.assert.type.string)}}]),e}();t.ShadowCss=l,Object.defineProperty(l.prototype.shimStyle,"parameters",{get:function(){return[[],[a.assert.type.string],[a.assert.type.string]]}}),Object.defineProperty(l.prototype.shimCssText,"parameters",{get:function(){return[[a.assert.type.string],[a.assert.type.string],[a.assert.type.string]]}}),Object.defineProperty(l.prototype._insertDirectives,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(l.prototype._insertPolyfillDirectivesInCssText,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(l.prototype._insertPolyfillRulesInCssText,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(l.prototype._scopeCssText,"parameters",{get:function(){return[[a.assert.type.string],[a.assert.type.string],[a.assert.type.string]]}}),Object.defineProperty(l.prototype._extractUnscopedRulesFromCssText,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(l.prototype._convertColonHost,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(l.prototype._convertColonHostContext,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(l.prototype._convertColonRule,"parameters",{get:function(){return[[a.assert.type.string],[p.RegExp],[Function]]}}),Object.defineProperty(l.prototype._colonHostContextPartReplacer,"parameters",{get:function(){return[[a.assert.type.string],[a.assert.type.string],[a.assert.type.string]]}}),Object.defineProperty(l.prototype._colonHostPartReplacer,"parameters",{get:function(){return[[a.assert.type.string],[a.assert.type.string],[a.assert.type.string]]}}),Object.defineProperty(l.prototype._convertShadowDOMSelectors,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(l.prototype._scopeRules,"parameters",{get:function(){return[[],[a.assert.type.string],[a.assert.type.string]]}}),Object.defineProperty(l.prototype._scopeSelector,"parameters",{get:function(){return[[a.assert.type.string],[a.assert.type.string],[a.assert.type.string],[a.assert.type["boolean"]]]}}),Object.defineProperty(l.prototype._selectorNeedsScoping,"parameters",{get:function(){return[[a.assert.type.string],[a.assert.type.string]]}}),Object.defineProperty(l.prototype._makeScopeMatcher,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(l.prototype._applySelectorScope,"parameters",{get:function(){return[[a.assert.type.string],[a.assert.type.string],[a.assert.type.string]]}}),Object.defineProperty(l.prototype._applySimpleSelectorScope,"parameters",{get:function(){return[[a.assert.type.string],[a.assert.type.string],[a.assert.type.string]]}}),Object.defineProperty(l.prototype._applyStrictSelectorScope,"parameters",{get:function(){return[[a.assert.type.string],[a.assert.type.string]]}}),Object.defineProperty(l.prototype._insertPolyfillHostInCssText,"parameters",{get:function(){return[[a.assert.type.string]]}});var f=p.RegExpWrapper.create("polyfill-next-selector[^}]*content:[\\s]*?['\"](.*?)['\"][;\\s]*}([^{]*?){","im"),h=p.RegExpWrapper.create("(polyfill-rule)[^}]*(content:[\\s]*['\"](.*?)['\"])[;\\s]*[^}]*}","im"),d=p.RegExpWrapper.create("(polyfill-unscoped-rule)[^}]*(content:[\\s]*['\"](.*?)['\"])[;\\s]*[^}]*}","im"),y="-shadowcsshost",m="-shadowcsscontext",g=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",v=p.RegExpWrapper.create("("+y+g,"im"),_=p.RegExpWrapper.create("("+m+g,"im"),b=y+"-no-combinator",w=[p.RegExpWrapper.create(">>>"),p.RegExpWrapper.create("::shadow"),p.RegExpWrapper.create("::content"),p.RegExpWrapper.create("/deep/"),p.RegExpWrapper.create("/shadow-deep/"),p.RegExpWrapper.create("/shadow/")],T="([>\\s~+[.,{:][\\s\\S]*)?$",k=p.RegExpWrapper.create(y,"im"),L=p.RegExpWrapper.create(":host","im"),M=p.RegExpWrapper.create(":host-context","im");Object.defineProperty(n,"parameters",{get:function(){return[[a.assert.type.string]]}}),Object.defineProperty(i,"parameters",{get:function(){return[[a.assert.type.string],[Function]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function v(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:v(i,t,r)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(r)},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),u=r(2),c=r(4),p=r(9),l=r(8),f=r(24),h=r(23),d=r(29),y=r(11),m=r(25),g=function(e){function t(e,r,i){n(this,t),a.assert.argumentTypes(e,m.ShadowDomStrategy,r,y.ViewDefinition,i,a.assert.genericType(c.List,p.Promise)),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._shadowDomStrategy=e,this._template=r,this._subTaskPromises=i}return o(t,e),i(t,[{key:"process",value:function(e,t,r){a.assert.argumentTypes(e,h.CompileElement,t,h.CompileElement,r,d.CompileControl);var n=l.DOM.tagName(t.element).toUpperCase();if("STYLE"==n)this._processStyleElement(t,r);else if("CONTENT"==n)this._processContentElement(t);else{var i=t.isBound()?t.inheritedElementBinder.componentId:null;this._shadowDomStrategy.processElement(this._template.componentId,i,t.element)}}},{key:"_processStyleElement",value:function(e,t){a.assert.argumentTypes(e,h.CompileElement,t,d.CompileControl);var r=this._shadowDomStrategy.processStyleElement(this._template.componentId,this._template.absUrl,e.element);u.isPresent(r)&&p.PromiseWrapper.isPromise(r)&&c.ListWrapper.push(this._subTaskPromises,r),t.ignoreCurrentElement()}},{key:"_processContentElement",value:function(e){if(a.assert.argumentTypes(e,h.CompileElement),!this._shadowDomStrategy.hasNativeContentElement()){var t=e.attrs(),r=c.MapWrapper.get(t,"select");r=u.isPresent(r)?r:"";var n=l.DOM.createScriptTag("type","ng/contentStart");u.assertionsEnabled()&&l.DOM.setAttribute(n,"select",r);var i=l.DOM.createScriptTag("type","ng/contentEnd");l.DOM.insertBefore(e.element,n),l.DOM.insertBefore(e.element,i),l.DOM.remove(e.element),e.element=n,e.bindElement().setContentTagSelector(r)}}}]),t}(f.CompileStep);t.ShadowDomCompileStep=g,Object.defineProperty(g,"parameters",{get:function(){return[[m.ShadowDomStrategy],[y.ViewDefinition],[a.assert.genericType(c.List,p.Promise)]]}}),Object.defineProperty(g.prototype.process,"parameters",{get:function(){return[[h.CompileElement],[h.CompileElement],[d.CompileControl]]}}),Object.defineProperty(g.prototype._processStyleElement,"parameters",{get:function(){return[[h.CompileElement],[d.CompileControl]]}}),Object.defineProperty(g.prototype._processContentElement,"parameters",{get:function(){return[[h.CompileElement]]}})},function(e,t,r){"use strict";function n(e){u.assert.argumentTypes(e,u.assert.type.string);var t=d.RegExpWrapper.firstMatch(v,e);return d.isBlank(t)?u.assert.returnType(null,u.assert.type.string):u.assert.returnType(d.isPresent(t[1])?t[1]:t[2],u.assert.type.string)}function i(e){u.assert.argumentTypes(e,u.assert.type.string);var t=d.RegExpWrapper.firstMatch(_,e);if(d.isBlank(t))return u.assert.returnType(null,u.assert.type.string);var r=t[1].trim();return u.assert.returnType(r.length>0?r:null,u.assert.type.string)}function s(e,t){return u.assert.argumentTypes(e,u.assert.type.string,t,u.assert.type.string),u.assert.returnType(d.isBlank(t)?e:"@media "+t+" {\n"+e+"\n}",u.assert.type.string)}var o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(1),c=r(7),p=r(54),l=r(4),f=r(40),h=r(73),d=r(2),y=r(9),m=function(){function e(t,r,n){o(this,e),u.assert.argumentTypes(t,p.XHR,r,h.StyleUrlResolver,n,f.UrlResolver),this._xhr=t,this._urlResolver=n,this._styleUrlResolver=r}return a(e,[{key:"inlineImports",value:function(e,t){return u.assert.argumentTypes(e,u.assert.type.string,t,u.assert.type.string),this._inlineImports(e,t,[])}},{key:"_inlineImports",value:function(e,t,r){var s=this,o=0,a=d.StringWrapper.split(e,g);if(1===a.length)return e;for(var u=[];o<a.length-1;){var c=a[o],p=a[o+1],f=n(p);d.isPresent(f)&&(f=this._urlResolver.resolve(t,f));var h,m=i(p);d.isBlank(f)?h=y.PromiseWrapper.resolve('/* Invalid import rule: "@import '+p+';" */'):l.ListWrapper.contains(r,f)?h=y.PromiseWrapper.resolve(c):(l.ListWrapper.push(r,f),h=y.PromiseWrapper.then(this._xhr.get(f),function(e){return e=s._inlineImports(e,f,r),y.PromiseWrapper.isPromise(e)?e.then(function(e){return c+s._transformImportedCss(e,m,f)+"\n"}):c+s._transformImportedCss(e,m,f)+"\n"},function(e){return"/* failed to import "+f+" */\n"})),l.ListWrapper.push(u,h),o+=2}return y.PromiseWrapper.all(u).then(function(e){var t=e.join("");return o<a.length&&(t+=a[o]),t})}},{key:"_transformImportedCss",value:function(e,t,r){return u.assert.argumentTypes(e,u.assert.type.string,t,u.assert.type.string,r,u.assert.type.string),e=this._styleUrlResolver.resolveUrls(e,r),u.assert.returnType(s(e,t),u.assert.type.string)}}]),e}();t.StyleInliner=m,Object.defineProperty(m,"annotations",{get:function(){return[new c.Injectable]}}),Object.defineProperty(m,"parameters",{get:function(){return[[p.XHR],[h.StyleUrlResolver],[f.UrlResolver]]}}),Object.defineProperty(m.prototype.inlineImports,"parameters",{get:function(){return[[u.assert.type.string],[u.assert.type.string]]}}),Object.defineProperty(m.prototype._inlineImports,"parameters",{get:function(){return[[u.assert.type.string],[u.assert.type.string],[u.assert.genericType(List,u.assert.type.string)]]}}),Object.defineProperty(m.prototype._transformImportedCss,"parameters",{get:function(){return[[u.assert.type.string],[u.assert.type.string],[u.assert.type.string]]}}),Object.defineProperty(n,"parameters",{get:function(){return[[u.assert.type.string]]}}),Object.defineProperty(i,"parameters",{get:function(){return[[u.assert.type.string]]}}),Object.defineProperty(s,"parameters",{get:function(){return[[u.assert.type.string],[u.assert.type.string]]}});var g=d.RegExpWrapper.create("@import\\s+([^;]+);"),v=d.RegExpWrapper.create("url\\(\\s*?['\"]?([^'\")]+)['\"]?|['\"]([^'\")]+)['\"]"),_=d.RegExpWrapper.create("['\"][^'\"]+['\"]\\s*\\)?\\s*(.*)")},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.rootNodes.length;++r)y.DOM.appendChild(e,t.rootNodes[r])}function i(e){f.assert.argumentTypes(e,f.assert.type.string);var t=d.MapWrapper.get(g,e);return h.isBlank(t)&&(t=v++,d.MapWrapper.set(g,e,t)),t}function s(e,t,r){d.MapWrapper.contains(_,e)||(d.MapWrapper.set(_,e,!0),o(t,r))}function o(e,t){if(h.isBlank(l)){var r=y.DOM.firstChild(e);h.isPresent(r)?y.DOM.insertBefore(r,t):y.DOM.appendChild(e,t)}else y.DOM.insertAfter(l,t);l=t}function a(e){return f.assert.argumentTypes(e,h["int"]),"_nghost-"+e}function u(e){return f.assert.argumentTypes(e,h["int"]),"_ngcontent-"+e}function c(e,t){f.assert.argumentTypes(e,f.assert.type.string,t,f.assert.type.string);var r=i(t),n=new m.ShadowCss;return f.assert.returnType(n.shimCssText(e,u(r),a(r)),f.assert.type.string)}function p(){d.MapWrapper.clear(g),v=0,d.MapWrapper.clear(_),l=null}Object.defineProperty(t,"__esModule",{value:!0}),t.moveViewNodesIntoParent=n,t.getComponentId=i,t.insertSharedStyleText=s,t.insertStyleElement=o,t.getHostAttribute=a,t.getContentAttribute=u,t.shimCssForComponent=c,t.resetShadowDomCache=p;var l,f=r(1),h=r(2),d=r(4),y=r(8),m=r(282),g=f.assert.type(d.MapWrapper.create(),f.assert.genericType(d.Map,f.assert.type.string,h["int"])),v=f.assert.type(0,h["int"]),_=f.assert.type(d.MapWrapper.create(),f.assert.genericType(d.Map,f.assert.type.string,f.assert.type["boolean"]));Object.defineProperty(i,"parameters",{get:function(){return[[f.assert.type.string]]}}),Object.defineProperty(a,"parameters",{get:function(){return[[h["int"]]]}}),Object.defineProperty(u,"parameters",{get:function(){return[[h["int"]]]}}),Object.defineProperty(c,"parameters",{get:function(){return[[f.assert.type.string],[f.assert.type.string]]}})},function(e,t,r){"use strict";function n(e){var t,r,n;if(l.StringWrapper.startsWith(e,v))t=s(l.StringWrapper.substring(e,v.length));else if(l.StringWrapper.startsWith(e,b))t=o(l.StringWrapper.substring(e,b.length));else if(l.StringWrapper.startsWith(e,T))r=e.split(m),n=r.length>2?f.ListWrapper.get(r,2):"",t=a(f.ListWrapper.get(r,1),n);else if(l.StringWrapper.equals(e,"innerHtml"))l.isBlank(c)&&(c=function(e,t){return h.DOM.setInnerHTML(e,t)}),t=c;else if(e=u(e),t=f.StringMapWrapper.get(g,e),l.isBlank(t)){var i=y.reflector.setter(e);t=function(t,r){return h.DOM.hasProperty(t,e)?i(t,r):void 0},f.StringMapWrapper.set(g,e,t)}return p.assert.returnType(t,Function)}function i(e,t){return p.assert.argumentTypes(e,p.assert.type.string,t,p.assert.type.any),
"role"==e?p.assert.returnType(l.isString(t),p.assert.type["boolean"]):p.assert.returnType(l.isPresent(t),p.assert.type["boolean"])}function s(e){p.assert.argumentTypes(e,p.assert.type.string);var t,r=f.StringMapWrapper.get(_,e);return l.isBlank(r)&&(t=d.camelCaseToDashCase(e),r=function(e,r){if(i(t,r))h.DOM.setAttribute(e,t,l.stringify(r));else{if(l.isPresent(r))throw new l.BaseException("Invalid "+t+" attribute, only string values are allowed, got '"+l.stringify(r)+"'");h.DOM.removeAttribute(e,t)}},f.StringMapWrapper.set(_,e,r)),p.assert.returnType(r,Function)}function o(e){p.assert.argumentTypes(e,p.assert.type.string);var t,r=f.StringMapWrapper.get(w,e);return l.isBlank(r)&&(t=d.camelCaseToDashCase(e),r=function(e,r){r?h.DOM.addClass(e,t):h.DOM.removeClass(e,t)},f.StringMapWrapper.set(w,e,r)),p.assert.returnType(r,Function)}function a(e,t){p.assert.argumentTypes(e,p.assert.type.string,t,p.assert.type.string);var r,n=e+t,i=f.StringMapWrapper.get(k,n);return l.isBlank(i)&&(r=d.camelCaseToDashCase(e),i=function(e,n){var i;l.isPresent(n)?(i=l.stringify(n),h.DOM.setStyle(e,r,i+t)):h.DOM.removeStyle(e,r)},f.StringMapWrapper.set(k,n,i)),p.assert.returnType(i,Function)}function u(e){p.assert.argumentTypes(e,p.assert.type.string);var t=f.StringMapWrapper.get(h.DOM.attrToPropMap,e);return p.assert.returnType(l.isPresent(t)?t:e,p.assert.type.string)}Object.defineProperty(t,"__esModule",{value:!0}),t.setterFactory=n;var c,p=r(1),l=r(2),f=r(4),h=r(8),d=r(30),y=r(22),m=".",g=f.StringMapWrapper.create();Object.defineProperty(n,"parameters",{get:function(){return[[p.assert.type.string]]}});var v="attr.",_=f.StringMapWrapper.create();Object.defineProperty(i,"parameters",{get:function(){return[[p.assert.type.string],[p.assert.type.any]]}}),Object.defineProperty(s,"parameters",{get:function(){return[[p.assert.type.string]]}});var b="class.",w=f.StringMapWrapper.create();Object.defineProperty(o,"parameters",{get:function(){return[[p.assert.type.string]]}});var T="style.",k=f.StringMapWrapper.create();Object.defineProperty(a,"parameters",{get:function(){return[[p.assert.type.string],[p.assert.type.string]]}}),Object.defineProperty(u,"parameters",{get:function(){return[[p.assert.type.string]]}})},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(7),u=r(9),c=r(54),p=function(e){function t(){n(this,t),null!=e&&e.apply(this,arguments)}return s(t,e),i(t,[{key:"get",value:function(e){o.assert.argumentTypes(e,o.assert.type.string);var t=u.PromiseWrapper.completer(),r=new XMLHttpRequest;return r.open("GET",e,!0),r.responseType="text",r.onload=function(){var n=r.status;n>=200&&300>=n?t.resolve(r.responseText):t.reject("Failed to load "+e)},r.onerror=function(){t.reject("Failed to load "+e)},r.send(),o.assert.returnType(t.promise,o.assert.genericType(u.Promise,o.assert.type.string))}}]),t}(c.XHR);t.XHRImpl=p,Object.defineProperty(p,"annotations",{get:function(){return[new a.Injectable]}}),Object.defineProperty(p.prototype.get,"parameters",{get:function(){return[[o.assert.type.string]]}})},function(e,t,r){(function(e){"use strict";function r(e){var t=e/2+1;return v[t]||t+"th"}function n(){}function i(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];for(var i,a,c,p=[],l=0,f=t.length;f>l;l+=2)i=t[l],a=t[l+1],c=[],o(i,a,c)||(p.push(r(l)+" argument has to be an instance of "+s(a)+", got "+s(i)),c.length&&p.push(c));if(p.length)throw new Error("Invalid arguments given!\n"+u(p))}function s(e,t){if("undefined"==typeof t&&(t=0),t++>3)return"[...]";if("undefined"==typeof e)return"undefined";if("string"==typeof e)return'"'+e+'"';if("boolean"==typeof e)return e.toString();if(null===e)return"null";if("object"==typeof e){if(e.__assertName)return e.__assertName;if(e.map&&"function"==typeof e.map)return"["+e.map(function(e){return s(e,t)}).join(", ")+"]";var r=Object.keys(e),n="}";return r.length>20&&(r.length=20,n=", ... }"),"{"+r.map(function(r){return r+": "+s(e[r],t)}).join(", ")+n}return e.__assertName||e.name||e.toString()}function o(e,t,r){if(t&&t.type&&(t=t.type),t===m["void"])return"undefined"==typeof e;if(a(e))return!0;if(t===m.any||null===e)return!0;if(t===m.string)return"string"==typeof e;if(t===m.number)return"number"==typeof e;if(t===m["boolean"])return"boolean"==typeof e;if("function"==typeof t.assert){var n,i=T;T=r;try{n=t.assert(e)}catch(s){h(s.message),n=!1}return T=i,"undefined"==typeof n&&(n=0===r.length),n}return e instanceof t}function a(e){return e&&e.constructor&&e.constructor.annotations?e.constructor.annotations.filter(function(e){return e instanceof n}).length>0:!1}function u(e){var t=void 0===arguments[1]?"  ":arguments[1];return e.map(function(e){return"string"==typeof e?t+"- "+e:u(e,t+"  ")}).join("\n")}function c(e,t){var r=[];if(!o(e,t,r)){var n="Expected an instance of "+s(t)+", got "+s(e)+"!";throw r.length&&(n+="\n"+u(r)),new Error(n)}return e}function p(e,t){var r=[];if(!o(e,t,r)){var n="Expected to return an instance of "+s(t)+", got "+s(e)+"!";throw r.length&&(n+="\n"+u(r)),new Error(n)}return e}function l(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return y.__def_("array of "+t.map(s).join("/"),function(e){if(y(e).is(Array))for(var r=0;r<e.length;r++){var n;(n=y(e[r])).is.apply(n,t)}})}function f(e){var t=Object.keys(e);return y.__def_("object with properties "+t.join(", "),function(r){if(y(r).is(Object))for(var n=0;n<t.length;n++){var i=t[n];y(r[i]).is(e[i])}})}function h(e){T.push(e)}function d(e,t){var r=e;return"string"==typeof e&&(r=function(){},r.__assertName=e),r.assert=function(e){return t(e)},r}function y(e){return{is:function(){for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];for(var i,a=[],u=0;u<r.length;u++){var c=r[u];if(i=[],o(e,c,i))return!0;a.push(s(e)+" is not instance of "+s(c)),i.length&&a.push(i)}return T.push.apply(T,a),!1}}}Object.defineProperty(t,"__esModule",{value:!0}),t.proxy=n;var m,g,v=("object"==typeof window?window:e,["","1st","2nd","3rd"]);"object"==typeof $traceurRuntime?(m=$traceurRuntime.type,g=$traceurRuntime.genericType):(m={any:{name:"any"},"boolean":{name:"boolean"},number:{name:"number"},string:{name:"string"},symbol:{name:"symbol"},"void":{name:"void"}},g=function(e,t){return{type:e,args:t}}),Object.keys(m).forEach(function(e){m[e].__assertName=e});var _=c.string=d("string",function(e){return"string"==typeof e}),b=c["boolean"]=d("boolean",function(e){return"boolean"==typeof e}),w=c.number=d("number",function(e){return"number"==typeof e}),T=[];y.type=c;for(var k in m)y.type[k]=m[k];y.genericType=g,y.argumentTypes=i,y.returnType=p,y.__def_=d,y.fail=h,y.string=_,y.number=w,y["boolean"]=b,y.arrayOf=l,y.structure=f,t.assert=y}).call(t,function(){return this}())},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:null==t||"undefined"==typeof Symbol||t.constructor!==Symbol,configurable:!0,writable:!0})};r(236);var s=r(307),o=r(21),a=r(56),u=r(291),c=r(292),p=r(293);window.zone=window.Zone=s.zone,r(295);var l=function f(){n(this,f)};i(l,"annotations",[new o.Component({selector:"hacker-news"}),new o.View({template:"\n    "+r(302)+"\n    "+(a.router.itemId?"<page-item></page-item>":"")+"\n    "+(a.router.userId?"<page-user></page-user>":"")+"\n    "+(a.router.itemId||a.router.userId?"":"<page-home></page-home>")+"\n    "+r(301)+"\n  ",directives:[u.HomePage,c.ItemPage,p.UserPage]})]),o.bootstrap(l)},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(21),a=function(e){function t(){n(this,t),null!=e&&e.apply(this,arguments)}return s(t,e),i(t,null,[{key:"transform",value:function(e){if(!e)return"";var t=e.split("/")[2];return t?t.replace("www.",""):t}}]),t}(o.Pipe);t.DomainPipe=a},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:null==t||"undefined"==typeof Symbol||t.constructor!==Symbol,configurable:!0,writable:!0})};Object.defineProperty(t,"__esModule",{value:!0});var o=r(21),a=r(55),u=r(77),c=function(){function e(t){var r=this;n(this,e),assert.argumentTypes(t,a.HNApi),t.fetchTopStories().then(function(){r.topStories=t.topStories})}return i(e,[{key:"topStories",value:void 0,enumerable:!0}]),e}();t.HomePage=c,s(c,"annotations",[new o.Component({selector:"page-home",injectables:[a.HNApi]}),new o.View({directives:[o.For,u.HNItem],template:r(303)})]),s(c,"parameters",[[a.HNApi]])},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:null==t||"undefined"==typeof Symbol||t.constructor!==Symbol,configurable:!0,writable:!0})};Object.defineProperty(t,"__esModule",{value:!0});var o=r(21),a=r(55),u=r(56),c=r(77);r(296);var p=function(){function e(t){var r=this;n(this,e),assert.argumentTypes(t,a.HNApi),this.itemId=u.router.itemId,t.fetchItem(u.router.itemId).then(function(e){e&&(r.childrenIds=e.kids)})}return i(e,[{key:"childrenIds",value:void 0,enumerable:!0}]),e}();t.ItemPage=p,s(p,"annotations",[new o.Component({selector:"page-item",injectables:[a.HNApi]}),new o.View({directives:[o.For,c.HNItem],template:r(304)})]),s(p,"parameters",[[a.HNApi]])},function(e,t,r){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:null==t||"undefined"==typeof Symbol||t.constructor!==Symbol,configurable:!0,writable:!0})};Object.defineProperty(t,"__esModule",{value:!0});var o=r(21),a=r(55),u=r(56),c=r(104),p=r(77);r(297);var l=function(){function e(t){var r=this;n(this,e),assert.argumentTypes(t,a.HNApi),t.fetchUser(u.router.userId).then(function(e){r.data=e,r.data.submitted=r.data.submitted.splice(0,30)}),this.timeAgo=c.timeAgo,this.showSubmissions=!1}return i(e,[{key:"showSubmissions",value:void 0,enumerable:!0}]),e}();t.UserPage=l,s(l,"annotations",[new o.Component({selector:"page-user",injectables:[a.HNApi]}),new o.View({directives:[o.For,o.If,p.HNItem],template:r(305)})]),s(l,"parameters",[[a.HNApi]])},function(e,t,r){},294,294,294,function(module,exports,__webpack_require__){/*! @license Firebase v2.2.4
	    License: https://www.firebase.com/terms/terms-of-service.html */
!function(){function n(e){return void 0!==e}function ba(){}function ca(e){e.ub=function(){return e.tf?e.tf:e.tf=new e}}function da(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function ea(e){return"array"==da(e)}function fa(e){var t=da(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"string"==typeof e}function ga(e){return"number"==typeof e}function ha(e){return"function"==da(e)}function ia(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function ja(e,t,r){return e.call.apply(e.bind,arguments)}function ka(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function q(e,t,r){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function ma(e,t){function r(){}r.prototype=t.prototype,e.Zg=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Vg=function(e,r,n){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[r].apply(e,i)}}function r(e,t){for(var r in e)t.call(void 0,e[r],r,e)}function na(e,t){var r,n={};for(r in e)n[r]=t.call(void 0,e[r],r,e);return n}function oa(e,t){for(var r in e)if(!t.call(void 0,e[r],r,e))return!1;return!0}function pa(e){var t,r=0;for(t in e)r++;return r}function qa(e){for(var t in e)return t}function ra(e){var t,r=[],n=0;for(t in e)r[n++]=e[t];return r}function sa(e){var t,r=[],n=0;for(t in e)r[n++]=t;return r}function ta(e,t){for(var r in e)if(e[r]==t)return!0;return!1}function ua(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return n}function va(e,t){var r=ua(e,t,void 0);return r&&e[r]}function wa(e){for(var t in e)return!1;return!0}function xa(e){var t,r={};for(t in e)r[t]=e[t];return r}function za(e,t){for(var r,n,i=1;i<arguments.length;i++){n=arguments[i];for(r in n)e[r]=n[r];for(var s=0;s<ya.length;s++)r=ya[s],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function Aa(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Ba(){this.Pd=void 0}function Ca(e,t,r){switch(typeof t){case"string":Da(t,r);break;case"number":r.push(isFinite(t)&&!isNaN(t)?t:"null");break;case"boolean":r.push(t);break;case"undefined":r.push("null");break;case"object":if(null==t){r.push("null");break}if(ea(t)){var n=t.length;r.push("[");for(var i="",s=0;n>s;s++)r.push(i),i=t[s],Ca(e,e.Pd?e.Pd.call(t,String(s),i):i,r),i=",";r.push("]");break}r.push("{"),n="";for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i=t[s],"function"!=typeof i&&(r.push(n),Da(s,r),r.push(":"),Ca(e,e.Pd?e.Pd.call(t,s,i):i,r),n=","));r.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof t)}}function Da(e,t){t.push('"',e.replace(Fa,function(e){if(e in Ea)return Ea[e];var t=e.charCodeAt(0),r="\\u";return 16>t?r+="000":256>t?r+="00":4096>t&&(r+="0"),Ea[e]=r+t.toString(16)}),'"')}function Ga(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}function Ka(){this.Wa=-1}function La(){this.Wa=-1,this.Wa=64,this.R=[],this.le=[],this.Tf=[],this.Id=[],this.Id[0]=128;for(var e=1;e<this.Wa;++e)this.Id[e]=0;this.be=this.$b=0,this.reset()}function Ma(e,t,r){r||(r=0);var n=e.Tf;if(p(t))for(var i=0;16>i;i++)n[i]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(i=0;16>i;i++)n[i]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(i=16;80>i;i++){var s=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(s<<1|s>>>31)}t=e.R[0],r=e.R[1];for(var o,a=e.R[2],u=e.R[3],c=e.R[4],i=0;80>i;i++)40>i?20>i?(s=u^r&(a^u),o=1518500249):(s=r^a^u,o=1859775393):60>i?(s=r&a|u&(r|a),o=2400959708):(s=r^a^u,o=3395469782),s=(t<<5|t>>>27)+s+c+o+n[i]&4294967295,c=u,u=a,a=4294967295&(r<<30|r>>>2),r=t,t=s;e.R[0]=e.R[0]+t&4294967295,e.R[1]=e.R[1]+r&4294967295,e.R[2]=e.R[2]+a&4294967295,e.R[3]=e.R[3]+u&4294967295,e.R[4]=e.R[4]+c&4294967295}function Ta(e,t){var r=Ua(e,t,void 0);return 0>r?null:p(e)?e.charAt(r):e[r]}function Ua(e,t,r){for(var n=e.length,i=p(e)?e.split(""):e,s=0;n>s;s++)if(s in i&&t.call(r,i[s],s,e))return s;return-1}function Va(e,r){var n=Na(e,r);n>=0&&t.splice.call(e,n,1)}function Wa(e,r,n){return 2>=arguments.length?t.slice.call(e,r):t.slice.call(e,r,n)}function Xa(e,t){e.sort(t||Ya)}function Ya(e,t){return e>t?1:t>e?-1:0}function fb(e,t){if(!fa(e))throw Error("encodeByteArray takes an array as a parameter");gb();for(var r=t?db:cb,n=[],i=0;i<e.length;i+=3){var s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,p=s>>2,s=(3&s)<<4|a>>4,a=(15&a)<<2|c>>6,c=63&c;u||(c=64,o||(a=64)),n.push(r[p],r[s],r[a],r[c])}return n.join("")}function gb(){if(!cb){cb={},db={},eb={};for(var e=0;65>e;e++)cb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),db[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e),eb[db[e]]=e,e>=62&&(eb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)]=e)}}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function hb(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function ib(e){var t={};return hb(e,function(e,r){t[e]=r}),t}function jb(e){var t=[];return hb(e,function(e,r){ea(r)?Oa(r,function(r){t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}),t.length?"&"+t.join("&"):""}function kb(e){var t={};return e=e.replace(/^\?/,"").split("&"),Oa(e,function(e){e&&(e=e.split("="),t[e[0]]=e[1])}),t}function x(e,t,r,n){var i;if(t>n?i="at least "+t:n>r&&(i=0===r?"none":"no more than "+r),i)throw Error(e+" failed: Was called with "+n+(1===n?" argument.":" arguments.")+" Expects "+i+".")}function z(e,t,r){var n="";switch(t){case 1:n=r?"first":"First";break;case 2:n=r?"second":"Second";break;case 3:n=r?"third":"Third";break;case 4:n=r?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e=e+" failed: "+(n+" argument ")}function A(e,t,r,i){if((!i||n(r))&&!ha(r))throw Error(z(e,t,i)+"must be a valid function.")}function lb(e,t,r){if(n(r)&&(!ia(r)||null===r))throw Error(z(e,t,!0)+"must be a valid context object.")}function mb(e){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(e):Aa(e)}function B(e){if("undefined"!=typeof JSON&&n(JSON.stringify))e=JSON.stringify(e);else{var t=[];Ca(new Ba,e,t),e=t.join("")}return e}function nb(){this.Sd=C}function ob(){}function qb(e,t,r){this.Qf=e,this.Ka=t,this.Hd=r}function ub(){this.tb=[]}function vb(e,t){for(var r=null,n=0;n<t.length;n++){var i=t[n],s=i.Yb();null===r||s.Z(r.Yb())||(e.tb.push(r),r=null),null===r&&(r=new wb(s)),r.add(i)}r&&e.tb.push(r)}function xb(e,t,r){vb(e,r),yb(e,function(e){return e.Z(t)})}function zb(e,t,r){vb(e,r),yb(e,function(e){return e.contains(t)||t.contains(e)})}function yb(e,t){for(var r=!0,n=0;n<e.tb.length;n++){var i=e.tb[n];if(i)if(i=i.Yb(),t(i)){for(var i=e.tb[n],s=0;s<i.sd.length;s++){var o=i.sd[s];if(null!==o){i.sd[s]=null;var a=o.Ub();Ab&&Bb("event: "+o.toString()),Cb(a)}}e.tb[n]=null}else r=!1}r&&(e.tb=[])}function wb(e){this.qa=e,this.sd=[]}function D(e,t,r,n){this.type=e,this.Ja=t,this.Ya=r,this.Je=n,this.Nd=void 0}function Db(e){return new D(Eb,e)}function Fb(e,t,r,n){this.te=t,this.Wd=r,this.Nd=n,this.rd=e}function Gb(e,t,r){this.te=e,this.error=t,this.path=r}function sb(e,t,r){this.B=e,this.$=t,this.Tb=r}function Hb(e){return e.$}function rb(e,t){return e.$&&!e.Tb||e.B.Ha(t)}function Ib(e){this.dg=e,this.Ad=null}function Jb(e,t){this.Mf={},this.Yd=new Ib(e),this.ca=t;var r=1e4+2e4*Math.random();setTimeout(q(this.Hf,this),Math.floor(r))}function Kb(){this.Dc={}}function Lb(e,t,r){n(r)||(r=1),u(e.Dc,t)||(e.Dc[t]=0),e.Dc[t]+=r}function Ob(e){return e=e.toString(),Mb[e]||(Mb[e]=new Kb),Mb[e]}function Pb(e,t){var r=e.toString();return Nb[r]||(Nb[r]=t()),Nb[r]}function E(e,t){this.name=e,this.S=t}function Qb(e,t){return new E(e,t)}function Rb(e,t){return Sb(e.name,t.name)}function Tb(e,t){return Sb(e,t)}function Ub(e,t,r){this.type=Vb,this.source=e,this.path=t,this.Ia=r}function Wb(e,t){this.type=Xb,this.source=Yb,this.path=e,this.Ve=t}function Zb(e,t){this.type=$b,this.source=e,this.path=t}function ac(e,t){this.La=e,this.xa=t?t:bc}function cc(e,t){for(var r,n=e.xa,i=null;!n.e();){if(r=e.La(t,n.key),0===r){if(n.left.e())return i?i.key:null;for(n=n.left;!n.right.e();)n=n.right;return n.key}0>r?n=n.left:r>0&&(i=n,n=n.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function dc(e,t,r,n,i){for(this.Rd=i||null,this.Ee=n,this.Pa=[],i=1;!e.e();)if(i=t?r(e.key,t):1,n&&(i*=-1),0>i)e=this.Ee?e.left:e.right;else{if(0===i){this.Pa.push(e);break}this.Pa.push(e),e=this.Ee?e.right:e.left}}function H(e){if(0===e.Pa.length)return null;var t,r=e.Pa.pop();if(t=e.Rd?e.Rd(r.key,r.value):{key:r.key,value:r.value},e.Ee)for(r=r.left;!r.e();)e.Pa.push(r),r=r.right;else for(r=r.right;!r.e();)e.Pa.push(r),r=r.left;return t}function ec(e){if(0===e.Pa.length)return null;var t;return t=e.Pa,t=t[t.length-1],e.Rd?e.Rd(t.key,t.value):{key:t.key,value:t.value}}function fc(e,t,r,n,i){this.key=e,this.value=t,this.color=null!=r?r:!0,this.left=null!=n?n:bc,this.right=null!=i?i:bc}function gc(e){return e.left.e()?e:gc(e.left)}function ic(e){return e.left.e()?bc:(e.left.fa()||e.left.left.fa()||(e=jc(e)),e=e.X(null,null,null,ic(e.left),null),hc(e))}function hc(e){return e.right.fa()&&!e.left.fa()&&(e=mc(e)),e.left.fa()&&e.left.left.fa()&&(e=kc(e)),e.left.fa()&&e.right.fa()&&(e=lc(e)),e}function jc(e){return e=lc(e),e.right.left.fa()&&(e=e.X(null,null,null,null,kc(e.right)),e=mc(e),e=lc(e)),e}function mc(e){return e.right.X(null,null,e.color,e.X(null,null,!0,null,e.right.left),null)}function kc(e){return e.left.X(null,null,e.color,null,e.X(null,null,!0,e.left.right,null))}function lc(e){return e.X(null,null,!e.color,e.left.X(null,null,!e.left.color,null,null),e.right.X(null,null,!e.right.color,null,null))}function nc(){}function oc(e,t){return e&&"object"==typeof e?(J(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e}function pc(e,t){var r=new qc;return rc(e,new K(""),function(e,n){r.mc(e,sc(n,t))}),r}function sc(e,t){var r,n=e.A().K(),n=oc(n,t);if(e.N()){var i=oc(e.Ba(),t);return i!==e.Ba()||n!==e.A().K()?new tc(i,L(n)):e}return r=e,n!==e.A().K()&&(r=r.da(new tc(n))),e.U(M,function(e,n){var i=sc(n,t);i!==n&&(r=r.Q(e,i))}),r}function K(e,t){if(1==arguments.length){this.o=e.split("/");for(var r=0,n=0;n<this.o.length;n++)0<this.o[n].length&&(this.o[r]=this.o[n],r++);this.o.length=r,this.Y=0}else this.o=e,this.Y=t}function N(e,t){var r=O(e);if(null===r)return t;if(r===O(t))return N(G(e),G(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function O(e){return e.Y>=e.o.length?null:e.o[e.Y]}function uc(e){return e.o.length-e.Y}function G(e){var t=e.Y;return t<e.o.length&&t++,new K(e.o,t)}function vc(e){return e.Y<e.o.length?e.o[e.o.length-1]:null}function wc(e,t){this.Qa=e.slice(),this.Ea=Math.max(1,this.Qa.length),this.kf=t;for(var r=0;r<this.Qa.length;r++)this.Ea+=xc(this.Qa[r]);yc(this)}function yc(e){if(768<e.Ea)throw Error(e.kf+"has a key path longer than 768 bytes ("+e.Ea+").");if(32<e.Qa.length)throw Error(e.kf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+zc(e))}function zc(e){return 0==e.Qa.length?"":"in property '"+e.Qa.join(".")+"'"}function Ac(){this.wc={}}function Bc(e){this.Ec=e,this.Md="firebase:"}function Cc(e){try{if("undefined"!=typeof window&&"undefined"!=typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Bc(t)}}catch(r){}return new Ac}function Ec(e,t,r,n,i){this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.lb=t,this.Cb=r,this.Tg=n,this.Ld=i||"",this.Oa=Dc.get("host:"+e)||this.host}function Fc(e,t){t!==e.Oa&&(e.Oa=t,"s-"===e.Oa.substr(0,2)&&Dc.set("host:"+e.host,e.Oa))}function J(e,t){if(!e)throw Hc(t)}function Hc(e){return Error("Firebase (2.2.4) INTERNAL ASSERT FAILED: "+e)}function Ic(e){try{var t;if("undefined"!=typeof atob)t=atob(e);else{gb();for(var r=eb,n=[],i=0;i<e.length;){var s=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;var a=i<e.length?r[e.charAt(i)]:64;++i;var u=i<e.length?r[e.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();n.push(s<<2|o>>4),64!=a&&(n.push(o<<4&240|a>>2),64!=u&&n.push(a<<6&192|u))}if(8192>n.length)t=String.fromCharCode.apply(null,n);else{for(e="",r=0;r<n.length;r+=8192)e+=String.fromCharCode.apply(null,Wa(n,r,r+8192));t=e}}return t}catch(c){Bb("base64Decode failed: ",c)}return null}function Jc(e){var t=Kc(e);e=new La,e.update(t);var t=[],r=8*e.be;56>e.$b?e.update(e.Id,56-e.$b):e.update(e.Id,e.Wa-(e.$b-56));for(var n=e.Wa-1;n>=56;n--)e.le[n]=255&r,r/=256;for(Ma(e,e.le),n=r=0;5>n;n++)for(var i=24;i>=0;i-=8)t[r]=e.R[n]>>i&255,++r;return fb(t)}function Lc(e){for(var t="",r=0;r<arguments.length;r++)t=fa(arguments[r])?t+Lc.apply(null,arguments[r]):"object"==typeof arguments[r]?t+B(arguments[r]):t+arguments[r],t+=" ";return t}function Bb(e){if(!0===Mc&&(Mc=!1,null===Ab&&!0===P.get("logging_enabled")&&Nc(!0)),Ab){var t=Lc.apply(null,arguments);Ab(t)}}function Oc(e){return function(){Bb(e,arguments)}}function Pc(e){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+Lc.apply(null,arguments);"undefined"!=typeof console.error?console.error(t):console.log(t)}}function Qc(e){var t=Lc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function Q(e){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+Lc.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(t):console.log(t)}}function Rc(e){var t="",r="",n="",i="",s=!0,o="https",a=443;if(p(e)){var u=e.indexOf("//");for(u>=0&&(o=e.substring(0,u-1),e=e.substring(u+2)),u=e.indexOf("/"),-1===u&&(u=e.length),t=e.substring(0,u),i="",e=e.substring(u).split("/"),u=0;u<e.length;u++)if(0<e[u].length){var c=e[u];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch(l){}i+="/"+c}e=t.split("."),3===e.length?(r=e[1],n=e[0].toLowerCase()):2===e.length&&(r=e[0]),u=t.indexOf(":"),u>=0&&(s="https"===o||"wss"===o,a=t.substring(u+1),isFinite(a)&&(a=String(a)),a=p(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):0/0)}return{host:t,port:a,domain:r,Qg:n,lb:s,scheme:o,Zc:i}}function Sc(e){return ga(e)&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)}function Tc(e){if("complete"===document.readyState)e();else{var t=!1,r=function(){document.body?t||(t=!0,e()):setTimeout(r,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&r()}),window.attachEvent("onload",r))}}function Sb(e,t){if(e===t)return 0;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return-1;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return 1;var r=Uc(e),n=Uc(t);return null!==r?null!==n?0==r-n?e.length-t.length:r-n:-1:null!==n?1:t>e?-1:1}function Vc(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+B(t))}function Wc(e){if("object"!=typeof e||null===e)return B(e);var t,r=[];for(t in e)r.push(t);r.sort(),t="{";for(var n=0;n<r.length;n++)0!==n&&(t+=","),t+=B(r[n]),t+=":",t+=Wc(e[r[n]]);return t+"}"}function Xc(e,t){if(e.length<=t)return[e];for(var r=[],n=0;n<e.length;n+=t)r.push(n+t>e?e.substring(n,e.length):e.substring(n,n+t));return r}function Yc(e,t){if(ea(e))for(var n=0;n<e.length;++n)t(n,e[n]);else r(e,t)}function Zc(e){J(!Sc(e),"Invalid JSON number");var t,r,n,i;for(0===e?(n=r=0,t=-(1/0)===1/e?1:0):(t=0>e,e=Math.abs(e),e>=Math.pow(2,-1022)?(n=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),r=n+1023,n=Math.round(e*Math.pow(2,52-n)-Math.pow(2,52))):(r=0,n=Math.round(e/Math.pow(2,-1074)))),i=[],e=52;e;--e)i.push(n%2?1:0),n=Math.floor(n/2);for(e=11;e;--e)i.push(r%2?1:0),r=Math.floor(r/2);for(i.push(t?1:0),i.reverse(),t=i.join(""),r="",e=0;64>e;e+=8)n=parseInt(t.substr(e,8),2).toString(16),1===n.length&&(n="0"+n),r+=n;return r.toLowerCase()}function Uc(e){return $c.test(e)&&(e=Number(e),e>=-2147483648&&2147483647>=e)?e:null}function Cb(e){try{e()}catch(t){setTimeout(function(){throw Q("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}}function R(e,t){if(ha(e)){var r=Array.prototype.slice.call(arguments,1).slice();Cb(function(){e.apply(null,r)})}}function Kc(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i>=55296&&56319>=i&&(i-=55296,n++,J(n<e.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(e.charCodeAt(n)-56320)),128>i?t[r++]=i:(2048>i?t[r++]=i>>6|192:(65536>i?t[r++]=i>>12|224:(t[r++]=i>>18|240,t[r++]=i>>12&63|128),t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t}function xc(e){for(var t=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);128>n?t++:2048>n?t+=2:n>=55296&&56319>=n?(t+=4,r++):t+=3}return t}function ad(e){var t={},r={},n={},i="";try{var s=e.split("."),t=mb(Ic(s[0])||""),r=mb(Ic(s[1])||""),i=s[2],n=r.d||{};delete r.d}catch(o){}return{Wg:t,Ac:r,data:n,Ng:i}}function bd(e){return e=ad(e).Ac,"object"==typeof e&&e.hasOwnProperty("iat")?w(e,"iat"):null}function cd(e){e=ad(e);var t=e.Ac;return!!e.Ng&&!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}function dd(e){this.V=e,this.g=e.n.g}function ed(e,t,r,n){var i=[],s=[];return Oa(t,function(t){"child_changed"===t.type&&e.g.xd(t.Je,t.Ja)&&s.push(new D("child_moved",t.Ja,t.Ya))}),fd(e,i,"child_removed",t,n,r),fd(e,i,"child_added",t,n,r),fd(e,i,"child_moved",s,n,r),fd(e,i,"child_changed",t,n,r),fd(e,i,Eb,t,n,r),i}function fd(e,t,r,n,i,s){n=Pa(n,function(e){return e.type===r}),Xa(n,q(e.eg,e)),Oa(n,function(r){var n=gd(e,r,s);Oa(i,function(i){i.Jf(r.type)&&t.push(i.createEvent(n,e.V))})})}function gd(e,t,r){return"value"!==t.type&&"child_removed"!==t.type&&(t.Nd=r.qf(t.Ya,t.Ja,e.g)),t}function hd(){this.eb={}}function id(e,t){var r=t.type,n=t.Ya;J("child_added"==r||"child_changed"==r||"child_removed"==r,"Only child changes supported for tracking"),J(".priority"!==n,"Only non-priority child changes can be tracked.");var i=w(e.eb,n);if(i){var s=i.type;if("child_added"==r&&"child_removed"==s)e.eb[n]=new D("child_changed",t.Ja,n,i.Ja);else if("child_removed"==r&&"child_added"==s)delete e.eb[n];else if("child_removed"==r&&"child_changed"==s)e.eb[n]=new D("child_removed",i.Je,n);else if("child_changed"==r&&"child_added"==s)e.eb[n]=new D("child_added",t.Ja,n);else{if("child_changed"!=r||"child_changed"!=s)throw Hc("Illegal combination of changes: "+t+" occurred after "+i);e.eb[n]=new D("child_changed",t.Ja,n,i.Je)}}else e.eb[n]=t}function jd(e,t,r){this.Pb=e,this.qb=t,this.sb=r||null}function kd(e,t,r){this.ga=e,this.qb=t,this.sb=r}function ld(e){this.g=e}function md(e){this.Ae=new ld(e.g),this.g=e.g;var t;e.la?(t=nd(e),t=e.g.Oc(od(e),t)):t=e.g.Sc(),this.dd=t,e.na?(t=pd(e),e=e.g.Oc(qd(e),t)):e=e.g.Pc(),this.Fc=e}function rd(e){this.ra=new md(e),this.g=e.g,J(e.ia,"Only valid if limit has been set"),this.ja=e.ja,this.Jb=!sd(e)}function td(e,t,r,n,i,s){var o;if(e.Jb){var a=ud(e.g);o=function(e,t){return a(t,e)}}else o=ud(e.g);J(t.Db()==e.ja,"");var u=new E(r,n),c=e.Jb?wd(t,e.g):xd(t,e.g),p=e.ra.matches(u);if(t.Ha(r)){var l=t.M(r),c=i.xe(e.g,c,e.Jb);return null!=c&&c.name==r&&(c=i.xe(e.g,c,e.Jb)),i=null==c?1:o(c,u),p&&!n.e()&&i>=0?(null!=s&&id(s,new D("child_changed",n,r,l)),t.Q(r,n)):(null!=s&&id(s,new D("child_removed",l,r)),t=t.Q(r,C),null!=c&&e.ra.matches(c)?(null!=s&&id(s,new D("child_added",c.S,c.name)),t.Q(c.name,c.S)):t)}return n.e()?t:p&&0<=o(c,u)?(null!=s&&(id(s,new D("child_removed",c.S,c.name)),id(s,new D("child_added",n,r))),t.Q(r,n).Q(c.name,C)):t}function yd(e,t){this.he=e,this.cg=t}function zd(e){this.I=e}function Hd(e,t,r,n,i,s){var o=t.D;if(null!=n.sc(r))return t;var a;if(r.e())J(Hb(t.u()),"If change path is empty, we must have complete server data"),t.u().Tb?(i=tb(t),n=n.xc(i instanceof T?i:C)):n=n.ua(tb(t)),s=e.I.ta(t.D.j(),n,s);else{var u=O(r);if(".priority"==u)J(1==uc(r),"Can't have a priority with additional path components"),s=o.j(),a=t.u().j(),n=n.hd(r,s,a),s=null!=n?e.I.da(s,n):o.j();else{var c=G(r);rb(o,u)?(a=t.u().j(),n=n.hd(r,o.j(),a),n=null!=n?o.j().M(u).G(c,n):o.j().M(u)):n=n.Xa(u,t.u()),s=null!=n?e.I.G(o.j(),u,n,i,s):o.j()}}return Fd(t,s,o.$||r.e(),e.I.Ga())}function Bd(e,t,r,n,i,s,o,a){var u=t.u();if(o=o?e.I:e.I.Vb(),r.e())n=o.ta(u.j(),n,null);else if(o.Ga()&&!u.Tb)n=u.j().G(r,n),n=o.ta(u.j(),n,null);else{var c=O(r);if((r.e()?!u.$||u.Tb:!rb(u,O(r)))&&1<uc(r))return t;n=u.j().M(c).G(G(r),n),n=".priority"==c?o.da(u.j(),n):o.G(u.j(),c,n,pb,null)}return u=u.$||r.e(),t=new Id(t.D,new sb(n,u,o.Ga())),Hd(e,t,r,i,new qb(i,t,s),a)}function Ad(e,t,r,n,i,s,o){var a=t.D;if(i=new qb(i,t,s),r.e())o=e.I.ta(t.D.j(),n,o),e=Fd(t,o,!0,e.I.Ga());else if(s=O(r),".priority"===s)o=e.I.da(t.D.j(),n),e=Fd(t,o,a.$,a.Tb);else{var u=G(r);if(r=a.j().M(s),!u.e()){var c=i.pf(s);n=null!=c?".priority"===vc(u)&&c.oa(u.parent()).e()?c:c.G(u,n):C}r.Z(n)?e=t:(o=e.I.G(a.j(),s,n,i,o),e=Fd(t,o,a.$,e.I.Ga()))}return e}function Dd(e,t,r,n,i,s,o){var a=t;return Kd(n,function(n,u){var c=r.w(n);rb(t.D,O(c))&&(a=Ad(e,a,c,u,i,s,o))}),Kd(n,function(n,u){var c=r.w(n);rb(t.D,O(c))||(a=Ad(e,a,c,u,i,s,o))}),a}function Ld(e,t){return Kd(t,function(t,r){e=e.G(t,r)}),e}function Ed(e,t,r,n,i,s,o,a){if(t.u().j().e()&&!Hb(t.u()))return t;var u=t;r=r.e()?n:Md(Nd,r,n);var c=t.u().j();return r.children.ha(function(r,n){if(c.Ha(r)){var p=t.u().j().M(r),p=Ld(p,n);u=Bd(e,u,new K(r),p,i,s,o,a)}}),r.children.ha(function(r,n){var p=!Hb(t.u())&&null==n.value;c.Ha(r)||p||(p=t.u().j().M(r),p=Ld(p,n),u=Bd(e,u,new K(r),p,i,s,o,a))}),u}function Gd(e,t,r,n,i,s){if(null!=n.sc(r))return t;var o=new qb(n,t,i),a=i=t.D.j();if(Hb(t.u())){if(r.e())i=n.ua(tb(t)),a=e.I.ta(t.D.j(),i,s);else if(".priority"===O(r)){var u=n.Xa(O(r),t.u());null==u||i.e()||i.A().Z(u)||(a=e.I.da(i,u))}else u=O(r),i=n.Xa(u,t.u()),null!=i&&(a=e.I.G(t.D.j(),u,i,o,s));i=!0}else t.D.$||r.e()?(a=i,i=t.D.j(),i.N()||i.U(M,function(r){var i=n.Xa(r,t.u());null!=i&&(a=e.I.G(a,r,i,o,s))}),i=t.D.$):(u=O(r),(1==uc(r)||rb(t.D,u))&&(r=n.Xa(u,t.u()),null!=r&&(a=e.I.G(i,u,r,o,s))),i=!1);return Fd(t,a,i,e.I.Ga())}function Od(){}function ud(e){return q(e.compare,e)}function Rd(e){this.bc=e}function Td(){}function Ud(){}function Wd(){}function Zd(){this.Rb=this.na=this.Lb=this.la=this.ia=!1,this.ja=0,this.Nb="",this.dc=null,this.xb="",this.ac=null,this.vb="",this.g=M}function sd(e){return""===e.Nb?e.la:"l"===e.Nb}function od(e){return J(e.la,"Only valid if start has been set"),e.dc}function nd(e){return J(e.la,"Only valid if start has been set"),e.Lb?e.xb:"[MIN_NAME]"}function qd(e){return J(e.na,"Only valid if end has been set"),e.ac}function pd(e){return J(e.na,"Only valid if end has been set"),e.Rb?e.vb:"[MAX_NAME]"}function ae(e){var t=new Zd;return t.ia=e.ia,t.ja=e.ja,t.la=e.la,t.dc=e.dc,t.Lb=e.Lb,t.xb=e.xb,t.na=e.na,t.ac=e.ac,t.Rb=e.Rb,t.vb=e.vb,t.g=e.g,t}function be(e,t){var r=ae(e);return r.g=t,r}function ce(e){var t={};if(e.la&&(t.sp=e.dc,e.Lb&&(t.sn=e.xb)),e.na&&(t.ep=e.ac,e.Rb&&(t.en=e.vb)),e.ia){t.l=e.ja;var r=e.Nb;""===r&&(r=sd(e)?"l":"r"),t.vf=r}return e.g!==M&&(t.i=e.g.toString()),t}function de(e){return!(e.la||e.na||e.ia)}function ee(e){var t={};if(de(e)&&e.g==M)return t;var r;return e.g===M?r="$priority":e.g===Yd?r="$value":(J(e.g instanceof Rd,"Unrecognized index type!"),r=e.g.toString()),t.orderBy=B(r),e.la&&(t.startAt=B(e.dc),e.Lb&&(t.startAt+=","+B(e.xb))),e.na&&(t.endAt=B(e.ac),e.Rb&&(t.endAt+=","+B(e.vb))),e.ia&&(sd(e)?t.limitToFirst=e.ja:t.limitToLast=e.ja),t}function fe(e,t){this.yd=e,this.cc=t}function ge(e,t,r){var n=na(e.yd,function(n,i){var s=w(e.cc,i);if(J(s,"Missing index implementation for "+i),n===Pd){if(s.Hc(t.S)){for(var o=[],a=r.Wb(Qb),u=H(a);u;)u.name!=t.name&&o.push(u),u=H(a);return o.push(t),he(o,ud(s))}return Pd}return s=r.get(t.name),o=n,s&&(o=o.remove(new E(t.name,s))),o.Na(t,t.S)});return new fe(n,e.cc)}function ie(e,t,r){var n=na(e.yd,function(e){if(e===Pd)return e;var n=r.get(t.name);return n?e.remove(new E(t.name,n)):e});return new fe(n,e.cc)}function tc(e,t){this.C=e,J(n(this.C)&&null!==this.C,"LeafNode shouldn't be created with null/undefined value."),this.ba=t||C,ke(this.ba),this.Bb=null}function T(e,t,r){this.m=e,(this.ba=t)&&ke(this.ba),e.e()&&J(!this.ba||this.ba.e(),"An empty node cannot have a priority"),this.wb=r,this.Bb=null}function wd(e,t){var r;return r=(r=oe(e,t))?(r=r.Rc())&&r.name:e.m.Rc(),r?new E(r,e.m.get(r)):null}function xd(e,t){var r;return r=(r=oe(e,t))?(r=r.ec())&&r.name:e.m.ec(),r?new E(r,e.m.get(r)):null}function oe(e,t){return t===Vd?null:e.wb.get(t.toString())}function L(e,t){if(null===e)return C;var n=null;if("object"==typeof e&&".priority"in e?n=e[".priority"]:"undefined"!=typeof t&&(n=t),J(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new tc(e,L(n));if(e instanceof Array){var i=C,s=e;return r(s,function(e,t){if(u(s,t)&&"."!==t.substring(0,1)){var r=L(e);(r.N()||!r.e())&&(i=i.Q(t,r))}}),i.da(L(n))}var o=[],a=!1,c=e;if(hb(c,function(e){if("string"!=typeof e||"."!==e.substring(0,1)){var t=L(c[e]);t.e()||(a=a||!t.A().e(),o.push(new E(e,t)))}}),0==o.length)return C;var p=he(o,Rb,function(e){return e.name},Tb);if(a){var l=he(o,ud(M));return new T(p,L(n),new fe({".priority":l},{".priority":M}))}return new T(p,L(n),je)}function qe(e){this.count=parseInt(Math.log(e+1)/pe,10),this.hf=this.count-1,this.bg=e+1&parseInt(Array(this.count+1).join("1"),2)}function re(e){var t=!(e.bg&1<<e.hf);return e.hf--,t}function he(e,t,r,n){function i(t,n){var s=n-t;if(0==s)return null;if(1==s){var o=e[t],a=r?r(o):o;return new fc(a,o.S,!1,null,null)}var o=parseInt(s/2,10)+t,s=i(t,o),u=i(o+1,n),o=e[o],a=r?r(o):o;return new fc(a,o.S,!1,s,u)}e.sort(t);var s=function(t){function n(t,n){var u=a-t,c=a;a-=t;var c=i(u+1,c),u=e[u],p=r?r(u):u,c=new fc(p,u.S,n,null,c);s?s.left=c:o=c,s=c}for(var s=null,o=null,a=e.length,u=0;u<t.count;++u){var c=re(t),p=Math.pow(2,t.count-(u+1));c?n(p,!1):(n(p,!1),n(p,!0))}return o}(new qe(e.length));return null!==s?new ac(n||t,s):new ac(n||t)}function le(e){return"number"==typeof e?"number:"+Zc(e):"string:"+e}function ke(e){if(e.N()){var t=e.K();J("string"==typeof t||"number"==typeof t||"object"==typeof t&&u(t,".sv"),"Priority must be a string or number.")}else J(e===Sd||e.e(),"priority of unexpected type.");J(e===Sd||e.A().e(),"Priority nodes can't have a priority of their own.")}function se(){T.call(this,new ac(Tb),C,je)}function Id(e,t){this.D=e,this.Ud=t}function Fd(e,t,r,n){return new Id(new sb(t,r,n),e.Ud)}function Jd(e){return e.D.$?e.D.j():null}function tb(e){return e.Ud.$?e.Ud.j():null}function te(e,t){this.V=e;var r=e.n,n=new ld(r.g),r=de(r)?new ld(r.g):r.ia?new rd(r):new md(r);this.Gf=new zd(r);var i=t.u(),s=t.D,o=n.ta(C,i.j(),null),a=r.ta(C,s.j(),null);this.Ka=new Id(new sb(a,s.$,r.Ga()),new sb(o,i.$,n.Ga())),this.Za=[],this.ig=new dd(e)}function ue(e){return e.V}function we(e,t){var r=e.Ka.D,n=[];return r.j().N()||r.j().U(M,function(e,t){n.push(new D("child_added",t,e))}),r.$&&n.push(Db(r.j())),ve(e,n,r.j(),t)}function ve(e,t,r,n){return ed(e.ig,t,r,n?[n]:e.Za)}function xe(e,t,r){this.type=Cd,this.source=e,this.path=t,this.children=r}function ye(e,t,r,n){this.ve=e,this.of=t,this.Ib=r,this.af=n,J(!n||t,"Tagged queries must be from server.")}function Ae(e,t){this.f=Oc("p:rest:"),this.H=e,this.Gb=t,this.Fa=null,this.aa={}}function Be(e,t){if(n(t))return"tag$"+t;var r=e.n;return J(de(r)&&r.g==M,"should have a tag if it's not a default query."),e.path.toString()}function Ce(e,t,r,n){r=r||{},r.format="export",e.Fa&&(r.auth=e.Fa);var i=(e.H.lb?"https://":"http://")+e.H.host+t+"?"+jb(r);e.f("Sending REST request for "+i);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){e.f("REST Response for "+i+" received. status:",s.status,"response:",s.responseText);var t=null;if(200<=s.status&&300>s.status){try{t=mb(s.responseText)}catch(r){Q("Failed to parse JSON response for "+i+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&Q("Got unsuccessful REST response for "+i+" Status: "+s.status),n(s.status);n=null}},s.open("GET",i,!0),s.send()}function De(e,t){this.value=e,this.children=t||Ee}function Fe(e){var t=Nd;return r(e,function(e,r){t=t.set(new K(r),e)}),t}function Ge(e,t,r){if(null!=e.value&&r(e.value))return{path:F,value:e.value};if(t.e())return null;var n=O(t);return e=e.children.get(n),null!==e?(t=Ge(e,G(t),r),null!=t?{path:new K(n).w(t.path),value:t.value}:null):null}function He(e,t){return Ge(e,t,function(){return!0})}function Md(e,t,r){if(t.e())return r;var n=O(t);return t=Md(e.children.get(n)||Nd,G(t),r),n=t.e()?e.children.remove(n):e.children.Na(n,t),new De(e.value,n)}function Ie(e,t){return Je(e,F,t)}function Je(e,t,r){var n={};return e.children.ha(function(e,i){n[e]=Je(i,t.w(e),r)}),r(t,e.value,n)}function Ke(e,t,r){return Le(e,t,F,r)}function Le(e,t,r,n){var i=e.value?n(r,e.value):!1;return i?i:t.e()?null:(i=O(t),(e=e.children.get(i))?Le(e,G(t),r.w(i),n):null)}function Me(e,t,r){var n=F;if(!t.e()){var i=!0;e.value&&(i=r(n,e.value)),!0===i&&(i=O(t),(e=e.children.get(i))&&Ne(e,G(t),n.w(i),r))}}function Ne(e,t,r,n){if(t.e())return e;e.value&&n(r,e.value);var i=O(t);return(e=e.children.get(i))?Ne(e,G(t),r.w(i),n):Nd}function Kd(e,t){Oe(e,F,t)}function Oe(e,t,r){e.children.ha(function(e,n){Oe(n,t.w(e),r)}),e.value&&r(t,e.value)}function Pe(e,t){e.children.ha(function(e,r){r.value&&t(e,r.value)})}function Qe(e){this.W=e}function Se(e,t,r){if(t.e())return new Qe(new De(r));var n=He(e.W,t);if(null!=n){var i=n.path,n=n.value;return t=N(i,t),n=n.G(t,r),new Qe(e.W.set(i,n))}return e=Md(e.W,t,new De(r)),new Qe(e)}function Te(e,t,r){var n=e;return hb(r,function(e,r){n=Se(n,t.w(e),r)}),n}function Ue(e,t){var r=He(e.W,t);return null!=r?e.W.get(r.path).oa(N(r.path,t)):null}function Ve(e){var t=[],r=e.W.value;return null!=r?r.N()||r.U(M,function(e,r){t.push(new E(e,r))}):e.W.children.ha(function(e,r){null!=r.value&&t.push(new E(e,r.value))}),t}function We(e,t){if(t.e())return e;var r=Ue(e,t);return new Qe(null!=r?new De(r):e.W.subtree(t))}function Xe(e,t,r){if(null!=t.value)return r.G(e,t.value);var n=null;return t.children.ha(function(t,i){".priority"===t?(J(null!==i.value,"Priority writes must always be leaf nodes"),n=i.value):r=Xe(e.w(t),i,r)}),r.oa(e).e()||null===n||(r=r.G(e.w(".priority"),n)),r}function Ye(){this.T=Re,this.za=[],this.Lc=-1}function Ze(e,t){return e.Ia?e.path.contains(t):!!ua(e.children,function(r,n){return e.path.w(n).contains(t)})}function af(e){return e.visible}function $e(e,t,r){for(var n=Re,i=0;i<e.length;++i){var s=e[i];if(t(s)){var o=s.path;if(s.Ia)r.contains(o)?(o=N(r,o),n=Se(n,o,s.Ia)):o.contains(r)&&(o=N(o,r),n=Se(n,F,s.Ia.oa(o)));else{if(!s.children)throw Hc("WriteRecord should have .snap or .children");

r.contains(o)?(o=N(r,o),n=Te(n,o,s.children)):o.contains(r)&&(o=N(o,r),o.e()?n=Te(n,F,s.children):(s=w(s.children,O(o)))&&(s=s.oa(G(o)),n=Se(n,F,s)))}}}return n}function bf(e,t){this.Mb=e,this.W=t}function cf(){this.ya={}}function ef(e){return Pa(ra(e.ya),function(e){return!de(e.V.n)})}function ff(e,t){if(de(t.n))return df(e);var r=t.wa();return w(e.ya,r)}function df(e){return va(e.ya,function(e){return de(e.V.n)})||null}function gf(e){this.sa=Nd,this.Hb=new Ye,this.$e={},this.kc={},this.Mc=e}function hf(e,t,r,i,s){var o=e.Hb,a=s;return J(i>o.Lc,"Stacking an older write on top of newer ones"),n(a)||(a=!0),o.za.push({path:t,Ia:r,ie:i,visible:a}),a&&(o.T=Se(o.T,t,r)),o.Lc=i,s?jf(e,new Ub(Yb,t,r)):[]}function kf(e,t,r,n){var i=e.Hb;return J(n>i.Lc,"Stacking an older merge on top of newer ones"),i.za.push({path:t,children:r,ie:n,visible:!0}),i.T=Te(i.T,t,r),i.Lc=n,r=Fe(r),jf(e,new xe(Yb,t,r))}function lf(e,t,r){return r=r||!1,t=e.Hb.Od(t),null==t?[]:jf(e,new Wb(t,r))}function mf(e,t,r){return r=Fe(r),jf(e,new xe(ze,t,r))}function nf(e,t,r,n){if(n=of(e,n),null!=n){var i=pf(n);return n=i.path,i=i.Ib,t=N(n,t),r=new Ub(new ye(!1,!0,i,!0),t,r),qf(e,n,r)}return[]}function rf(e,t,r,n){if(n=of(e,n)){var i=pf(n);return n=i.path,i=i.Ib,t=N(n,t),r=Fe(r),r=new xe(new ye(!1,!0,i,!0),t,r),qf(e,n,r)}return[]}function vf(e){return Ie(e,function(e,t,n){if(t&&null!=df(t))return[df(t)];var i=[];return t&&(i=ef(t)),r(n,function(e){i=i.concat(e)}),i})}function yf(e,t){for(var r=0;r<t.length;++r){var n=t[r];if(!de(n.n)){var n=sf(n),i=e.kc[n];delete e.kc[n],delete e.$e["_"+i]}}}function uf(e,t,n){var i=t.path,s=xf(e,t);if(n=wf(e,n),t=e.Mc.Xe(t,s,n.ud,n.J),i=e.sa.subtree(i),s)J(null==df(i.value),"If we're adding a query, it shouldn't be shadowed");else for(s=Ie(i,function(e,t,n){if(!e.e()&&t&&null!=df(t))return[ue(df(t))];var i=[];return t&&(i=i.concat(Qa(ef(t),function(e){return e.V}))),r(n,function(e){i=i.concat(e)}),i}),i=0;i<s.length;++i)n=s[i],e.Mc.Zd(n,xf(e,n));return t}function wf(e,t){var r=t.V,n=xf(e,r);return{ud:function(){return(t.u()||C).hash()},J:function(t){if("ok"===t){if(n){var i=r.path;if(t=of(e,n)){var s=pf(t);t=s.path,s=s.Ib,i=N(t,i),i=new Zb(new ye(!1,!0,s,!0),i),t=qf(e,t,i)}else t=[]}else t=jf(e,new Zb(ze,r.path));return t}return i="Unknown Error","too_big"===t?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?i="Client doesn't have permission to access the desired data.":"unavailable"==t&&(i="The service is unavailable"),i=Error(t+": "+i),i.code=t.toUpperCase(),e.kb(r,null,i)}}}function sf(e){return e.path.toString()+"$"+e.wa()}function pf(e){var t=e.indexOf("$");return J(-1!==t&&t<e.length-1,"Bad queryKey."),{Ib:e.substr(t+1),path:new K(e.substr(0,t))}}function of(e,t){var r=e.$e,n="_"+t;return n in r?r[n]:void 0}function xf(e,t){var r=sf(t);return w(e.kc,r)}function qf(e,t,r){var n=e.sa.get(t);return J(n,"Missing sync point for query tag that we're tracking"),n.bb(r,new bf(t,e.Hb),null)}function jf(e,t){return zf(e,t,e.sa,null,new bf(F,e.Hb))}function zf(e,t,r,n,i){if(t.path.e())return Af(e,t,r,n,i);var s=r.get(F);null==n&&null!=s&&(n=s.hb(F));var o=[],a=O(t.path),u=t.Wc(a);if((r=r.children.get(a))&&u)var c=n?n.M(a):null,a=i.w(a),o=o.concat(zf(e,u,r,c,a));return s&&(o=o.concat(s.bb(t,i,n))),o}function Af(e,t,r,n,i){var s=r.get(F);null==n&&null!=s&&(n=s.hb(F));var o=[];return r.children.ha(function(r,s){var a=n?n.M(r):null,u=i.w(r),c=t.Wc(r);c&&(o=o.concat(Af(e,c,s,a,u)))}),s&&(o=o.concat(s.bb(t,i,n))),o}function Bf(){this.children={},this.kd=0,this.value=null}function Cf(e,t,r){this.Dd=e?e:"",this.Yc=t?t:null,this.B=r?r:new Bf}function Df(e,t){for(var r,n=t instanceof K?t:new K(t),i=e;null!==(r=O(n));)i=new Cf(r,i,w(i.B.children,r)||new Bf),n=G(n);return i}function Ef(e,t){J("undefined"!=typeof t,"Cannot set value to undefined"),e.B.value=t,Ff(e)}function Gf(e,t,r,n){r&&!n&&t(e),e.U(function(e){Gf(e,t,!0,n)}),r&&n&&t(e)}function Hf(e,t){for(var r=e.parent();null!==r&&!t(r);)r=r.parent()}function Ff(e){if(null!==e.Yc){var t=e.Yc,r=e.Dd,n=e.e(),i=u(t.B.children,r);n&&i?(delete t.B.children[r],t.B.kd--,Ff(t)):n||i||(t.B.children[r]=e.B,t.B.kd++,Ff(t))}}function If(e){J(ea(e)&&0<e.length,"Requires a non-empty array"),this.Uf=e,this.Nc={}}function Jf(e,t){J(Ta(e.Uf,function(e){return e===t}),"Unknown event: "+t)}function Lf(){if(If.call(this,["online"]),this.ic=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var e=this;window.addEventListener("online",function(){e.ic||(e.ic=!0,e.de("online",!0))},!1),window.addEventListener("offline",function(){e.ic&&(e.ic=!1,e.de("online",!1))},!1)}}function Mf(){If.call(this,["visible"]);var e,t;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!=typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!=typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!=typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.uc=!0,t){var r=this;document.addEventListener(t,function(){var t=!document[e];t!==r.uc&&(r.uc=t,r.de("visible",t))},!1)}}function Pf(e){return p(e)&&0!==e.length&&!Nf.test(e)}function Qf(e){return null===e||p(e)||ga(e)&&!Sc(e)||ia(e)&&u(e,".sv")}function Rf(e,t,r,i){i&&!n(t)||Sf(z(e,1,i),t,r)}function Sf(e,t,r){if(r instanceof K&&(r=new wc(r,e)),!n(t))throw Error(e+"contains undefined "+zc(r));if(ha(t))throw Error(e+"contains a function "+zc(r)+" with contents: "+t.toString());if(Sc(t))throw Error(e+"contains "+t.toString()+" "+zc(r));if(p(t)&&t.length>10485760/3&&10485760<xc(t))throw Error(e+"contains a string greater than 10485760 utf8 bytes "+zc(r)+" ('"+t.substring(0,50)+"...')");if(ia(t)){var i=!1,s=!1;if(hb(t,function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(s=!0,!Pf(t)))throw Error(e+" contains an invalid key ("+t+") "+zc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),Sf(e,n,r),r.pop()}),i&&s)throw Error(e+' contains ".value" child '+zc(r)+" in addition to actual children.")}}function Tf(e,t,r){if(!ia(t)||ea(t))throw Error(z(e,1,!1)+" must be an Object containing the children to replace.");if(u(t,".value"))throw Error(z(e,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');Rf(e,t,r,!1)}function Uf(e,t,r){if(Sc(r))throw Error(z(e,t,!1)+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Qf(r))throw Error(z(e,t,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Vf(e,t,r){if(!r||n(t))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(z(e,1,r)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Wf(e,t,r,i){if((!i||n(r))&&!Pf(r))throw Error(z(e,t,i)+'was an invalid key: "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Xf(e,t){if(!p(t)||0===t.length||Of.test(t))throw Error(z(e,1,!1)+'was an invalid path: "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Yf(e,t){if(".info"===O(t))throw Error(e+" failed: Can't modify data under /.info/")}function Zf(e,t){if(!p(t))throw Error(z(e,1,!1)+"must be a valid credential (a string).")}function $f(e,t,r){if(!p(r))throw Error(z(e,t,!1)+"must be a valid string.")}function ag(e,t,r,i){if(!(i&&!n(r)||ia(r)&&null!==r))throw Error(z(e,t,i)+"must be a valid object.")}function bg(e,t,r){if(!ia(t)||null===t||!u(t,r))throw Error(z(e,1,!1)+'must contain the key "'+r+'"');if(!p(w(t,r)))throw Error(z(e,1,!1)+'must contain the key "'+r+'" with type "string"')}function cg(){this.set={}}function dg(e,t){r(e.set,function(e,r){t(r,e)})}function qc(){this.m=this.C=null}function eg(e,t){if(t.e())return e.C=null,e.m=null,!0;if(null!==e.C){if(e.C.N())return!1;var r=e.C;return e.C=null,r.U(M,function(t,r){e.mc(new K(t),r)}),eg(e,t)}return null!==e.m?(r=O(t),t=G(t),e.m.contains(r)&&eg(e.m.get(r),t)&&e.m.remove(r),e.m.e()?(e.m=null,!0):!1):!0}function rc(e,t,r){null!==e.C?r(t,e.C):e.U(function(e,n){var i=new K(t.toString()+"/"+e);rc(n,i,r)})}function gg(e,t,r){this.ld=e||{},this.ce=t||{},this.ab=r||{},this.ld.remember||(this.ld.remember="default")}function ig(e){var t={},r={};return hb(e||{},function(e,n){0<=Na(hg,e)?t[e]=n:r[e]=n}),new gg(t,{},r)}function jg(e,t){this.Pe=["session",e.Ld,e.Cb].join(":"),this.$d=t}function kg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function lg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function mg(){if("undefined"==typeof navigator)return!1;var e=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((e=e.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<e.length)return 8<=parseFloat(e[1])}else if(-1<e.indexOf("Trident")&&(e=e.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<e.length)return 8<=parseFloat(e[1]);return!1}function ng(){var e,t=window.opener.frames;for(e=t.length-1;e>=0;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&"__winchan_relay_frame"===t[e].name)return t[e]}catch(r){}return null}function og(e,t,r){e.attachEvent?e.attachEvent("on"+t,r):e.addEventListener&&e.addEventListener(t,r,!1)}function pg(e,t,r){e.detachEvent?e.detachEvent("on"+t,r):e.removeEventListener&&e.removeEventListener(t,r,!1)}function qg(e){/^https?:\/\//.test(e)||(e=window.location.href);var t=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(e);return t?t[1]:e}function rg(e){var t="";try{e=e.replace("#","");var r=kb(e);r&&u(r,"__firebase_request_key")&&(t=w(r,"__firebase_request_key"))}catch(n){}return t}function sg(){var e=Rc(fg);return e.scheme+"://"+e.host+"/v2"}function tg(e){return sg()+"/"+e+"/auth/channel"}function ug(e){var t=this;if(this.zc=e,this.ae="*",mg()?this.Qc=this.wd=ng():(this.Qc=window.opener,this.wd=window),!t.Qc)throw"Unable to find relay frame";og(this.wd,"message",q(this.hc,this)),og(this.wd,"message",q(this.Af,this));try{vg(this,{a:"ready"})}catch(r){og(this.Qc,"load",function(){vg(t,{a:"ready"})})}og(window,"unload",q(this.yg,this))}function vg(e,t){t=B(t),mg()?e.Qc.doPost(t,e.ae):e.Qc.postMessage(t,e.ae)}function wg(e){this.oc=Ga()+Ga()+Ga(),this.Df=e}function yg(e){var t=Error(w(xg,e),e);return t.code=e,t}function zg(e){(!e.window_features||"undefined"!=typeof navigator&&(-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android")))&&(e.window_features=void 0),e.window_name||(e.window_name="_blank"),this.options=e}function Ag(e){e.method||(e.method="GET"),e.headers||(e.headers={}),e.headers.content_type||(e.headers.content_type="application/json"),e.headers.content_type=e.headers.content_type.toLowerCase(),this.options=e}function Bg(e){this.oc=Ga()+Ga()+Ga(),this.Df=e}function Cg(e){e.callback_parameter||(e.callback_parameter="callback"),this.options=e,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Dg(e,t,r){setTimeout(function(){try{var n=document.createElement("script");n.type="text/javascript",n.id=e,n.async=!0,n.src=t,n.onerror=function(){var t=document.getElementById(e);null!==t&&t.parentNode.removeChild(t),r&&r(yg("NETWORK_ERROR"))};var i=document.getElementsByTagName("head");(i&&0!=i.length?i[0]:document.documentElement).appendChild(n)}catch(s){r&&r(yg("NETWORK_ERROR"))}},0)}function Eg(e,t,r,n){If.call(this,["auth_status"]),this.H=e,this.df=t,this.Sg=r,this.Ke=n,this.rc=new jg(e,[Dc,P]),this.nb=null,this.Re=!1,Fg(this)}function Fg(e){P.get("redirect_request_id")&&Gg(e);var t=e.rc.get();t&&t.token?(Hg(e,t),e.df(t.token,function(r,n){Ig(e,r,n,!1,t.token,t)},function(t,r){Jg(e,"resumeSession()",t,r)})):Hg(e,null)}function Kg(e,t,r,n,i,s){"firebaseio-demo.com"===e.H.domain&&Q("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),e.df(t,function(s,o){Ig(e,s,o,!0,t,r,n||{},i)},function(t,r){Jg(e,"auth()",t,r,s)})}function Lg(e,t){e.rc.clear(),Hg(e,null),e.Sg(function(e,r){if("ok"===e)R(t,null);else{var n=(e||"error").toUpperCase(),i=n;r&&(i+=": "+r),i=Error(i),i.code=n,R(t,i)}})}function Ig(e,t,r,n,i,s,o,a){"ok"===t?(n&&(t=r.auth,s.auth=t,s.expires=r.expires,s.token=cd(i)?i:"",r=null,t&&u(t,"uid")?r=w(t,"uid"):u(s,"uid")&&(r=w(s,"uid")),s.uid=r,r="custom",t&&u(t,"provider")?r=w(t,"provider"):u(s,"provider")&&(r=w(s,"provider")),s.provider=r,e.rc.clear(),cd(i)&&(o=o||{},r=Dc,"sessionOnly"===o.remember&&(r=P),"none"!==o.remember&&e.rc.set(s,r)),Hg(e,s)),R(a,null,s)):(e.rc.clear(),Hg(e,null),s=e=(t||"error").toUpperCase(),r&&(s+=": "+r),s=Error(s),s.code=e,R(a,s))}function Jg(e,t,r,n,i){Q(t+" was canceled: "+n),e.rc.clear(),Hg(e,null),e=Error(n),e.code=r.toUpperCase(),R(i,e)}function Mg(e,t,r,n,i){Ng(e),r=new gg(n||{},{},r||{}),Og(e,[Ag,Cg],"/auth/"+t,r,i)}function Pg(e,t,r,n){Ng(e);var i=[zg,Bg];r=ig(r),"anonymous"===t||"password"===t?setTimeout(function(){R(n,yg("TRANSPORT_UNAVAILABLE"))},0):(r.ce.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-625):0),r.ce.relay_url=tg(e.H.Cb),r.ce.requestWithCredential=q(e.pc,e),Og(e,i,"/auth/"+t,r,n))}function Gg(e){var t=P.get("redirect_request_id");if(t){var r=P.get("redirect_client_options");P.remove("redirect_request_id"),P.remove("redirect_client_options");var n=[Ag,Cg],t={requestId:t,requestKey:rg(document.location.hash)},r=new gg(r,{},t);e.Re=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(i){}Og(e,n,"/auth/session",r,function(){this.Re=!1}.bind(e))}}function Og(e,t,r,n,i){Qg(e,t,r,n,function(t,r){!t&&r&&r.token&&r.uid?Kg(e,r.token,r,n.ld,function(e,t){e?R(i,e):R(i,null,t)}):R(i,t||yg("UNKNOWN_ERROR"))})}function Qg(e,t,r,n,i){t=Pa(t,function(e){return"function"==typeof e.isAvailable&&e.isAvailable()}),0===t.length?setTimeout(function(){R(i,yg("TRANSPORT_UNAVAILABLE"))},0):(t=new(t.shift())(n.ce),n=ib(n.ab),n.v="js-2.2.4",n.transport=t.Bc(),n.suppress_status_codes=!0,e=sg()+"/"+e.H.Cb+r,t.open(e,n,function(e,t){if(e)R(i,e);else if(t&&t.error){var r=Error(t.error.message);r.code=t.error.code,r.details=t.error.details,R(i,r)}else R(i,null,t)}))}function Hg(e,t){var r=null!==e.nb||null!==t;e.nb=t,r&&e.de("auth_status",t),e.Ke(null!==t)}function Ng(e){var t=e.H;if("firebaseio.com"!==t.domain&&"firebaseio-demo.com"!==t.domain&&"auth.firebase.com"===fg)throw Error("This custom Firebase server ('"+e.H.domain+"') does not support delegated login.")}function Rg(e){this.hc=e,this.Kd=[],this.Qb=0,this.pe=-1,this.Fb=null}function Sg(e,t,r){e.pe=t,e.Fb=r,e.pe<e.Qb&&(e.Fb(),e.Fb=null)}function Tg(e,t,r){for(e.Kd[t]=r;e.Kd[e.Qb];){var n=e.Kd[e.Qb];delete e.Kd[e.Qb];for(var i=0;i<n.length;++i)if(n[i]){var s=e;Cb(function(){s.hc(n[i])})}if(e.Qb===e.pe){e.Fb&&(clearTimeout(e.Fb),e.Fb(),e.Fb=null);break}e.Qb++}}function Ug(e,t,r){this.qe=e,this.f=Oc(e),this.ob=this.pb=0,this.Va=Ob(t),this.Vd=r,this.Gc=!1,this.gd=function(e){t.host!==t.Oa&&(e.ns=t.Cb);var r,n=[];for(r in e)e.hasOwnProperty(r)&&n.push(r+"="+e[r]);return(t.lb?"https://":"http://")+t.Oa+"/.lp?"+n.join("&")}}function Yg(e,t){var r=B(t).length;e.ob+=r,Lb(e.Va,"bytes_received",r)}function Xg(e,t,r,n){if(this.gd=n,this.jb=r,this.Oe=new cg,this.$c=[],this.se=Math.floor(1e8*Math.random()),this.Td=!0,this.fe=Gc(),window["pLPCommand"+this.fe]=e,window["pRTLPCB"+this.fe]=t,e=document.createElement("iframe"),e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Bb("No IE domain setting required")}catch(i){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}e.contentDocument?e.gb=e.contentDocument:e.contentWindow?e.gb=e.contentWindow.document:e.document&&(e.gb=e.document),this.Ca=e,e="",this.Ca.src&&"javascript:"===this.Ca.src.substr(0,11)&&(e='<script>document.domain="'+document.domain+'";</script>'),e="<html><body>"+e+"</body></html>";try{this.Ca.gb.open(),this.Ca.gb.write(e),this.Ca.gb.close()}catch(s){Bb("frame writing exception"),s.stack&&Bb(s.stack),Bb(s)}}function $g(e){if(e.ke&&e.Td&&e.Oe.count()<(0<e.$c.length?2:1)){e.se++;var t={};t.id=e.rg,t.pw=e.sg,t.ser=e.se;for(var t=e.gd(t),r="",n=0;0<e.$c.length&&1870>=e.$c[0].jf.length+30+r.length;){var i=e.$c.shift(),r=r+"&seg"+n+"="+i.Jg+"&ts"+n+"="+i.Rg+"&d"+n+"="+i.jf;n++}return ah(e,t+r,e.se),!0}return!1}function ah(e,t,r){function n(){e.Oe.remove(r),$g(e)}e.Oe.add(r,1);var i=setTimeout(n,Math.floor(25e3));Zg(e,t,function(){clearTimeout(i),n()})}function Zg(e,t,r){setTimeout(function(){try{if(e.Td){var n=e.Ca.gb.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){var e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=function(){Bb("Long-poll script failed to load: "+t),e.Td=!1,e.close()},e.Ca.gb.body.appendChild(n)}}catch(i){}},Math.floor(1))}function ch(e,t,r){this.qe=e,this.f=Oc(this.qe),this.frames=this.Jc=null,this.ob=this.pb=this.bf=0,this.Va=Ob(t),this.fb=(t.lb?"wss://":"ws://")+t.Oa+"/.ws?v=5","undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(this.fb+="&r=f"),t.host!==t.Oa&&(this.fb=this.fb+"&ns="+t.Cb),r&&(this.fb=this.fb+"&s="+r)}function fh(e,t){if(e.frames.push(t),e.frames.length==e.bf){var r=e.frames.join("");e.frames=null,r=mb(r),e.wg(r)}}function eh(e){clearInterval(e.Jc),e.Jc=setInterval(function(){e.va&&e.va.send("0"),eh(e)},Math.floor(45e3))}function gh(e){hh(this,e)}function hh(e,t){var r=ch&&ch.isAvailable(),n=r&&!(Dc.uf||!0===Dc.get("previous_websocket_failure"));if(t.Tg&&(r||Q("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)e.ed=[ch];else{var i=e.ed=[];Yc(ih,function(e,t){t&&t.isAvailable()&&i.push(t)})}}function jh(e){if(0<e.ed.length)return e.ed[0];throw Error("No transports available")}function kh(e,t,r,n,i,s){this.id=e,this.f=Oc("c:"+this.id+":"),this.hc=r,this.Vc=n,this.ka=i,this.Me=s,this.H=t,this.Jd=[],this.ef=0,this.Nf=new gh(t),this.Ua=0,this.f("Connection created"),lh(this)}function lh(e){var t=jh(e.Nf);e.L=new t("c:"+e.id+":"+e.ef++,e.H),e.Qe=t.responsesRequiredToBeHealthy||0;var r=mh(e,e.L),n=nh(e,e.L);e.fd=e.L,e.bd=e.L,e.F=null,e.Ab=!1,setTimeout(function(){e.L&&e.L.open(r,n)},Math.floor(0)),t=t.healthyTimeout||0,t>0&&(e.vd=setTimeout(function(){e.vd=null,e.Ab||(e.L&&102400<e.L.ob?(e.f("Connection exceeded healthy timeout but has received "+e.L.ob+" bytes.  Marking connection healthy."),e.Ab=!0,e.L.Bd()):e.L&&10240<e.L.pb?e.f("Connection exceeded healthy timeout but has sent "+e.L.pb+" bytes.  Leaving connection alive."):(e.f("Closing unhealthy connection after timeout."),e.close()))},Math.floor(t)))}function nh(e,t){return function(r){t===e.L?(e.L=null,r||0!==e.Ua?1===e.Ua&&e.f("Realtime connection lost."):(e.f("Realtime connection failed."),"s-"===e.H.Oa.substr(0,2)&&(Dc.remove("host:"+e.H.host),e.H.Oa=e.H.host)),e.close()):t===e.F?(e.f("Secondary connection lost."),r=e.F,e.F=null,e.fd!==r&&e.bd!==r||e.close()):e.f("closing an old connection")}}function mh(e,t){return function(r){if(2!=e.Ua)if(t===e.bd){var n=Vc("t",r);if(r=Vc("d",r),"c"==n){if(n=Vc("t",r),"d"in r)if(r=r.d,"h"===n){var n=r.ts,i=r.v,s=r.h;e.Vd=r.s,Fc(e.H,s),0==e.Ua&&(e.L.start(),oh(e,e.L,n),"5"!==i&&Q("Protocol version mismatch detected"),r=e.Nf,(r=1<r.ed.length?r.ed[1]:null)&&ph(e,r))}else if("n"===n){for(e.f("recvd end transmission on primary"),e.bd=e.F,r=0;r<e.Jd.length;++r)e.Fd(e.Jd[r]);e.Jd=[],qh(e)}else"s"===n?(e.f("Connection shutdown command received. Shutting down..."),e.Me&&(e.Me(r),e.Me=null),e.ka=null,e.close()):"r"===n?(e.f("Reset packet received.  New host: "+r),Fc(e.H,r),1===e.Ua?e.close():(rh(e),lh(e))):"e"===n?Pc("Server Error: "+r):"o"===n?(e.f("got pong on primary."),sh(e),th(e)):Pc("Unknown control packet command: "+n)}else"d"==n&&e.Fd(r)}else if(t===e.F)if(n=Vc("t",r),r=Vc("d",r),"c"==n)"t"in r&&(r=r.t,"a"===r?uh(e):"r"===r?(e.f("Got a reset on secondary, closing it"),e.F.close(),e.fd!==e.F&&e.bd!==e.F||e.close()):"o"===r&&(e.f("got pong on secondary."),e.Lf--,uh(e)));else{if("d"!=n)throw Error("Unknown protocol layer: "+n);e.Jd.push(r)}else e.f("message on old connection")}}function qh(e){e.fd===e.F&&e.bd===e.F&&(e.f("cleaning up and promoting a connection: "+e.F.qe),e.L=e.F,e.F=null)}function uh(e){0>=e.Lf?(e.f("Secondary connection is healthy."),e.Ab=!0,e.F.Bd(),e.F.start(),e.f("sending client ack on secondary"),e.F.send({t:"c",d:{t:"a",d:{}}}),e.f("Ending transmission on primary"),e.L.send({t:"c",d:{t:"n",d:{}}}),e.fd=e.F,qh(e)):(e.f("sending ping on secondary."),e.F.send({t:"c",d:{t:"p",d:{}}}))}function sh(e){e.Ab||(e.Qe--,0>=e.Qe&&(e.f("Primary connection is healthy."),e.Ab=!0,e.L.Bd()))}function ph(e,t){e.F=new t("c:"+e.id+":"+e.ef++,e.H,e.Vd),e.Lf=t.responsesRequiredToBeHealthy||0,e.F.open(mh(e,e.F),nh(e,e.F)),setTimeout(function(){e.F&&(e.f("Timed out trying to upgrade."),e.F.close())},Math.floor(6e4))}function oh(e,t,r){e.f("Realtime connection established."),e.L=t,e.Ua=1,e.Vc&&(e.Vc(r),e.Vc=null),0===e.Qe?(e.f("Primary connection is healthy."),e.Ab=!0):setTimeout(function(){th(e)},Math.floor(5e3))}function th(e){e.Ab||1!==e.Ua||(e.f("sending ping on primary."),vh(e,{t:"c",d:{t:"p",d:{}}}))}function vh(e,t){if(1!==e.Ua)throw"Connection is not connected";e.fd.send(t)}function rh(e){e.f("Shutting down all connections"),e.L&&(e.L.close(),e.L=null),e.F&&(e.F.close(),e.F=null),e.vd&&(clearTimeout(e.vd),e.vd=null)}function wh(e,t,r,n){this.id=xh++,this.f=Oc("p:"+this.id+":"),this.wf=this.De=!1,this.aa={},this.pa=[],this.Xc=0,this.Uc=[],this.ma=!1,this.$a=1e3,this.Cd=3e5,this.Gb=t,this.Tc=r,this.Ne=n,this.H=e,this.We=null,this.Qd={},this.Ig=0,this.mf=!0,this.Kc=this.Fe=null,yh(this,0),Mf.ub().Eb("visible",this.zg,this),-1===e.host.indexOf("fblocal")&&Lf.ub().Eb("online",this.xg,this)}function Ah(e,t){var r=t.Fg,n=r.path.toString(),i=r.wa();e.f("Listen on "+n+" for "+i);var s={p:n};t.tag&&(s.q=ce(r.n),s.t=t.tag),s.h=t.ud(),e.Da("q",s,function(s){var o=s.d,a=s.s;if(o&&"object"==typeof o&&u(o,"w")){var c=w(o,"w");ea(c)&&0<=Na(c,"no_index")&&Q("Using an unspecified index. Consider adding "+('".indexOn": "'+r.n.g.toString()+'"')+" at "+r.path.toString()+" to your security rules for better performance")}(e.aa[n]&&e.aa[n][i])===t&&(e.f("listen response",s),"ok"!==a&&Bh(e,n,i),t.J&&t.J(a,o))})}function Ch(e){var t=e.Fa;e.ma&&t&&e.Da("auth",{cred:t.fg},function(r){var n=r.s;r=r.d||"error","ok"!==n&&e.Fa===t&&delete e.Fa,t.nf?"ok"!==n&&t.jd&&t.jd(n,r):(t.nf=!0,t.yc&&t.yc(n,r))})}function Dh(e,t,r,n,i){r={p:r,d:n},e.f("onDisconnect "+t,r),e.Da(t,r,function(e){i&&setTimeout(function(){i(e.s,e.d)},Math.floor(0))})}function Eh(e,t,r,i,s,o){i={p:r,d:i},n(o)&&(i.h=o),e.pa.push({action:t,If:i,J:s}),e.Xc++,t=e.pa.length-1,e.ma?Fh(e,t):e.f("Buffering put: "+r)}function Fh(e,t){var r=e.pa[t].action,n=e.pa[t].If,i=e.pa[t].J;e.pa[t].Gg=e.ma,e.Da(r,n,function(n){e.f(r+" response",n),delete e.pa[t],e.Xc--,0===e.Xc&&(e.pa=[]),i&&i(n.s,n.d)})}function yh(e,t){J(!e.Sa,"Scheduling a connect when we're already connected/ing?"),e.Sb&&clearTimeout(e.Sb),e.Sb=setTimeout(function(){e.Sb=null,Ih(e)},Math.floor(t))}function Ih(e){if(Jh(e)){e.f("Making a connection attempt"),e.Fe=(new Date).getTime(),e.Kc=null;var t=q(e.Fd,e),r=q(e.Vc,e),n=q(e.Cf,e),i=e.id+":"+zh++;e.Sa=new kh(i,e.H,t,r,n,function(t){Q(t+" ("+e.H.toString()+")"),e.wf=!0})}}function Gh(e,t,r){r=r?Qa(r,function(e){return Wc(e)}).join("$"):"default",(e=Bh(e,t,r))&&e.J&&e.J("permission_denied")}function Bh(e,t,r){t=new K(t).toString();var i;return n(e.aa[t])?(i=e.aa[t][r],delete e.aa[t][r],0===pa(e.aa[t])&&delete e.aa[t]):i=void 0,i}function Hh(e){Ch(e),r(e.aa,function(t){r(t,function(t){Ah(e,t)})});for(var t=0;t<e.pa.length;t++)e.pa[t]&&Fh(e,t);for(;e.Uc.length;)t=e.Uc.shift(),Dh(e,t.action,t.Zc,t.data,t.J)}function Jh(e){var t;return t=Lf.ub().ic,!e.wf&&!e.De&&t}function S(e,t,r){this.B=e,this.V=t,this.g=r}function Kh(e,t){this.H=e,this.Va=Ob(e),this.ea=new ub,this.Ed=1,this.Ra=null,t||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ca=new Ae(this.H,q(this.Gb,this)),setTimeout(q(this.Tc,this,!0),0)):this.ca=this.Ra=new wh(this.H,q(this.Gb,this),q(this.Tc,this),q(this.Ne,this)),this.Pg=Pb(e,q(function(){return new Jb(this.Va,this.ca)},this)),this.tc=new Cf,this.Be=new nb;var r=this;this.zd=new gf({Xe:function(e,t,n,i){return t=[],n=r.Be.j(e.path),n.e()||(t=jf(r.zd,new Ub(ze,e.path,n)),setTimeout(function(){i("ok")},0)),t},Zd:ba}),Lh(this,"connected",!1),this.ka=new qc,this.P=new Eg(e,q(this.ca.P,this.ca),q(this.ca.ee,this.ca),q(this.Ke,this)),this.pd=0,this.Ce=null,this.O=new gf({Xe:function(e,t,n,i){return r.ca.xf(e,n,t,function(t,n){var s=i(t,n);zb(r.ea,e.path,s)}),[]},Zd:function(e,t){r.ca.Of(e,t)}})}function Mh(e){return e=e.Be.j(new K(".info/serverTimeOffset")).K()||0,(new Date).getTime()+e}function Nh(e){return e=e={timestamp:Mh(e)},e.timestamp=e.timestamp||(new Date).getTime(),e}function Lh(e,t,r){t=new K("/.info/"+t),r=L(r);var n=e.Be;n.Sd=n.Sd.G(t,r),r=jf(e.zd,new Ub(ze,t,r)),zb(e.ea,t,r)}function Ph(e){e.f("onDisconnectEvents");var t=Nh(e),r=[];rc(pc(e.ka,t),F,function(t,n){r=r.concat(jf(e.O,new Ub(ze,t,n)));var i=Rh(e,t);Oh(e,i)}),e.ka=new qc,zb(e.ea,F,r)}function Sh(e,t,r,n){var i=L(r);e.ca.Le(t.toString(),i.K(!0),function(r,s){"ok"===r&&e.ka.mc(t,i),Qh(n,r,s)})}function Th(e,t,r,n,i){var s=L(r,n);e.ca.Le(t.toString(),s.K(!0),function(r,n){"ok"===r&&e.ka.mc(t,s),Qh(i,r,n)})}function Uh(e,t,r,n){var i,s=!0;for(i in r)s=!1;s?(Bb("onDisconnect().update() called with empty data.  Don't do anything."),Qh(n,"ok")):e.ca.Bf(t.toString(),r,function(i,s){if("ok"===i)for(var o in r){var a=L(r[o]);e.ka.mc(t.w(o),a)}Qh(n,i,s)})}function Vh(e,t,r){r=".info"===O(t.path)?e.zd.Ob(t,r):e.O.Ob(t,r),xb(e.ea,t.path,r)}function Qh(e,t,r){e&&Cb(function(){if("ok"==t)e(null);else{var n=(t||"error").toUpperCase(),i=n;r&&(i+=": "+r),i=Error(i),i.code=n,e(i)}})}function Wh(e,t,r,i,s){function o(){}e.f("transaction on "+t);var a=new U(e,t);if(a.Eb("value",o),r={path:t,update:r,J:i,status:null,Ef:Gc(),cf:s,Kf:0,ge:function(){a.gc("value",o)},je:null,Aa:null,md:null,nd:null,od:null},i=e.O.ua(t,void 0)||C,r.md=i,i=r.update(i.K()),n(i)){Sf("transaction failed: Data returned ",i,r.path),r.status=1,s=Df(e.tc,t);var c=s.Ba()||[];c.push(r),Ef(s,c),"object"==typeof i&&null!==i&&u(i,".priority")?(c=w(i,".priority"),J(Qf(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(e.O.ua(t)||C).A().K(),s=Nh(e),i=L(i,c),s=sc(i,s),r.nd=i,r.od=s,r.Aa=e.Ed++,r=hf(e.O,t,s,r.Aa,r.cf),zb(e.ea,t,r),Xh(e)}else r.ge(),r.nd=null,r.od=null,r.J&&(e=new S(r.md,new U(e,r.path),M),r.J(null,!1,e))}function Xh(e,t){var r=t||e.tc;if(t||Yh(e,r),null!==r.Ba()){var n=Zh(e,r);J(0<n.length,"Sending zero length transaction queue"),Sa(n,function(e){return 1===e.status})&&$h(e,r.path(),n)}else r.td()&&r.U(function(t){Xh(e,t)})}function $h(e,t,r){for(var n=Qa(r,function(e){return e.Aa}),i=e.O.ua(t,n)||C,n=i,i=i.hash(),s=0;s<r.length;s++){var o=r[s];J(1===o.status,"tryToSendTransactionQueue_: items in queue should all be run."),o.status=2,o.Kf++;var a=N(t,o.path),n=n.G(a,o.nd)}n=n.K(!0),e.ca.put(t.toString(),n,function(n){e.f("transaction put response",{path:t.toString(),status:n});var i=[];if("ok"===n){for(n=[],s=0;s<r.length;s++){if(r[s].status=3,i=i.concat(lf(e.O,r[s].Aa)),r[s].J){var o=r[s].od,a=new U(e,r[s].path);n.push(q(r[s].J,null,null,!0,new S(o,a,M)))}r[s].ge()}for(Yh(e,Df(e.tc,t)),Xh(e),zb(e.ea,t,i),s=0;s<n.length;s++)Cb(n[s])}else{if("datastale"===n)for(s=0;s<r.length;s++)r[s].status=4===r[s].status?5:1;else for(Q("transaction at "+t.toString()+" failed: "+n),s=0;s<r.length;s++)r[s].status=5,r[s].je=n;Oh(e,t)}},i)}function Oh(e,t){var r=ai(e,t),n=r.path(),r=Zh(e,r);return bi(e,r,n),n}function bi(e,t,r){if(0!==t.length){for(var i=[],s=[],o=Qa(t,function(e){return e.Aa}),a=0;a<t.length;a++){var c,p=t[a],l=N(r,p.path),f=!1;if(J(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===p.status)f=!0,c=p.je,s=s.concat(lf(e.O,p.Aa,!0));else if(1===p.status)if(25<=p.Kf)f=!0,c="maxretry",s=s.concat(lf(e.O,p.Aa,!0));else{var h=e.O.ua(p.path,o)||C;p.md=h;var d=t[a].update(h.K());n(d)?(Sf("transaction failed: Data returned ",d,p.path),l=L(d),"object"==typeof d&&null!=d&&u(d,".priority")||(l=l.da(h.A())),h=p.Aa,d=Nh(e),d=sc(l,d),p.nd=l,p.od=d,p.Aa=e.Ed++,Va(o,h),s=s.concat(hf(e.O,p.path,d,p.Aa,p.cf)),s=s.concat(lf(e.O,h,!0))):(f=!0,c="nodata",s=s.concat(lf(e.O,p.Aa,!0)))}zb(e.ea,r,s),s=[],f&&(t[a].status=3,setTimeout(t[a].ge,Math.floor(0)),t[a].J&&("nodata"===c?(p=new U(e,t[a].path),i.push(q(t[a].J,null,null,!1,new S(t[a].md,p,M)))):i.push(q(t[a].J,null,Error(c),!1,null))))}for(Yh(e,e.tc),a=0;a<i.length;a++)Cb(i[a]);Xh(e)}}function ai(e,t){for(var r,n=e.tc;null!==(r=O(t))&&null===n.Ba();)n=Df(n,r),t=G(t);return n}function Zh(e,t){var r=[];return ci(e,t,r),r.sort(function(e,t){return e.Ef-t.Ef}),r}function ci(e,t,r){var n=t.Ba();if(null!==n)for(var i=0;i<n.length;i++)r.push(n[i]);t.U(function(t){ci(e,t,r)})}function Yh(e,t){var r=t.Ba();if(r){for(var n=0,i=0;i<r.length;i++)3!==r[i].status&&(r[n]=r[i],n++);r.length=n,Ef(t,0<r.length?r:null)}t.U(function(t){Yh(e,t)})}function Rh(e,t){var r=ai(e,t).path(),n=Df(e.tc,t);return Hf(n,function(t){di(e,t)}),di(e,n),Gf(n,function(t){di(e,t)}),r}function di(e,t){var r=t.Ba();if(null!==r){for(var n=[],i=[],s=-1,o=0;o<r.length;o++)4!==r[o].status&&(2===r[o].status?(J(s===o-1,"All SENT items should be at beginning of queue."),s=o,r[o].status=4,r[o].je="set"):(J(1===r[o].status,"Unexpected transaction status in abort"),r[o].ge(),i=i.concat(lf(e.O,r[o].Aa,!0)),r[o].J&&n.push(q(r[o].J,null,Error("set"),!1,null))));for(-1===s?Ef(t,null):r.length=s+1,zb(e.ea,t.path(),i),o=0;o<n.length;o++)Cb(n[o])}}function W(){this.nc={},this.Pf=!1}function X(e,t){this.ad=e,this.qa=t}function Y(e,t,r,n){this.k=e,this.path=t,this.n=r,this.jc=n}function ei(e){var t=null,r=null;if(e.la&&(t=od(e)),e.na&&(r=qd(e)),e.g===Vd){if(e.la){if("[MIN_NAME]"!=nd(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof t)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(e.na){if("[MAX_NAME]"!=pd(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof r)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(e.g===M){if(null!=t&&!Qf(t)||null!=r&&!Qf(r))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(J(e.g instanceof Rd||e.g===Yd,"unknown index type."),null!=t&&"object"==typeof t||null!=r&&"object"==typeof r)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function fi(e){if(e.la&&e.na&&e.ia&&(!e.ia||""===e.Nb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");

}function gi(e,t){if(!0===e.jc)throw Error(t+": You can't combine multiple orderBy calls.")}function hi(e,t,r){var n={cancel:null,Ma:null};if(t&&r)n.cancel=t,A(e,3,n.cancel,!0),n.Ma=r,lb(e,4,n.Ma);else if(t)if("object"==typeof t&&null!==t)n.Ma=t;else{if("function"!=typeof t)throw Error(z(e,3,!0)+" must either be a cancel callback or a context object.");n.cancel=t}return n}function U(e,t){var r,n,i;if(e instanceof Kh)r=e,n=t;else{x("new Firebase",1,2,arguments.length),n=Rc(arguments[0]),r=n.Qg,"firebase"===n.domain&&Qc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r||Qc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.lb||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Q("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),r=new Ec(n.host,n.lb,r,"ws"===n.scheme||"wss"===n.scheme),n=new K(n.Zc),i=n.toString();var s;if(!(s=!p(r.host)||0===r.host.length||!Pf(r.Cb))&&(s=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),s=!(p(i)&&0!==i.length&&!Of.test(i))),s)throw Error(z("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(t)if(t instanceof W)i=t;else{if(!p(t))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");i=W.ub(),r.Ld=t}else i=W.ub();s=r.toString();var o=w(i.nc,s);o||(o=new Kh(r,i.Pf),i.nc[s]=o),r=o}Y.call(this,r,n,$d,!1)}function Nc(e,t){J(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!=typeof console&&("function"==typeof console.log?Ab=q(console.log,console):"object"==typeof console.log&&(Ab=function(e){console.log(e)})),t&&P.set("logging_enabled",!0)):e?Ab=e:(Ab=null,P.remove("logging_enabled"))}var h,aa=this,la=Date.now||function(){return+new Date},ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ea={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},Fa=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ha;e:{var Ia=aa.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break e}}Ha=""}ma(La,Ka),La.prototype.reset=function(){this.R[0]=1732584193,this.R[1]=4023233417,this.R[2]=2562383102,this.R[3]=271733878,this.R[4]=3285377520,this.be=this.$b=0},La.prototype.update=function(e,t){if(null!=e){n(t)||(t=e.length);for(var r=t-this.Wa,i=0,s=this.le,o=this.$b;t>i;){if(0==o)for(;r>=i;)Ma(this,e,i),i+=this.Wa;if(p(e)){for(;t>i;)if(s[o]=e.charCodeAt(i),++o,++i,o==this.Wa){Ma(this,s),o=0;break}}else for(;t>i;)if(s[o]=e[i],++o,++i,o==this.Wa){Ma(this,s),o=0;break}}this.$b=o,this.be+=t}};var t=Array.prototype,Na=t.indexOf?function(e,r,n){return t.indexOf.call(e,r,n)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,p(e))return p(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},Oa=t.forEach?function(e,r,n){t.forEach.call(e,r,n)}:function(e,t,r){for(var n=e.length,i=p(e)?e.split(""):e,s=0;n>s;s++)s in i&&t.call(r,i[s],s,e)},Pa=t.filter?function(e,r,n){return t.filter.call(e,r,n)}:function(e,t,r){for(var n=e.length,i=[],s=0,o=p(e)?e.split(""):e,a=0;n>a;a++)if(a in o){var u=o[a];t.call(r,u,a,e)&&(i[s++]=u)}return i},Qa=t.map?function(e,r,n){return t.map.call(e,r,n)}:function(e,t,r){for(var n=e.length,i=Array(n),s=p(e)?e.split(""):e,o=0;n>o;o++)o in s&&(i[o]=t.call(r,s[o],o,e));return i},Ra=t.reduce?function(e,r,n,i){for(var s=[],o=1,a=arguments.length;a>o;o++)s.push(arguments[o]);return i&&(s[0]=q(r,i)),t.reduce.apply(e,s)}:function(e,t,r,n){var i=r;return Oa(e,function(r,s){i=t.call(n,i,r,s,e)}),i},Sa=t.every?function(e,r,n){return t.every.call(e,r,n)}:function(e,t,r){for(var n=e.length,i=p(e)?e.split(""):e,s=0;n>s;s++)if(s in i&&!t.call(r,i[s],s,e))return!1;return!0},Za=-1!=Ha.indexOf("Opera")||-1!=Ha.indexOf("OPR"),$a=-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE"),ab=-1!=Ha.indexOf("Gecko")&&-1==Ha.toLowerCase().indexOf("webkit")&&!(-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE")),bb=-1!=Ha.toLowerCase().indexOf("webkit");!function(){var e,t="";return Za&&aa.opera?(t=aa.opera.version,ha(t)?t():t):(ab?e=/rv\:([^\);]+)(\)|;)/:$a?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:bb&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(Ha))?t[1]:""),$a&&(e=(e=aa.document)?e.documentMode:void 0,e>parseFloat(t))?String(e):t)}();var cb=null,db=null,eb=null;nb.prototype.j=function(e){return this.Sd.oa(e)},nb.prototype.toString=function(){return this.Sd.toString()},ob.prototype.pf=function(){return null},ob.prototype.xe=function(){return null};var pb=new ob;qb.prototype.pf=function(e){var t=this.Ka.D;return rb(t,e)?t.j().M(e):(t=null!=this.Hd?new sb(this.Hd,!0,!1):this.Ka.u(),this.Qf.Xa(e,t))},qb.prototype.xe=function(e,t,r){var n=null!=this.Hd?this.Hd:tb(this.Ka);return e=this.Qf.me(n,t,1,r,e),0===e.length?null:e[0]},wb.prototype.add=function(e){this.sd.push(e)},wb.prototype.Yb=function(){return this.qa};var Eb="value";Fb.prototype.Yb=function(){var e=this.Wd.lc();return"value"===this.rd?e.path:e.parent().path},Fb.prototype.ye=function(){return this.rd},Fb.prototype.Ub=function(){return this.te.Ub(this)},Fb.prototype.toString=function(){return this.Yb().toString()+":"+this.rd+":"+B(this.Wd.lf())},Gb.prototype.Yb=function(){return this.path},Gb.prototype.ye=function(){return"cancel"},Gb.prototype.Ub=function(){return this.te.Ub(this)},Gb.prototype.toString=function(){return this.path.toString()+":cancel"},sb.prototype.j=function(){return this.B},Ib.prototype.get=function(){var e=this.dg.get(),t=xa(e);if(this.Ad)for(var r in this.Ad)t[r]-=this.Ad[r];return this.Ad=e,t},Jb.prototype.Hf=function(){var e,t=this.Yd.get(),r={},n=!1;for(e in t)0<t[e]&&u(this.Mf,e)&&(r[e]=t[e],n=!0);n&&this.ca.Te(r),setTimeout(q(this.Hf,this),Math.floor(6e5*Math.random()))},Kb.prototype.get=function(){return xa(this.Dc)};var Mb={},Nb={};Ub.prototype.Wc=function(e){return this.path.e()?new Ub(this.source,F,this.Ia.M(e)):new Ub(this.source,G(this.path),this.Ia)},Ub.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ia.toString()+")"},Wb.prototype.Wc=function(){return this.path.e()?this:new Wb(G(this.path),this.Ve)},Wb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Ve+")"},Zb.prototype.Wc=function(){return this.path.e()?new Zb(this.source,F):new Zb(this.source,G(this.path))},Zb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},h=ac.prototype,h.Na=function(e,t){return new ac(this.La,this.xa.Na(e,t,this.La).X(null,null,!1,null,null))},h.remove=function(e){return new ac(this.La,this.xa.remove(e,this.La).X(null,null,!1,null,null))},h.get=function(e){for(var t,r=this.xa;!r.e();){if(t=this.La(e,r.key),0===t)return r.value;0>t?r=r.left:t>0&&(r=r.right)}return null},h.e=function(){return this.xa.e()},h.count=function(){return this.xa.count()},h.Rc=function(){return this.xa.Rc()},h.ec=function(){return this.xa.ec()},h.ha=function(e){return this.xa.ha(e)},h.Wb=function(e){return new dc(this.xa,null,this.La,!1,e)},h.Xb=function(e,t){return new dc(this.xa,e,this.La,!1,t)},h.Zb=function(e,t){return new dc(this.xa,e,this.La,!0,t)},h.rf=function(e){return new dc(this.xa,null,this.La,!0,e)},h=fc.prototype,h.X=function(e,t,r,n,i){return new fc(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.e=function(){return!1},h.ha=function(e){return this.left.ha(e)||e(this.key,this.value)||this.right.ha(e)},h.Rc=function(){return gc(this).key},h.ec=function(){return this.right.e()?this.key:this.right.ec()},h.Na=function(e,t,r){var n,i;return i=this,n=r(e,i.key),i=0>n?i.X(null,null,null,i.left.Na(e,t,r),null):0===n?i.X(null,t,null,null,null):i.X(null,null,null,null,i.right.Na(e,t,r)),hc(i)},h.remove=function(e,t){var r,n;if(r=this,0>t(e,r.key))r.left.e()||r.left.fa()||r.left.left.fa()||(r=jc(r)),r=r.X(null,null,null,r.left.remove(e,t),null);else{if(r.left.fa()&&(r=kc(r)),r.right.e()||r.right.fa()||r.right.left.fa()||(r=lc(r),r.left.left.fa()&&(r=kc(r),r=lc(r))),0===t(e,r.key)){if(r.right.e())return bc;n=gc(r.right),r=r.X(n.key,n.value,null,null,ic(r.right))}r=r.X(null,null,null,null,r.right.remove(e,t))}return hc(r)},h.fa=function(){return this.color},h=nc.prototype,h.X=function(){return this},h.Na=function(e,t){return new fc(e,t,null)},h.remove=function(){return this},h.count=function(){return 0},h.e=function(){return!0},h.ha=function(){return!1},h.Rc=function(){return null},h.ec=function(){return null},h.fa=function(){return!1};var bc=new nc;h=K.prototype,h.toString=function(){for(var e="",t=this.Y;t<this.o.length;t++)""!==this.o[t]&&(e+="/"+this.o[t]);return e||"/"},h.slice=function(e){return this.o.slice(this.Y+(e||0))},h.parent=function(){if(this.Y>=this.o.length)return null;for(var e=[],t=this.Y;t<this.o.length-1;t++)e.push(this.o[t]);return new K(e,0)},h.w=function(e){for(var t=[],r=this.Y;r<this.o.length;r++)t.push(this.o[r]);if(e instanceof K)for(r=e.Y;r<e.o.length;r++)t.push(e.o[r]);else for(e=e.split("/"),r=0;r<e.length;r++)0<e[r].length&&t.push(e[r]);return new K(t,0)},h.e=function(){return this.Y>=this.o.length},h.Z=function(e){if(uc(this)!==uc(e))return!1;for(var t=this.Y,r=e.Y;t<=this.o.length;t++,r++)if(this.o[t]!==e.o[r])return!1;return!0},h.contains=function(e){var t=this.Y,r=e.Y;if(uc(this)>uc(e))return!1;for(;t<this.o.length;){if(this.o[t]!==e.o[r])return!1;++t,++r}return!0};var F=new K("");wc.prototype.push=function(e){0<this.Qa.length&&(this.Ea+=1),this.Qa.push(e),this.Ea+=xc(e),yc(this)},wc.prototype.pop=function(){var e=this.Qa.pop();this.Ea-=xc(e),0<this.Qa.length&&--this.Ea},Ac.prototype.set=function(e,t){null==t?delete this.wc[e]:this.wc[e]=t},Ac.prototype.get=function(e){return u(this.wc,e)?this.wc[e]:null},Ac.prototype.remove=function(e){delete this.wc[e]},Ac.prototype.uf=!0,h=Bc.prototype,h.set=function(e,t){null==t?this.Ec.removeItem(this.Md+e):this.Ec.setItem(this.Md+e,B(t))},h.get=function(e){return e=this.Ec.getItem(this.Md+e),null==e?null:mb(e)},h.remove=function(e){this.Ec.removeItem(this.Md+e)},h.uf=!1,h.toString=function(){return this.Ec.toString()};var Dc=Cc("localStorage"),P=Cc("sessionStorage");Ec.prototype.toString=function(){var e=(this.lb?"https://":"http://")+this.host;return this.Ld&&(e+="<"+this.Ld+">"),e};var Gc=function(){var e=1;return function(){return e++}}(),Ab=null,Mc=!0,$c=/^-?\d{1,10}$/;dd.prototype.eg=function(e,t){if(null==e.Ya||null==t.Ya)throw Hc("Should only compare child_ events.");return this.g.compare(new E(e.Ya,e.Ja),new E(t.Ya,t.Ja))},h=jd.prototype,h.Jf=function(e){return"value"===e},h.createEvent=function(e,t){var r=t.n.g;return new Fb("value",this,new S(e.Ja,t.lc(),r))},h.Ub=function(e){var t=this.sb;if("cancel"===e.ye()){J(this.qb,"Raising a cancel event on a listener with no cancel callback");var r=this.qb;return function(){r.call(t,e.error)}}var n=this.Pb;return function(){n.call(t,e.Wd)}},h.ff=function(e,t){return this.qb?new Gb(this,e,t):null},h.matches=function(e){return e instanceof jd?e.Pb&&this.Pb?e.Pb===this.Pb&&e.sb===this.sb:!0:!1},h.sf=function(){return null!==this.Pb},h=kd.prototype,h.Jf=function(e){return e="children_added"===e?"child_added":e,("children_removed"===e?"child_removed":e)in this.ga},h.ff=function(e,t){return this.qb?new Gb(this,e,t):null},h.createEvent=function(e,t){J(null!=e.Ya,"Child events should have a childName.");var r=t.lc().w(e.Ya);return new Fb(e.type,this,new S(e.Ja,r,t.n.g),e.Nd)},h.Ub=function(e){var t=this.sb;if("cancel"===e.ye()){J(this.qb,"Raising a cancel event on a listener with no cancel callback");var r=this.qb;return function(){r.call(t,e.error)}}var n=this.ga[e.rd];return function(){n.call(t,e.Wd,e.Nd)}},h.matches=function(e){if(e instanceof kd){if(!this.ga||!e.ga)return!0;if(this.sb===e.sb){var t=pa(e.ga);if(t===pa(this.ga)){if(1===t){var t=qa(e.ga),r=qa(this.ga);return!(r!==t||e.ga[t]&&this.ga[r]&&e.ga[t]!==this.ga[r])}return oa(this.ga,function(t,r){return e.ga[r]===t})}}}return!1},h.sf=function(){return null!==this.ga},h=ld.prototype,h.G=function(e,t,r,n,i){return J(e.Ic(this.g),"A node must be indexed if only a child is updated"),n=e.M(t),n.Z(r)?e:(null!=i&&(r.e()?e.Ha(t)?id(i,new D("child_removed",n,t)):J(e.N(),"A child remove without an old child only makes sense on a leaf node"):n.e()?id(i,new D("child_added",r,t)):id(i,new D("child_changed",r,t,n))),e.N()&&r.e()?e:e.Q(t,r).mb(this.g))},h.ta=function(e,t,r){return null!=r&&(e.N()||e.U(M,function(e,n){t.Ha(e)||id(r,new D("child_removed",n,e))}),t.N()||t.U(M,function(t,n){if(e.Ha(t)){var i=e.M(t);i.Z(n)||id(r,new D("child_changed",n,t,i))}else id(r,new D("child_added",n,t))})),t.mb(this.g)},h.da=function(e,t){return e.e()?C:e.da(t)},h.Ga=function(){return!1},h.Vb=function(){return this},h=md.prototype,h.matches=function(e){return 0>=this.g.compare(this.dd,e)&&0>=this.g.compare(e,this.Fc)},h.G=function(e,t,r,n,i){return this.matches(new E(t,r))||(r=C),this.Ae.G(e,t,r,n,i)},h.ta=function(e,t,r){t.N()&&(t=C);var n=t.mb(this.g),n=n.da(C),i=this;return t.U(M,function(e,t){i.matches(new E(e,t))||(n=n.Q(e,C))}),this.Ae.ta(e,n,r)},h.da=function(e){return e},h.Ga=function(){return!0},h.Vb=function(){return this.Ae},h=rd.prototype,h.G=function(e,t,r,n,i){return this.ra.matches(new E(t,r))||(r=C),e.M(t).Z(r)?e:e.Db()<this.ja?this.ra.Vb().G(e,t,r,n,i):td(this,e,t,r,n,i)},h.ta=function(e,t,r){var n;if(t.N()||t.e())n=C.mb(this.g);else if(2*this.ja<t.Db()&&t.Ic(this.g)){n=C.mb(this.g),t=this.Jb?t.Zb(this.ra.Fc,this.g):t.Xb(this.ra.dd,this.g);for(var i=0;0<t.Pa.length&&i<this.ja;){var s,o=H(t);if(!(s=this.Jb?0>=this.g.compare(this.ra.dd,o):0>=this.g.compare(o,this.ra.Fc)))break;n=n.Q(o.name,o.S),i++}}else{n=t.mb(this.g),n=n.da(C);var a,u,c;if(this.Jb){t=n.rf(this.g),a=this.ra.Fc,u=this.ra.dd;var p=ud(this.g);c=function(e,t){return p(t,e)}}else t=n.Wb(this.g),a=this.ra.dd,u=this.ra.Fc,c=ud(this.g);for(var i=0,l=!1;0<t.Pa.length;)o=H(t),!l&&0>=c(a,o)&&(l=!0),(s=l&&i<this.ja&&0>=c(o,u))?i++:n=n.Q(o.name,C)}return this.ra.Vb().ta(e,n,r)},h.da=function(e){return e},h.Ga=function(){return!0},h.Vb=function(){return this.ra.Vb()},zd.prototype.bb=function(e,t,r,n){var i,s=new hd;if(t.type===Vb)t.source.ve?r=Ad(this,e,t.path,t.Ia,r,n,s):(J(t.source.of,"Unknown source."),i=t.source.af,r=Bd(this,e,t.path,t.Ia,r,n,i,s));else if(t.type===Cd)t.source.ve?r=Dd(this,e,t.path,t.children,r,n,s):(J(t.source.of,"Unknown source."),i=t.source.af,r=Ed(this,e,t.path,t.children,r,n,i,s));else if(t.type===Xb)if(t.Ve)if(i=t.path,null!=r.sc(i))r=e;else{if(t=new qb(r,e,n),n=e.D.j(),i.e()||".priority"===O(i))Hb(e.u())?t=r.ua(tb(e)):(t=e.u().j(),J(t instanceof T,"serverChildren would be complete if leaf node"),t=r.xc(t)),t=this.I.ta(n,t,s);else{i=O(i);var o=r.Xa(i,e.u());null==o&&rb(e.u(),i)&&(o=n.M(i)),t=null!=o?this.I.G(n,i,o,t,s):e.D.j().Ha(i)?this.I.G(n,i,C,t,s):n,t.e()&&Hb(e.u())&&(n=r.ua(tb(e)),n.N()&&(t=this.I.ta(t,n,s)))}n=Hb(e.u())||null!=r.sc(F),r=Fd(e,t,n,this.I.Ga())}else r=Gd(this,e,t.path,r,n,s);else{if(t.type!==$b)throw Hc("Unknown operation type: "+t.type);n=t.path,t=e.u(),i=t.j(),o=t.$||n.e(),r=Hd(this,new Id(e.D,new sb(i,o,t.Tb)),n,r,pb,s)}return s=ra(s.eb),n=r,t=n.D,t.$&&(i=t.j().N()||t.j().e(),o=Jd(e),(0<s.length||!e.D.$||i&&!t.j().Z(o)||!t.j().A().Z(o.A()))&&s.push(Db(Jd(n)))),new yd(r,s)};var Pd={};Od.prototype.xd=function(e,t){return 0!==this.compare(new E("[MIN_NAME]",e),new E("[MIN_NAME]",t))},Od.prototype.Sc=function(){return Qd},ma(Rd,Od),h=Rd.prototype,h.Hc=function(e){return!e.M(this.bc).e()},h.compare=function(e,t){var r=e.S.M(this.bc),n=t.S.M(this.bc),r=r.Cc(n);return 0===r?Sb(e.name,t.name):r},h.Oc=function(e,t){var r=L(e),r=C.Q(this.bc,r);return new E(t,r)},h.Pc=function(){var e=C.Q(this.bc,Sd);return new E("[MAX_NAME]",e)},h.toString=function(){return this.bc},ma(Td,Od),h=Td.prototype,h.compare=function(e,t){var r=e.S.A(),n=t.S.A(),r=r.Cc(n);return 0===r?Sb(e.name,t.name):r},h.Hc=function(e){return!e.A().e()},h.xd=function(e,t){return!e.A().Z(t.A())},h.Sc=function(){return Qd},h.Pc=function(){return new E("[MAX_NAME]",new tc("[PRIORITY-POST]",Sd))},h.Oc=function(e,t){var r=L(e);return new E(t,new tc("[PRIORITY-POST]",r))},h.toString=function(){return".priority"};var M=new Td;ma(Ud,Od),h=Ud.prototype,h.compare=function(e,t){return Sb(e.name,t.name)},h.Hc=function(){throw Hc("KeyIndex.isDefinedOn not expected to be called.")},h.xd=function(){return!1},h.Sc=function(){return Qd},h.Pc=function(){return new E("[MAX_NAME]",C)},h.Oc=function(e){return J(p(e),"KeyIndex indexValue must always be a string."),new E(e,C)},h.toString=function(){return".key"};var Vd=new Ud;ma(Wd,Od),h=Wd.prototype,h.compare=function(e,t){var r=e.S.Cc(t.S);return 0===r?Sb(e.name,t.name):r},h.Hc=function(){return!0},h.xd=function(e,t){return!e.Z(t)},h.Sc=function(){return Qd},h.Pc=function(){return Xd},h.Oc=function(e,t){var r=L(e);return new E(t,r)},h.toString=function(){return".value"};var Yd=new Wd,$d=new Zd;h=Zd.prototype,h.Ge=function(e){var t=ae(this);return t.ia=!0,t.ja=e,t.Nb="",t},h.He=function(e){var t=ae(this);return t.ia=!0,t.ja=e,t.Nb="l",t},h.Ie=function(e){var t=ae(this);return t.ia=!0,t.ja=e,t.Nb="r",t},h.Xd=function(e,t){var r=ae(this);return r.la=!0,n(e)||(e=null),r.dc=e,null!=t?(r.Lb=!0,r.xb=t):(r.Lb=!1,r.xb=""),r},h.qd=function(e,t){var r=ae(this);return r.na=!0,n(e)||(e=null),r.ac=e,n(t)?(r.Rb=!0,r.vb=t):(r.Yg=!1,r.vb=""),r},h.toString=function(){return B(ce(this))},fe.prototype.get=function(e){var t=w(this.yd,e);if(!t)throw Error("No index defined for "+e);return t===Pd?null:t};var je=new fe({".priority":Pd},{".priority":M});h=tc.prototype,h.N=function(){return!0},h.A=function(){return this.ba},h.da=function(e){return new tc(this.C,e)},h.M=function(e){return".priority"===e?this.ba:C},h.oa=function(e){return e.e()?this:".priority"===O(e)?this.ba:C},h.Ha=function(){return!1},h.qf=function(){return null},h.Q=function(e,t){return".priority"===e?this.da(t):t.e()&&".priority"!==e?this:C.Q(e,t).da(this.ba)},h.G=function(e,t){var r=O(e);return null===r?t:t.e()&&".priority"!==r?this:(J(".priority"!==r||1===uc(e),".priority must be the last token in a path"),this.Q(r,C.G(G(e),t)))},h.e=function(){return!1},h.Db=function(){return 0},h.K=function(e){return e&&!this.A().e()?{".value":this.Ba(),".priority":this.A().K()}:this.Ba()},h.hash=function(){if(null===this.Bb){var e="";this.ba.e()||(e+="priority:"+le(this.ba.K())+":");var t=typeof this.C,e=e+(t+":"),e="number"===t?e+Zc(this.C):e+this.C;this.Bb=Jc(e)}return this.Bb},h.Ba=function(){return this.C},h.Cc=function(e){if(e===C)return 1;if(e instanceof T)return-1;J(e.N(),"Unknown node type");var t=typeof e.C,r=typeof this.C,n=Na(me,t),i=Na(me,r);return J(n>=0,"Unknown leaf type: "+t),J(i>=0,"Unknown leaf type: "+r),n===i?"object"===r?0:this.C<e.C?-1:this.C===e.C?0:1:i-n};var me=["object","boolean","number","string"];tc.prototype.mb=function(){return this},tc.prototype.Ic=function(){return!0},tc.prototype.Z=function(e){return e===this?!0:e.N()?this.C===e.C&&this.ba.Z(e.ba):!1},tc.prototype.toString=function(){return B(this.K(!0))},h=T.prototype,h.N=function(){return!1},h.A=function(){return this.ba||C},h.da=function(e){return this.m.e()?this:new T(this.m,e,this.wb)},h.M=function(e){return".priority"===e?this.A():(e=this.m.get(e),null===e?C:e)},h.oa=function(e){var t=O(e);return null===t?this:this.M(t).oa(G(e))},h.Ha=function(e){return null!==this.m.get(e)},h.Q=function(e,t){if(J(t,"We should always be passing snapshot nodes"),".priority"===e)return this.da(t);var r,n,i=new E(e,t);return t.e()?(r=this.m.remove(e),i=ie(this.wb,i,this.m)):(r=this.m.Na(e,t),i=ge(this.wb,i,this.m)),n=r.e()?C:this.ba,new T(r,n,i)},h.G=function(e,t){var r=O(e);if(null===r)return t;J(".priority"!==O(e)||1===uc(e),".priority must be the last token in a path");var n=this.M(r).G(G(e),t);return this.Q(r,n)},h.e=function(){return this.m.e()},h.Db=function(){return this.m.count()};var ne=/^(0|[1-9]\d*)$/;h=T.prototype,h.K=function(e){if(this.e())return null;var t={},r=0,n=0,i=!0;if(this.U(M,function(s,o){t[s]=o.K(e),r++,i&&ne.test(s)?n=Math.max(n,Number(s)):i=!1}),!e&&i&&2*r>n){var s,o=[];for(s in t)o[s]=t[s];return o}return e&&!this.A().e()&&(t[".priority"]=this.A().K()),t},h.hash=function(){if(null===this.Bb){var e="";this.A().e()||(e+="priority:"+le(this.A().K())+":"),this.U(M,function(t,r){var n=r.hash();""!==n&&(e+=":"+t+":"+n)}),this.Bb=""===e?"":Jc(e)}return this.Bb},h.qf=function(e,t,r){return(r=oe(this,r))?(e=cc(r,new E(e,t)))?e.name:null:cc(this.m,e)},h.U=function(e,t){var r=oe(this,e);return r?r.ha(function(e){return t(e.name,e.S)}):this.m.ha(t)},h.Wb=function(e){return this.Xb(e.Sc(),e)},h.Xb=function(e,t){var r=oe(this,t);if(r)return r.Xb(e,function(e){return e});for(var r=this.m.Xb(e.name,Qb),n=ec(r);null!=n&&0>t.compare(n,e);)H(r),n=ec(r);return r},h.rf=function(e){return this.Zb(e.Pc(),e)},h.Zb=function(e,t){var r=oe(this,t);if(r)return r.Zb(e,function(e){return e});for(var r=this.m.Zb(e.name,Qb),n=ec(r);null!=n&&0<t.compare(n,e);)H(r),n=ec(r);return r},h.Cc=function(e){return this.e()?e.e()?0:-1:e.N()||e.e()?1:e===Sd?-1:0},h.mb=function(e){if(e===Vd||ta(this.wb.cc,e.toString()))return this;var t=this.wb,r=this.m;J(e!==Vd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n=[],i=!1,r=r.Wb(Qb),s=H(r);s;)i=i||e.Hc(s.S),n.push(s),s=H(r);return n=i?he(n,ud(e)):Pd,i=e.toString(),r=xa(t.cc),r[i]=e,e=xa(t.yd),e[i]=n,new T(this.m,this.ba,new fe(e,r))},h.Ic=function(e){return e===Vd||ta(this.wb.cc,e.toString())},h.Z=function(e){if(e===this)return!0;if(e.N())return!1;if(this.A().Z(e.A())&&this.m.count()===e.m.count()){var t=this.Wb(M);e=e.Wb(M);for(var r=H(t),n=H(e);r&&n;){if(r.name!==n.name||!r.S.Z(n.S))return!1;r=H(t),n=H(e)}return null===r&&null===n}return!1},h.toString=function(){return B(this.K(!0))};var pe=Math.log(2),C=new T(new ac(Tb),null,je);ma(se,T),h=se.prototype,h.Cc=function(e){return e===this?0:1},h.Z=function(e){return e===this},h.A=function(){return this},h.M=function(){return C},h.e=function(){return!1};var Sd=new se,Qd=new E("[MIN_NAME]",C),Xd=new E("[MAX_NAME]",Sd);Id.prototype.u=function(){return this.Ud},h=te.prototype,h.u=function(){return this.Ka.u().j()},h.hb=function(e){var t=tb(this.Ka);return t&&(de(this.V.n)||!e.e()&&!t.M(O(e)).e())?t.oa(e):null},h.e=function(){return 0===this.Za.length},h.Ob=function(e){this.Za.push(e)},h.kb=function(e,t){var r=[];if(t){J(null==e,"A cancel should cancel all event registrations.");var n=this.V.path;Oa(this.Za,function(e){(e=e.ff(t,n))&&r.push(e)})}if(e){for(var i=[],s=0;s<this.Za.length;++s){var o=this.Za[s];if(o.matches(e)){if(e.sf()){i=i.concat(this.Za.slice(s+1));break}}else i.push(o)}this.Za=i}else this.Za=[];return r},h.bb=function(e,t,r){e.type===Cd&&null!==e.source.Ib&&(J(tb(this.Ka),"We should always have a full cache before handling merges"),J(Jd(this.Ka),"Missing event cache, even though we have a server cache"));var n=this.Ka;return e=this.Gf.bb(n,e,t,r),t=this.Gf,r=e.he,J(r.D.j().Ic(t.I.g),"Event snap not indexed"),J(r.u().j().Ic(t.I.g),"Server snap not indexed"),J(Hb(e.he.u())||!Hb(n.u()),"Once a server snap is complete, it should never go back"),this.Ka=e.he,ve(this,e.cg,e.he.D.j(),null)},xe.prototype.Wc=function(e){return this.path.e()?(e=this.children.subtree(new K(e)),e.e()?null:e.value?new Ub(this.source,F,e.value):new xe(this.source,F,e)):(J(O(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new xe(this.source,G(this.path),this.children))},xe.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};var Vb=0,Cd=1,Xb=2,$b=3,Yb=new ye(!0,!1,null,!1),ze=new ye(!1,!0,null,!1);ye.prototype.toString=function(){return this.ve?"user":this.af?"server(queryID="+this.Ib+")":"server"},h=Ae.prototype,h.xf=function(e,t,r,n){var i=e.path.toString();this.f("Listen called for "+i+" "+e.wa());var s=Be(e,r),o={};this.aa[s]=o,e=ee(e.n);var a=this;Ce(this,i+".json",e,function(e,t){var u=t;404===e&&(e=u=null),null===e&&a.Gb(i,u,!1,r),w(a.aa,s)===o&&n(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},h.Of=function(e,t){var r=Be(e,t);delete this.aa[r]},h.P=function(e,t){this.Fa=e;var r=ad(e),n=r.data,r=r.Ac&&r.Ac.exp;t&&t("ok",{auth:n,expires:r})},h.ee=function(e){this.Fa=null,e("ok",null)},h.Le=function(){},h.Bf=function(){},h.Gd=function(){},h.put=function(){},h.yf=function(){},h.Te=function(){};var Ee=new ac(function(e,t){return e===t?0:t>e?-1:1});h=De.prototype,h.e=function(){return null===this.value&&this.children.e()},h.subtree=function(e){if(e.e())return this;var t=this.children.get(O(e));return null!==t?t.subtree(G(e)):Nd},h.set=function(e,t){if(e.e())return new De(t,this.children);var r=O(e),n=(this.children.get(r)||Nd).set(G(e),t),r=this.children.Na(r,n);return new De(this.value,r)},h.remove=function(e){if(e.e())return this.children.e()?Nd:new De(null,this.children);var t=O(e),r=this.children.get(t);return r?(e=r.remove(G(e)),t=e.e()?this.children.remove(t):this.children.Na(t,e),null===this.value&&t.e()?Nd:new De(this.value,t)):this},h.get=function(e){if(e.e())return this.value;var t=this.children.get(O(e));return t?t.get(G(e)):null};var Nd=new De(null);De.prototype.toString=function(){var e={};return Kd(this,function(t,r){e[t.toString()]=r.toString()}),B(e)};var Re=new Qe(new De(null));Qe.prototype.Od=function(e){return e.e()?Re:(e=Md(this.W,e,Nd),new Qe(e))},Qe.prototype.e=function(){return this.W.e()},Qe.prototype.apply=function(e){return Xe(F,this.W,e)},h=Ye.prototype,h.Od=function(e){var t=Ua(this.za,function(t){return t.ie===e});J(t>=0,"removeWrite called with nonexistent writeId.");var n=this.za[t];this.za.splice(t,1);for(var i=n.visible,s=!1,o=this.za.length-1;i&&o>=0;){var a=this.za[o];a.visible&&(o>=t&&Ze(a,n.path)?i=!1:n.path.contains(a.path)&&(s=!0)),o--}if(i){if(s)this.T=$e(this.za,af,F),this.Lc=0<this.za.length?this.za[this.za.length-1].ie:-1;else if(n.Ia)this.T=this.T.Od(n.path);else{var u=this;r(n.children,function(e,t){u.T=u.T.Od(n.path.w(t))})}return n.path}return null},h.ua=function(e,t,r,n){if(r||n){var i=We(this.T,e);return!n&&i.e()?t:n||null!=t||null!=Ue(i,F)?(i=$e(this.za,function(t){return!(!t.visible&&!n||r&&0<=Na(r,t.ie)||!t.path.contains(e)&&!e.contains(t.path))},e),t=t||C,i.apply(t)):null}return i=Ue(this.T,e),null!=i?i:(i=We(this.T,e),i.e()?t:null!=t||null!=Ue(i,F)?(t=t||C,i.apply(t)):null)},h.xc=function(e,t){var r=C,n=Ue(this.T,e);if(n)n.N()||n.U(M,function(e,t){r=r.Q(e,t)});else if(t){var i=We(this.T,e);t.U(M,function(e,t){var n=We(i,new K(e)).apply(t);r=r.Q(e,n)}),Oa(Ve(i),function(e){r=r.Q(e.name,e.S)})}else i=We(this.T,e),Oa(Ve(i),function(e){r=r.Q(e.name,e.S)});return r},h.hd=function(e,t,r,n){return J(r||n,"Either existingEventSnap or existingServerSnap must exist"),e=e.w(t),null!=Ue(this.T,e)?null:(e=We(this.T,e),e.e()?n.oa(t):e.apply(n.oa(t)))},h.Xa=function(e,t,r){e=e.w(t);var n=Ue(this.T,e);return null!=n?n:rb(r,t)?We(this.T,e).apply(r.j().M(t)):null},h.sc=function(e){return Ue(this.T,e)},h.me=function(e,t,r,n,i,s){var o;if(e=We(this.T,e),o=Ue(e,F),null==o){if(null==t)return[];o=e.apply(t)}if(o=o.mb(s),o.e()||o.N())return[];for(t=[],e=ud(s),i=i?o.Zb(r,s):o.Xb(r,s),s=H(i);s&&t.length<n;)0!==e(s,r)&&t.push(s),s=H(i);return t},h=bf.prototype,h.ua=function(e,t,r){return this.W.ua(this.Mb,e,t,r)},h.xc=function(e){return this.W.xc(this.Mb,e)},h.hd=function(e,t,r){return this.W.hd(this.Mb,e,t,r)},h.sc=function(e){return this.W.sc(this.Mb.w(e))},h.me=function(e,t,r,n,i){return this.W.me(this.Mb,e,t,r,n,i)},h.Xa=function(e,t){return this.W.Xa(this.Mb,e,t)},h.w=function(e){return new bf(this.Mb.w(e),this.W)},h=cf.prototype,h.e=function(){return wa(this.ya)},h.bb=function(e,t,n){var i=e.source.Ib;if(null!==i)return i=w(this.ya,i),J(null!=i,"SyncTree gave us an op for an invalid query."),i.bb(e,t,n);var s=[];return r(this.ya,function(r){s=s.concat(r.bb(e,t,n))}),s},h.Ob=function(e,t,r,n,i){var s=e.wa(),o=w(this.ya,s);if(!o){var o=r.ua(i?n:null),a=!1;o?a=!0:(o=n instanceof T?r.xc(n):C,a=!1),o=new te(e,new Id(new sb(o,a,!1),new sb(n,i,!1))),this.ya[s]=o}return o.Ob(t),we(o,t)},h.kb=function(e,t,n){var i=e.wa(),s=[],o=[],a=null!=df(this);if("default"===i){var u=this;r(this.ya,function(e,r){o=o.concat(e.kb(t,n)),e.e()&&(delete u.ya[r],de(e.V.n)||s.push(e.V))})}else{var c=w(this.ya,i);c&&(o=o.concat(c.kb(t,n)),c.e()&&(delete this.ya[i],de(c.V.n)||s.push(c.V)))}return a&&null==df(this)&&s.push(new U(e.k,e.path)),{Hg:s,jg:o}},h.hb=function(e){var t=null;return r(this.ya,function(r){t=t||r.hb(e)}),t},gf.prototype.Ob=function(e,t){var r=e.path,n=null,i=!1;Me(this.sa,r,function(e,t){var s=N(e,r);return n=t.hb(s),i=i||null!=df(t),!n});var s=this.sa.get(r);s?(i=i||null!=df(s),n=n||s.hb(F)):(s=new cf,this.sa=this.sa.set(r,s));var o;null!=n?o=!0:(o=!1,n=C,Pe(this.sa.subtree(r),function(e,t){var r=t.hb(F);r&&(n=n.Q(e,r))}));var a=null!=ff(s,e);if(!a&&!de(e.n)){var u=sf(e);J(!(u in this.kc),"View does not exist, but we have a tag");var c=tf++;this.kc[u]=c,this.$e["_"+c]=u}return o=s.Ob(e,t,new bf(r,this.Hb),n,o),a||i||(s=ff(s,e),o=o.concat(uf(this,e,s))),o},gf.prototype.kb=function(e,t,r){var n=e.path,i=this.sa.get(n),s=[];if(i&&("default"===e.wa()||null!=ff(i,e))){s=i.kb(e,t,r),i.e()&&(this.sa=this.sa.remove(n)),i=s.Hg,s=s.jg,t=-1!==Ua(i,function(e){return de(e.n)});var o=Ke(this.sa,n,function(e,t){return null!=df(t)});if(t&&!o&&(n=this.sa.subtree(n),!n.e()))for(var n=vf(n),a=0;a<n.length;++a){var u=n[a],c=u.V,u=wf(this,u);this.Mc.Xe(c,xf(this,c),u.ud,u.J)}if(!o&&0<i.length&&!r)if(t)this.Mc.Zd(e,null);else{var p=this;Oa(i,function(e){e.wa();var t=p.kc[sf(e)];p.Mc.Zd(e,t)})}yf(this,i)}return s},gf.prototype.ua=function(e,t){var r=this.Hb,n=Ke(this.sa,e,function(t,r){var n=N(t,e);return(n=r.hb(n))?n:void 0});return r.ua(e,n,t,!0)};var tf=1;h=Cf.prototype,h.Ba=function(){return this.B.value},h.clear=function(){this.B.value=null,this.B.children={},this.B.kd=0,Ff(this)},h.td=function(){return 0<this.B.kd},h.e=function(){return null===this.Ba()&&!this.td()},h.U=function(e){var t=this;r(this.B.children,function(r,n){e(new Cf(n,t,r))})},h.path=function(){return new K(null===this.Yc?this.Dd:this.Yc.path()+"/"+this.Dd)},h.name=function(){return this.Dd},h.parent=function(){return this.Yc},If.prototype.de=function(e,t){for(var r=this.Nc[e]||[],n=0;n<r.length;n++)r[n].yc.apply(r[n].Ma,Array.prototype.slice.call(arguments,1))},If.prototype.Eb=function(e,t,r){Jf(this,e),this.Nc[e]=this.Nc[e]||[],this.Nc[e].push({yc:t,Ma:r}),(e=this.ze(e))&&t.apply(r,e)},If.prototype.gc=function(e,t,r){Jf(this,e),e=this.Nc[e]||[];for(var n=0;n<e.length;n++)if(e[n].yc===t&&(!r||r===e[n].Ma)){e.splice(n,1);break}};var Kf=function(){var e=0,t=[];return function(r){var n=r===e;e=r;for(var i=Array(8),s=7;s>=0;s--)i[s]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(r%64),r=Math.floor(r/64);if(J(0===r,"Cannot push at time == 0"),r=i.join(""),n){for(s=11;s>=0&&63===t[s];s--)t[s]=0;t[s]++}else for(s=0;12>s;s++)t[s]=Math.floor(64*Math.random());for(s=0;12>s;s++)r+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(t[s]);return J(20===r.length,"nextPushId: Length should be 20."),r}}();ma(Lf,If),Lf.prototype.ze=function(e){return J("online"===e,"Unknown event type: "+e),[this.ic]},ca(Lf),ma(Mf,If),Mf.prototype.ze=function(e){return J("visible"===e,"Unknown event type: "+e),[this.uc]},ca(Mf);var Nf=/[\[\].#$\/\u0000-\u001F\u007F]/,Of=/[\[\].#$\u0000-\u001F\u007F]/;h=cg.prototype,h.add=function(e,t){this.set[e]=null!==t?t:!0},h.contains=function(e){return u(this.set,e)},h.get=function(e){return this.contains(e)?this.set[e]:void 0},h.remove=function(e){delete this.set[e]},h.clear=function(){this.set={}},h.e=function(){return wa(this.set)},h.count=function(){return pa(this.set)},h.keys=function(){var e=[];

return r(this.set,function(t,r){e.push(r)}),e},qc.prototype.find=function(e){if(null!=this.C)return this.C.oa(e);if(e.e()||null==this.m)return null;var t=O(e);return e=G(e),this.m.contains(t)?this.m.get(t).find(e):null},qc.prototype.mc=function(e,t){if(e.e())this.C=t,this.m=null;else if(null!==this.C)this.C=this.C.G(e,t);else{null==this.m&&(this.m=new cg);var r=O(e);this.m.contains(r)||this.m.add(r,new qc),r=this.m.get(r),e=G(e),r.mc(e,t)}},qc.prototype.U=function(e){null!==this.m&&dg(this.m,function(t,r){e(t,r)})};var fg="auth.firebase.com",hg=["remember","redirectTo"];jg.prototype.set=function(e,t){if(!t){if(!this.$d.length)throw Error("fb.login.SessionManager : No storage options available!");t=this.$d[0]}t.set(this.Pe,e)},jg.prototype.get=function(){var e=Qa(this.$d,q(this.ng,this)),e=Pa(e,function(e){return null!==e});return Xa(e,function(e,t){return bd(t.token)-bd(e.token)}),0<e.length?e.shift():null},jg.prototype.ng=function(e){try{var t=e.get(this.Pe);if(t&&t.token)return t}catch(r){}return null},jg.prototype.clear=function(){var e=this;Oa(this.$d,function(t){t.remove(e.Pe)})},ug.prototype.hc=function(e){var t,r=this;try{t=mb(e.data)}catch(n){}t&&"request"===t.a&&(pg(window,"message",this.hc),this.ae=e.origin,this.zc&&setTimeout(function(){r.zc(r.ae,t.d,function(e,t){r.ag=!t,r.zc=void 0,vg(r,{a:"response",d:e,forceKeepWindowOpen:t})})},0))},ug.prototype.yg=function(){try{pg(this.wd,"message",this.Af)}catch(e){}this.zc&&(vg(this,{a:"error",d:"unknown closed window"}),this.zc=void 0);try{window.close()}catch(t){}},ug.prototype.Af=function(e){if(this.ag&&"die"===e.data)try{window.close()}catch(t){}},wg.prototype.open=function(e,t){P.set("redirect_request_id",this.oc),P.set("redirect_request_id",this.oc),t.requestId=this.oc,t.redirectTo=t.redirectTo||window.location.href,e+=(/\?/.test(e)?"":"?")+jb(t),window.location=e},wg.isAvailable=function(){return!lg()&&!kg()},wg.prototype.Bc=function(){return"redirect"};var xg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};zg.prototype.open=function(e,t,r){function n(e){if(s&&(document.body.removeChild(s),s=void 0),p&&(p=clearInterval(p)),pg(window,"message",i),pg(window,"unload",n),c&&!e)try{c.close()}catch(t){o.postMessage("die",u)}c=o=void 0}function i(e){if(e.origin===u)try{var t=mb(e.data);"ready"===t.a?o.postMessage(l,u):"error"===t.a?(n(!1),r&&(r(t.d),r=null)):"response"===t.a&&(n(t.forceKeepWindowOpen),r&&(r(null,t.d),r=null))}catch(i){}}var s,o,a=mg();if(!this.options.relay_url)return r(Error("invalid arguments: origin of url and relay_url must match"));var u=qg(e);if(u!==qg(this.options.relay_url))r&&setTimeout(function(){r(Error("invalid arguments: origin of url and relay_url must match"))},0);else{a&&(s=document.createElement("iframe"),s.setAttribute("src",this.options.relay_url),s.style.display="none",s.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(s),o=s.contentWindow),e+=(/\?/.test(e)?"":"?")+jb(t);var c=window.open(e,this.options.window_name,this.options.window_features);o||(o=c);var p=setInterval(function(){c&&c.closed&&(n(!1),r&&(r(yg("USER_CANCELLED")),r=null))},500),l=B({a:"request",d:t});og(window,"unload",n),og(window,"message",i)}},zg.isAvailable=function(){return"postMessage"in window&&!lg()&&!(kg()||"undefined"!=typeof navigator&&(navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href))||"undefined"!=typeof navigator&&"undefined"!=typeof window&&(navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\/FBIOS/)||window.navigator.standalone))&&!("undefined"!=typeof navigator&&navigator.userAgent.match(/PhantomJS/))},zg.prototype.Bc=function(){return"popup"},Ag.prototype.open=function(e,t,r){function n(){r&&(r(yg("REQUEST_INTERRUPTED")),r=null)}var i,s=new XMLHttpRequest,o=this.options.method.toUpperCase();if(og(window,"beforeunload",n),s.onreadystatechange=function(){if(r&&4===s.readyState){var e;if(200<=s.status&&300>s.status){try{e=mb(s.responseText)}catch(t){}r(null,e)}else r(500<=s.status&&600>s.status?yg("SERVER_ERROR"):yg("NETWORK_ERROR"));r=null,pg(window,"beforeunload",n)}},"GET"===o)e+=(/\?/.test(e)?"":"?")+jb(t),i=null;else{var a=this.options.headers.content_type;"application/json"===a&&(i=B(t)),"application/x-www-form-urlencoded"===a&&(i=jb(t))}s.open(o,e,!0),e={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},za(e,this.options.headers);for(var u in e)s.setRequestHeader(u,e[u]);s.send(i)},Ag.isAvailable=function(){return!(!window.XMLHttpRequest||"string"!=typeof(new XMLHttpRequest).responseType||"undefined"!=typeof navigator&&(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/))&&!mg())},Ag.prototype.Bc=function(){return"json"},Bg.prototype.open=function(e,t,r){function n(){r&&(r(yg("USER_CANCELLED")),r=null)}var i,s=this,o=Rc(fg);t.requestId=this.oc,t.redirectTo=o.scheme+"://"+o.host+"/blank/page.html",e+=/\?/.test(e)?"":"?",e+=jb(t),(i=window.open(e,"_blank","location=no"))&&ha(i.addEventListener)?(i.addEventListener("loadstart",function(e){var t;if(t=e&&e.url)e:{try{var a=document.createElement("a");a.href=e.url,t=a.host===o.host&&"/blank/page.html"===a.pathname;break e}catch(u){}t=!1}t&&(e=rg(e.url),i.removeEventListener("exit",n),i.close(),e=new gg(null,null,{requestId:s.oc,requestKey:e}),s.Df.requestWithCredential("/auth/session",e,r),r=null)}),i.addEventListener("exit",n)):r(yg("TRANSPORT_UNAVAILABLE"))},Bg.isAvailable=function(){return kg()},Bg.prototype.Bc=function(){return"redirect"},Cg.prototype.open=function(e,t,r){function n(){r&&(r(yg("REQUEST_INTERRUPTED")),r=null)}function i(){setTimeout(function(){window.__firebase_auth_jsonp[s]=void 0,wa(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var e=document.getElementById(s);e&&e.parentNode.removeChild(e)}catch(t){}},1),pg(window,"beforeunload",n)}var s="fn"+(new Date).getTime()+Math.floor(99999*Math.random());t[this.options.callback_parameter]="__firebase_auth_jsonp."+s,e+=(/\?/.test(e)?"":"?")+jb(t),og(window,"beforeunload",n),window.__firebase_auth_jsonp[s]=function(e){r&&(r(null,e),r=null),i()},Dg(s,e,r)},Cg.isAvailable=function(){return!0},Cg.prototype.Bc=function(){return"json"},ma(Eg,If),h=Eg.prototype,h.we=function(){return this.nb||null},h.re=function(e,t){Ng(this);var r=ig(e);r.ab._method="POST",this.pc("/users",r,function(e,r){e?R(t,e):R(t,e,r)})},h.Se=function(e,t){var r=this;Ng(this);var n="/users/"+encodeURIComponent(e.email),i=ig(e);i.ab._method="DELETE",this.pc(n,i,function(e,n){!e&&n&&n.uid&&r.nb&&r.nb.uid&&r.nb.uid===n.uid&&Lg(r),R(t,e)})},h.oe=function(e,t){Ng(this);var r="/users/"+encodeURIComponent(e.email)+"/password",n=ig(e);n.ab._method="PUT",n.ab.password=e.newPassword,this.pc(r,n,function(e){R(t,e)})},h.ne=function(e,t){Ng(this);var r="/users/"+encodeURIComponent(e.oldEmail)+"/email",n=ig(e);n.ab._method="PUT",n.ab.email=e.newEmail,n.ab.password=e.password,this.pc(r,n,function(e){R(t,e)})},h.Ue=function(e,t){Ng(this);var r="/users/"+encodeURIComponent(e.email)+"/password",n=ig(e);n.ab._method="POST",this.pc(r,n,function(e){R(t,e)})},h.pc=function(e,t,r){Qg(this,[Ag,Cg],e,t,r)},h.ze=function(e){return J("auth_status"===e,'initial event must be of type "auth_status"'),this.Re?null:[this.nb]};var Vg,Wg;Ug.prototype.open=function(e,t){this.gf=0,this.ka=t,this.zf=new Rg(e),this.zb=!1;var r=this;this.rb=setTimeout(function(){r.f("Timed out trying to connect."),r.ib(),r.rb=null},Math.floor(3e4)),Tc(function(){if(!r.zb){r.Ta=new Xg(function(e,t,n,i,s){if(Yg(r,arguments),r.Ta)if(r.rb&&(clearTimeout(r.rb),r.rb=null),r.Gc=!0,"start"==e)r.id=t,r.Ff=n;else{if("close"!==e)throw Error("Unrecognized command received: "+e);t?(r.Ta.Td=!1,Sg(r.zf,t,function(){r.ib()})):r.ib()}},function(e,t){Yg(r,arguments),Tg(r.zf,e,t)},function(){r.ib()},r.gd);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),r.Ta.fe&&(e.cb=r.Ta.fe),e.v="5",r.Vd&&(e.s=r.Vd),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),e=r.gd(e),r.f("Connecting via long-poll to "+e),Zg(r.Ta,e,function(){})}})},Ug.prototype.start=function(){var e=this.Ta,t=this.Ff;for(e.rg=this.id,e.sg=t,e.ke=!0;$g(e););e=this.id,t=this.Ff,this.fc=document.createElement("iframe");var r={dframe:"t"};r.id=e,r.pw=t,this.fc.src=this.gd(r),this.fc.style.display="none",document.body.appendChild(this.fc)},Ug.isAvailable=function(){return!(Wg||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.Ug)},h=Ug.prototype,h.Bd=function(){},h.cd=function(){this.zb=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.fc&&(document.body.removeChild(this.fc),this.fc=null),this.rb&&(clearTimeout(this.rb),this.rb=null)},h.ib=function(){this.zb||(this.f("Longpoll is closing itself"),this.cd(),this.ka&&(this.ka(this.Gc),this.ka=null))},h.close=function(){this.zb||(this.f("Longpoll is being closed."),this.cd())},h.send=function(e){e=B(e),this.pb+=e.length,Lb(this.Va,"bytes_sent",e.length),e=Kc(e),e=fb(e,!0),e=Xc(e,1840);for(var t=0;t<e.length;t++){var r=this.Ta;r.$c.push({Jg:this.gf,Rg:e.length,jf:e[t]}),r.ke&&$g(r),this.gf++}},Xg.prototype.close=function(){if(this.ke=!1,this.Ca){this.Ca.gb.body.innerHTML="";var e=this;setTimeout(function(){null!==e.Ca&&(document.body.removeChild(e.Ca),e.Ca=null)},Math.floor(0))}var t=this.jb;t&&(this.jb=null,t())};var bh=null;"undefined"!=typeof MozWebSocket?bh=MozWebSocket:"undefined"!=typeof WebSocket&&(bh=WebSocket);var dh;ch.prototype.open=function(e,t){this.jb=t,this.wg=e,this.f("Websocket connecting to "+this.fb),this.Gc=!1,Dc.set("previous_websocket_failure",!0);try{this.va=new bh(this.fb)}catch(r){this.f("Error instantiating WebSocket.");var n=r.message||r.data;return n&&this.f(n),void this.ib()}var i=this;this.va.onopen=function(){i.f("Websocket connected."),i.Gc=!0},this.va.onclose=function(){i.f("Websocket connection was disconnected."),i.va=null,i.ib()},this.va.onmessage=function(e){if(null!==i.va)if(e=e.data,i.ob+=e.length,Lb(i.Va,"bytes_received",e.length),eh(i),null!==i.frames)fh(i,e);else{e:{if(J(null===i.frames,"We already have a frame buffer"),6>=e.length){var t=Number(e);if(!isNaN(t)){i.bf=t,i.frames=[],e=null;break e}}i.bf=1,i.frames=[]}null!==e&&fh(i,e)}},this.va.onerror=function(e){i.f("WebSocket error.  Closing connection."),(e=e.message||e.data)&&i.f(e),i.ib()}},ch.prototype.start=function(){},ch.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&1<t.length&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==bh&&!dh},ch.responsesRequiredToBeHealthy=2,ch.healthyTimeout=3e4,h=ch.prototype,h.Bd=function(){Dc.remove("previous_websocket_failure")},h.send=function(e){eh(this),e=B(e),this.pb+=e.length,Lb(this.Va,"bytes_sent",e.length),e=Xc(e,16384),1<e.length&&this.va.send(String(e.length));for(var t=0;t<e.length;t++)this.va.send(e[t])},h.cd=function(){this.zb=!0,this.Jc&&(clearInterval(this.Jc),this.Jc=null),this.va&&(this.va.close(),this.va=null)},h.ib=function(){this.zb||(this.f("WebSocket is closing itself"),this.cd(),this.jb&&(this.jb(this.Gc),this.jb=null))},h.close=function(){this.zb||(this.f("WebSocket is being closed"),this.cd())};var ih=[Ug,ch];kh.prototype.Da=function(e){vh(this,{t:"d",d:e})},kh.prototype.Fd=function(e){sh(this),this.hc(e)},kh.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,rh(this),this.ka&&(this.ka(),this.ka=null))};var xh=0,zh=0;h=wh.prototype,h.Da=function(e,t,r){var n=++this.Ig;e={r:n,a:e,b:t},this.f(B(e)),J(this.ma,"sendRequest call when we're not connected not allowed."),this.Sa.Da(e),r&&(this.Qd[n]=r)},h.xf=function(e,t,r,n){var i=e.wa(),s=e.path.toString();this.f("Listen called for "+s+" "+i),this.aa[s]=this.aa[s]||{},J(!this.aa[s][i],"listen() called twice for same path/queryId."),e={J:n,ud:t,Fg:e,tag:r},this.aa[s][i]=e,this.ma&&Ah(this,e)},h.P=function(e,t,r){this.Fa={fg:e,nf:!1,yc:t,jd:r},this.f("Authenticating using credential: "+e),Ch(this),(t=40==e.length)||(e=ad(e).Ac,t="object"==typeof e&&!0===w(e,"admin")),t&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Cd=3e4)},h.ee=function(e){delete this.Fa,this.ma&&this.Da("unauth",{},function(t){e(t.s,t.d)})},h.Of=function(e,t){var r=e.path.toString(),n=e.wa();if(this.f("Unlisten called for "+r+" "+n),Bh(this,r,n)&&this.ma){var i=ce(e.n);this.f("Unlisten on "+r+" for "+n),r={p:r},t&&(r.q=i,r.t=t),this.Da("n",r)}},h.Le=function(e,t,r){this.ma?Dh(this,"o",e,t,r):this.Uc.push({Zc:e,action:"o",data:t,J:r})},h.Bf=function(e,t,r){this.ma?Dh(this,"om",e,t,r):this.Uc.push({Zc:e,action:"om",data:t,J:r})},h.Gd=function(e,t){this.ma?Dh(this,"oc",e,null,t):this.Uc.push({Zc:e,action:"oc",data:null,J:t})},h.put=function(e,t,r,n){Eh(this,"p",e,t,r,n)},h.yf=function(e,t,r,n){Eh(this,"m",e,t,r,n)},h.Te=function(e){this.ma&&(e={c:e},this.f("reportStats",e),this.Da("s",e,function(e){"ok"!==e.s&&this.f("reportStats","Error sending stats: "+e.d)}))},h.Fd=function(e){if("r"in e){this.f("from server: "+B(e));var t=e.r,r=this.Qd[t];r&&(delete this.Qd[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&(t=e.a,r=e.b,this.f("handleServerMessage",t,r),"d"===t?this.Gb(r.p,r.d,!1,r.t):"m"===t?this.Gb(r.p,r.d,!0,r.t):"c"===t?Gh(this,r.p,r.q):"ac"===t?(e=r.s,t=r.d,r=this.Fa,delete this.Fa,r&&r.jd&&r.jd(e,t)):"sd"===t?this.We?this.We(r):"msg"in r&&"undefined"!=typeof console&&console.log("FIREBASE: "+r.msg.replace("\n","\nFIREBASE: ")):Pc("Unrecognized action received from server: "+B(t)+"\nAre you using the latest client?"))}},h.Vc=function(e){this.f("connection ready"),this.ma=!0,this.Kc=(new Date).getTime(),this.Ne({serverTimeOffset:e-(new Date).getTime()}),this.mf&&(e={},e["sdk.js."+"2.2.4".replace(/\./g,"-")]=1,kg()&&(e["framework.cordova"]=1),this.Te(e)),Hh(this),this.mf=!1,this.Tc(!0)},h.zg=function(e){e&&!this.uc&&this.$a===this.Cd&&(this.f("Window became visible.  Reducing delay."),this.$a=1e3,this.Sa||yh(this,0)),this.uc=e},h.xg=function(e){e?(this.f("Browser went online."),this.$a=1e3,this.Sa||yh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Sa&&this.Sa.close())},h.Cf=function(){this.f("data client disconnected"),this.ma=!1,this.Sa=null;for(var e=0;e<this.pa.length;e++){var t=this.pa[e];t&&"h"in t.If&&t.Gg&&(t.J&&t.J("disconnect"),delete this.pa[e],this.Xc--)}0===this.Xc&&(this.pa=[]),this.Qd={},Jh(this)&&(this.uc?this.Kc&&(3e4<(new Date).getTime()-this.Kc&&(this.$a=1e3),this.Kc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.$a=this.Cd,this.Fe=(new Date).getTime()),e=Math.max(0,this.$a-((new Date).getTime()-this.Fe)),e*=Math.random(),this.f("Trying to reconnect in "+e+"ms"),yh(this,e),this.$a=Math.min(this.Cd,1.3*this.$a)),this.Tc(!1)},h.yb=function(){this.De=!0,this.Sa?this.Sa.close():(this.Sb&&(clearTimeout(this.Sb),this.Sb=null),this.ma&&this.Cf())},h.qc=function(){this.De=!1,this.$a=1e3,this.Sa||yh(this,0)};var V={lg:function(){Vg=dh=!0}};V.forceLongPolling=V.lg,V.mg=function(){Wg=!0},V.forceWebSockets=V.mg,V.Mg=function(e,t){e.k.Ra.We=t},V.setSecurityDebugCallback=V.Mg,V.Ye=function(e,t){e.k.Ye(t)},V.stats=V.Ye,V.Ze=function(e,t){e.k.Ze(t)},V.statsIncrementCounter=V.Ze,V.pd=function(e){return e.k.pd},V.dataUpdateCount=V.pd,V.pg=function(e,t){e.k.Ce=t},V.interceptServerData=V.pg,V.vg=function(e){new ug(e)},V.onPopupOpen=V.vg,V.Kg=function(e){fg=e},V.setAuthenticationServer=V.Kg,S.prototype.K=function(){return x("Firebase.DataSnapshot.val",0,0,arguments.length),this.B.K()},S.prototype.val=S.prototype.K,S.prototype.lf=function(){return x("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.B.K(!0)},S.prototype.exportVal=S.prototype.lf,S.prototype.kg=function(){return x("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.B.e()},S.prototype.exists=S.prototype.kg,S.prototype.w=function(e){x("Firebase.DataSnapshot.child",0,1,arguments.length),ga(e)&&(e=String(e)),Xf("Firebase.DataSnapshot.child",e);var t=new K(e),r=this.V.w(t);return new S(this.B.oa(t),r,M)},S.prototype.child=S.prototype.w,S.prototype.Ha=function(e){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Xf("Firebase.DataSnapshot.hasChild",e);var t=new K(e);return!this.B.oa(t).e()},S.prototype.hasChild=S.prototype.Ha,S.prototype.A=function(){return x("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.B.A().K()},S.prototype.getPriority=S.prototype.A,S.prototype.forEach=function(e){if(x("Firebase.DataSnapshot.forEach",1,1,arguments.length),A("Firebase.DataSnapshot.forEach",1,e,!1),this.B.N())return!1;var t=this;return!!this.B.U(this.g,function(r,n){return e(new S(n,t.V.w(r),M))})},S.prototype.forEach=S.prototype.forEach,S.prototype.td=function(){return x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.B.N()?!1:!this.B.e()},S.prototype.hasChildren=S.prototype.td,S.prototype.name=function(){return Q("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),x("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},S.prototype.name=S.prototype.name,S.prototype.key=function(){return x("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.key()},S.prototype.key=S.prototype.key,S.prototype.Db=function(){return x("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.B.Db()},S.prototype.numChildren=S.prototype.Db,S.prototype.lc=function(){return x("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},S.prototype.ref=S.prototype.lc,h=Kh.prototype,h.toString=function(){return(this.H.lb?"https://":"http://")+this.H.host},h.name=function(){return this.H.Cb},h.Gb=function(e,t,r,n){this.pd++;var i=new K(e);t=this.Ce?this.Ce(e,t):t,e=[],n?r?(t=na(t,function(e){return L(e)}),e=rf(this.O,i,t,n)):(t=L(t),e=nf(this.O,i,t,n)):r?(n=na(t,function(e){return L(e)}),e=mf(this.O,i,n)):(n=L(t),e=jf(this.O,new Ub(ze,i,n))),n=i,0<e.length&&(n=Oh(this,i)),zb(this.ea,n,e)},h.Tc=function(e){Lh(this,"connected",e),!1===e&&Ph(this)},h.Ne=function(e){var t=this;Yc(e,function(e,r){Lh(t,r,e)})},h.Ke=function(e){Lh(this,"authenticated",e)},h.Kb=function(e,t,r,n){this.f("set",{path:e.toString(),value:t,Xg:r});var i=Nh(this);t=L(t,r);var i=sc(t,i),s=this.Ed++,i=hf(this.O,e,i,s,!0);vb(this.ea,i);var o=this;this.ca.put(e.toString(),t.K(!0),function(t,r){var i="ok"===t;i||Q("set at "+e+" failed: "+t),i=lf(o.O,s,!i),zb(o.ea,e,i),Qh(n,t,r)}),i=Rh(this,e),Oh(this,i),zb(this.ea,i,[])},h.update=function(e,t,n){this.f("update",{path:e.toString(),value:t});var i=!0,s=Nh(this),o={};if(r(t,function(e,t){i=!1;var r=L(e);o[t]=sc(r,s)}),i)Bb("update() called with empty data.  Don't do anything."),Qh(n,"ok");else{var a=this.Ed++,u=kf(this.O,e,o,a);vb(this.ea,u);var c=this;this.ca.yf(e.toString(),t,function(t,r){var i="ok"===t;i||Q("update at "+e+" failed: "+t);var i=lf(c.O,a,!i),s=e;0<i.length&&(s=Oh(c,e)),zb(c.ea,s,i),Qh(n,t,r)}),t=Rh(this,e),Oh(this,t),zb(this.ea,e,[])}},h.Gd=function(e,t){var r=this;this.ca.Gd(e.toString(),function(n,i){"ok"===n&&eg(r.ka,e),Qh(t,n,i)})},h.yb=function(){this.Ra&&this.Ra.yb()},h.qc=function(){this.Ra&&this.Ra.qc()},h.Ye=function(e){if("undefined"!=typeof console){e?(this.Yd||(this.Yd=new Ib(this.Va)),e=this.Yd.get()):e=this.Va.get();var t,r=Ra(sa(e),function(e,t){return Math.max(t.length,e)},0);for(t in e){for(var n=e[t],i=t.length;r+2>i;i++)t+=" ";console.log(t+n)}}},h.Ze=function(e){Lb(this.Va,e),this.Pg.Mf[e]=!0},h.f=function(e){var t="";this.Ra&&(t=this.Ra.id+":"),Bb(t,arguments)},ca(W),W.prototype.yb=function(){for(var e in this.nc)this.nc[e].yb()},W.prototype.interrupt=W.prototype.yb,W.prototype.qc=function(){for(var e in this.nc)this.nc[e].qc()},W.prototype.resume=W.prototype.qc,W.prototype.ue=function(){this.Pf=!0},X.prototype.cancel=function(e){x("Firebase.onDisconnect().cancel",0,1,arguments.length),A("Firebase.onDisconnect().cancel",1,e,!0),this.ad.Gd(this.qa,e||null)},X.prototype.cancel=X.prototype.cancel,X.prototype.remove=function(e){x("Firebase.onDisconnect().remove",0,1,arguments.length),Yf("Firebase.onDisconnect().remove",this.qa),A("Firebase.onDisconnect().remove",1,e,!0),Sh(this.ad,this.qa,null,e)},X.prototype.remove=X.prototype.remove,X.prototype.set=function(e,t){x("Firebase.onDisconnect().set",1,2,arguments.length),Yf("Firebase.onDisconnect().set",this.qa),Rf("Firebase.onDisconnect().set",e,this.qa,!1),A("Firebase.onDisconnect().set",2,t,!0),Sh(this.ad,this.qa,e,t)},X.prototype.set=X.prototype.set,X.prototype.Kb=function(e,t,r){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),Yf("Firebase.onDisconnect().setWithPriority",this.qa),Rf("Firebase.onDisconnect().setWithPriority",e,this.qa,!1),Uf("Firebase.onDisconnect().setWithPriority",2,t),A("Firebase.onDisconnect().setWithPriority",3,r,!0),Th(this.ad,this.qa,e,t,r)},X.prototype.setWithPriority=X.prototype.Kb,X.prototype.update=function(e,t){if(x("Firebase.onDisconnect().update",1,2,arguments.length),Yf("Firebase.onDisconnect().update",this.qa),ea(e)){for(var r={},n=0;n<e.length;++n)r[""+n]=e[n];e=r,Q("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tf("Firebase.onDisconnect().update",e,this.qa),A("Firebase.onDisconnect().update",2,t,!0),Uh(this.ad,this.qa,e,t)},X.prototype.update=X.prototype.update,Y.prototype.lc=function(){return x("Query.ref",0,0,arguments.length),new U(this.k,this.path)},Y.prototype.ref=Y.prototype.lc,Y.prototype.Eb=function(e,t,r,n){x("Query.on",2,4,arguments.length),Vf("Query.on",e,!1),A("Query.on",2,t,!1);var i=hi("Query.on",r,n);if("value"===e)Vh(this.k,this,new jd(t,i.cancel||null,i.Ma||null));else{var s={};s[e]=t,Vh(this.k,this,new kd(s,i.cancel,i.Ma))}return t},Y.prototype.on=Y.prototype.Eb,Y.prototype.gc=function(e,t,r){x("Query.off",0,3,arguments.length),Vf("Query.off",e,!0),A("Query.off",2,t,!0),lb("Query.off",3,r);var n=null,i=null;"value"===e?n=new jd(t||null,null,r||null):e&&(t&&(i={},i[e]=t),n=new kd(i,null,r||null)),i=this.k,n=".info"===O(this.path)?i.zd.kb(this,n):i.O.kb(this,n),xb(i.ea,this.path,n)},Y.prototype.off=Y.prototype.gc,Y.prototype.Ag=function(e,t){function r(o){s&&(s=!1,i.gc(e,r),t.call(n.Ma,o))}x("Query.once",2,4,arguments.length),Vf("Query.once",e,!1),A("Query.once",2,t,!1);var n=hi("Query.once",arguments[2],arguments[3]),i=this,s=!0;this.Eb(e,r,function(t){i.gc(e,r),n.cancel&&n.cancel.call(n.Ma,t)})},Y.prototype.once=Y.prototype.Ag,Y.prototype.Ge=function(e){if(Q("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),x("Query.limit",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.ia)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var t=this.n.Ge(e);return fi(t),new Y(this.k,this.path,t,this.jc)},Y.prototype.limit=Y.prototype.Ge,Y.prototype.He=function(e){if(x("Query.limitToFirst",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.ia)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.He(e),this.jc)},Y.prototype.limitToFirst=Y.prototype.He,Y.prototype.Ie=function(e){if(x("Query.limitToLast",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.ia)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ie(e),this.jc)},Y.prototype.limitToLast=Y.prototype.Ie,Y.prototype.Bg=function(e){if(x("Query.orderByChild",1,1,arguments.length),"$key"===e)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Wf("Query.orderByChild",1,e,!1),gi(this,"Query.orderByChild");var t=be(this.n,new Rd(e));return ei(t),new Y(this.k,this.path,t,!0)},Y.prototype.orderByChild=Y.prototype.Bg,Y.prototype.Cg=function(){x("Query.orderByKey",0,0,arguments.length),gi(this,"Query.orderByKey");var e=be(this.n,Vd);return ei(e),new Y(this.k,this.path,e,!0)},Y.prototype.orderByKey=Y.prototype.Cg,Y.prototype.Dg=function(){x("Query.orderByPriority",0,0,arguments.length),gi(this,"Query.orderByPriority");var e=be(this.n,M);return ei(e),new Y(this.k,this.path,e,!0)},Y.prototype.orderByPriority=Y.prototype.Dg,Y.prototype.Eg=function(){x("Query.orderByValue",0,0,arguments.length),gi(this,"Query.orderByValue");var e=be(this.n,Yd);return ei(e),new Y(this.k,this.path,e,!0)},Y.prototype.orderByValue=Y.prototype.Eg,Y.prototype.Xd=function(e,t){x("Query.startAt",0,2,arguments.length),Rf("Query.startAt",e,this.path,!0),Wf("Query.startAt",2,t,!0);var r=this.n.Xd(e,t);if(fi(r),ei(r),this.n.la)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(e)||(t=e=null),new Y(this.k,this.path,r,this.jc)},Y.prototype.startAt=Y.prototype.Xd,Y.prototype.qd=function(e,t){x("Query.endAt",0,2,arguments.length),Rf("Query.endAt",e,this.path,!0),Wf("Query.endAt",2,t,!0);var r=this.n.qd(e,t);if(fi(r),ei(r),this.n.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,r,this.jc)},Y.prototype.endAt=Y.prototype.qd,Y.prototype.hg=function(e,t){if(x("Query.equalTo",1,2,arguments.length),Rf("Query.equalTo",e,this.path,!1),Wf("Query.equalTo",2,t,!0),this.n.la)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Xd(e,t).qd(e,t)},Y.prototype.equalTo=Y.prototype.hg,Y.prototype.toString=function(){x("Query.toString",0,0,arguments.length);for(var e=this.path,t="",r=e.Y;r<e.o.length;r++)""!==e.o[r]&&(t+="/"+encodeURIComponent(String(e.o[r])));return e=this.k.toString()+(t||"/"),t=jb(ee(this.n)),e+=t.replace(/^&/,"")},Y.prototype.toString=Y.prototype.toString,Y.prototype.wa=function(){var e=Wc(ce(this.n));return"{}"===e?"default":e};var Z={};Z.vc=wh,Z.DataConnection=Z.vc,wh.prototype.Og=function(e,t){this.Da("q",{p:e},t)},Z.vc.prototype.simpleListen=Z.vc.prototype.Og,wh.prototype.gg=function(e,t){this.Da("echo",{d:e},t)},Z.vc.prototype.echo=Z.vc.prototype.gg,wh.prototype.interrupt=wh.prototype.yb,Z.Sf=kh,Z.RealTimeConnection=Z.Sf,kh.prototype.sendRequest=kh.prototype.Da,kh.prototype.close=kh.prototype.close,Z.og=function(e){var t=wh.prototype.put;return wh.prototype.put=function(r,i,s,o){n(o)&&(o=e()),t.call(this,r,i,s,o)},function(){wh.prototype.put=t}},Z.hijackHash=Z.og,Z.Rf=Ec,Z.ConnectionTarget=Z.Rf,Z.wa=function(e){return e.wa()},Z.queryIdentifier=Z.wa,Z.qg=function(e){return e.k.Ra.aa},Z.listens=Z.qg,Z.ue=function(e){e.ue()},Z.forceRestClient=Z.ue,ma(U,Y);var ii=U,ji=["Firebase"],ki=aa;ji[0]in ki||!ki.execScript||ki.execScript("var "+ji[0]);for(var li;ji.length&&(li=ji.shift());)!ji.length&&n(ii)?ki[li]=ii:ki=ki[li]?ki[li]:ki[li]={};U.prototype.name=function(){return Q("Firebase.name() being deprecated. Please use Firebase.key() instead."),x("Firebase.name",0,0,arguments.length),this.key()},U.prototype.name=U.prototype.name,U.prototype.key=function(){return x("Firebase.key",0,0,arguments.length),this.path.e()?null:vc(this.path)},U.prototype.key=U.prototype.key,U.prototype.w=function(e){if(x("Firebase.child",1,1,arguments.length),ga(e))e=String(e);else if(!(e instanceof K))if(null===O(this.path)){var t=e;t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Xf("Firebase.child",t)}else Xf("Firebase.child",e);return new U(this.k,this.path.w(e))},U.prototype.child=U.prototype.w,U.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new U(this.k,e)},U.prototype.parent=U.prototype.parent,U.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var e=this;null!==e.parent();)e=e.parent();return e},U.prototype.root=U.prototype.root,U.prototype.set=function(e,t){x("Firebase.set",1,2,arguments.length),Yf("Firebase.set",this.path),Rf("Firebase.set",e,this.path,!1),A("Firebase.set",2,t,!0),this.k.Kb(this.path,e,null,t||null)},U.prototype.set=U.prototype.set,U.prototype.update=function(e,t){if(x("Firebase.update",1,2,arguments.length),Yf("Firebase.update",this.path),ea(e)){for(var r={},n=0;n<e.length;++n)r[""+n]=e[n];e=r,Q("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tf("Firebase.update",e,this.path),A("Firebase.update",2,t,!0),this.k.update(this.path,e,t||null)},U.prototype.update=U.prototype.update,U.prototype.Kb=function(e,t,r){if(x("Firebase.setWithPriority",2,3,arguments.length),Yf("Firebase.setWithPriority",this.path),Rf("Firebase.setWithPriority",e,this.path,!1),Uf("Firebase.setWithPriority",2,t),A("Firebase.setWithPriority",3,r,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Kb(this.path,e,t,r||null)},U.prototype.setWithPriority=U.prototype.Kb,U.prototype.remove=function(e){x("Firebase.remove",0,1,arguments.length),Yf("Firebase.remove",this.path),A("Firebase.remove",1,e,!0),this.set(null,e)},U.prototype.remove=U.prototype.remove,U.prototype.transaction=function(e,t,r){if(x("Firebase.transaction",1,3,arguments.length),Yf("Firebase.transaction",this.path),A("Firebase.transaction",1,e,!1),A("Firebase.transaction",2,t,!0),n(r)&&"boolean"!=typeof r)throw Error(z("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof r&&(r=!0),Wh(this.k,this.path,e,t||null,r)},U.prototype.transaction=U.prototype.transaction,U.prototype.Lg=function(e,t){x("Firebase.setPriority",1,2,arguments.length),Yf("Firebase.setPriority",this.path),Uf("Firebase.setPriority",1,e),A("Firebase.setPriority",2,t,!0),this.k.Kb(this.path.w(".priority"),e,null,t)},U.prototype.setPriority=U.prototype.Lg,U.prototype.push=function(e,t){x("Firebase.push",0,2,arguments.length),Yf("Firebase.push",this.path),Rf("Firebase.push",e,this.path,!0),A("Firebase.push",2,t,!0);var r=Mh(this.k),r=Kf(r),r=this.w(r);return"undefined"!=typeof e&&null!==e&&r.set(e,t),r},U.prototype.push=U.prototype.push,U.prototype.jb=function(){return Yf("Firebase.onDisconnect",this.path),new X(this.k,this.path)},U.prototype.onDisconnect=U.prototype.jb,U.prototype.P=function(e,t,r){Q("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),x("Firebase.auth",1,3,arguments.length),Zf("Firebase.auth",e),A("Firebase.auth",2,t,!0),A("Firebase.auth",3,t,!0),Kg(this.k.P,e,{},{remember:"none"},t,r)},U.prototype.auth=U.prototype.P,U.prototype.ee=function(e){x("Firebase.unauth",0,1,arguments.length),A("Firebase.unauth",1,e,!0),Lg(this.k.P,e)},U.prototype.unauth=U.prototype.ee,U.prototype.we=function(){return x("Firebase.getAuth",0,0,arguments.length),this.k.P.we()},U.prototype.getAuth=U.prototype.we,U.prototype.ug=function(e,t){
x("Firebase.onAuth",1,2,arguments.length),A("Firebase.onAuth",1,e,!1),lb("Firebase.onAuth",2,t),this.k.P.Eb("auth_status",e,t)},U.prototype.onAuth=U.prototype.ug,U.prototype.tg=function(e,t){x("Firebase.offAuth",1,2,arguments.length),A("Firebase.offAuth",1,e,!1),lb("Firebase.offAuth",2,t),this.k.P.gc("auth_status",e,t)},U.prototype.offAuth=U.prototype.tg,U.prototype.Wf=function(e,t,r){x("Firebase.authWithCustomToken",2,3,arguments.length),Zf("Firebase.authWithCustomToken",e),A("Firebase.authWithCustomToken",2,t,!1),ag("Firebase.authWithCustomToken",3,r,!0),Kg(this.k.P,e,{},r||{},t)},U.prototype.authWithCustomToken=U.prototype.Wf,U.prototype.Xf=function(e,t,r){x("Firebase.authWithOAuthPopup",2,3,arguments.length),$f("Firebase.authWithOAuthPopup",1,e),A("Firebase.authWithOAuthPopup",2,t,!1),ag("Firebase.authWithOAuthPopup",3,r,!0),Pg(this.k.P,e,r,t)},U.prototype.authWithOAuthPopup=U.prototype.Xf,U.prototype.Yf=function(e,t,r){x("Firebase.authWithOAuthRedirect",2,3,arguments.length),$f("Firebase.authWithOAuthRedirect",1,e),A("Firebase.authWithOAuthRedirect",2,t,!1),ag("Firebase.authWithOAuthRedirect",3,r,!0);var n=this.k.P;Ng(n);var i=[wg],s=ig(r);"anonymous"===e||"firebase"===e?R(t,yg("TRANSPORT_UNAVAILABLE")):(P.set("redirect_client_options",s.ld),Og(n,i,"/auth/"+e,s,t))},U.prototype.authWithOAuthRedirect=U.prototype.Yf,U.prototype.Zf=function(e,t,r,n){x("Firebase.authWithOAuthToken",3,4,arguments.length),$f("Firebase.authWithOAuthToken",1,e),A("Firebase.authWithOAuthToken",3,r,!1),ag("Firebase.authWithOAuthToken",4,n,!0),p(t)?($f("Firebase.authWithOAuthToken",2,t),Mg(this.k.P,e+"/token",{access_token:t},n,r)):(ag("Firebase.authWithOAuthToken",2,t,!1),Mg(this.k.P,e+"/token",t,n,r))},U.prototype.authWithOAuthToken=U.prototype.Zf,U.prototype.Vf=function(e,t){x("Firebase.authAnonymously",1,2,arguments.length),A("Firebase.authAnonymously",1,e,!1),ag("Firebase.authAnonymously",2,t,!0),Mg(this.k.P,"anonymous",{},t,e)},U.prototype.authAnonymously=U.prototype.Vf,U.prototype.$f=function(e,t,r){x("Firebase.authWithPassword",2,3,arguments.length),ag("Firebase.authWithPassword",1,e,!1),bg("Firebase.authWithPassword",e,"email"),bg("Firebase.authWithPassword",e,"password"),A("Firebase.authAnonymously",2,t,!1),ag("Firebase.authAnonymously",3,r,!0),Mg(this.k.P,"password",e,r,t)},U.prototype.authWithPassword=U.prototype.$f,U.prototype.re=function(e,t){x("Firebase.createUser",2,2,arguments.length),ag("Firebase.createUser",1,e,!1),bg("Firebase.createUser",e,"email"),bg("Firebase.createUser",e,"password"),A("Firebase.createUser",2,t,!1),this.k.P.re(e,t)},U.prototype.createUser=U.prototype.re,U.prototype.Se=function(e,t){x("Firebase.removeUser",2,2,arguments.length),ag("Firebase.removeUser",1,e,!1),bg("Firebase.removeUser",e,"email"),bg("Firebase.removeUser",e,"password"),A("Firebase.removeUser",2,t,!1),this.k.P.Se(e,t)},U.prototype.removeUser=U.prototype.Se,U.prototype.oe=function(e,t){x("Firebase.changePassword",2,2,arguments.length),ag("Firebase.changePassword",1,e,!1),bg("Firebase.changePassword",e,"email"),bg("Firebase.changePassword",e,"oldPassword"),bg("Firebase.changePassword",e,"newPassword"),A("Firebase.changePassword",2,t,!1),this.k.P.oe(e,t)},U.prototype.changePassword=U.prototype.oe,U.prototype.ne=function(e,t){x("Firebase.changeEmail",2,2,arguments.length),ag("Firebase.changeEmail",1,e,!1),bg("Firebase.changeEmail",e,"oldEmail"),bg("Firebase.changeEmail",e,"newEmail"),bg("Firebase.changeEmail",e,"password"),A("Firebase.changeEmail",2,t,!1),this.k.P.ne(e,t)},U.prototype.changeEmail=U.prototype.ne,U.prototype.Ue=function(e,t){x("Firebase.resetPassword",2,2,arguments.length),ag("Firebase.resetPassword",1,e,!1),bg("Firebase.resetPassword",e,"email"),A("Firebase.resetPassword",2,t,!1),this.k.P.Ue(e,t)},U.prototype.resetPassword=U.prototype.Ue,U.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length),W.ub().yb()},U.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length),W.ub().qc()},U.enableLogging=Nc,U.ServerValue={TIMESTAMP:{".sv":"timestamp"}},U.SDK_VERSION="2.2.4",U.INTERNAL=V,U.Context=W,U.TEST_ACCESS=Z}(),module.exports=Firebase},function(e,t,r){function n(e){return r(i(e))}function i(e){return s[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var s={"./af":105,"./af.js":105,"./ar":109,"./ar-ma":106,"./ar-ma.js":106,"./ar-sa":107,"./ar-sa.js":107,"./ar-tn":108,"./ar-tn.js":108,"./ar.js":109,"./az":110,"./az.js":110,"./be":111,"./be.js":111,"./bg":112,"./bg.js":112,"./bn":113,"./bn.js":113,"./bo":114,"./bo.js":114,"./br":115,"./br.js":115,"./bs":116,"./bs.js":116,"./ca":117,"./ca.js":117,"./cs":118,"./cs.js":118,"./cv":119,"./cv.js":119,"./cy":120,"./cy.js":120,"./da":121,"./da.js":121,"./de":123,"./de-at":122,"./de-at.js":122,"./de.js":123,"./el":124,"./el.js":124,"./en-au":125,"./en-au.js":125,"./en-ca":126,"./en-ca.js":126,"./en-gb":127,"./en-gb.js":127,"./eo":128,"./eo.js":128,"./es":129,"./es.js":129,"./et":130,"./et.js":130,"./eu":131,"./eu.js":131,"./fa":132,"./fa.js":132,"./fi":133,"./fi.js":133,"./fo":134,"./fo.js":134,"./fr":136,"./fr-ca":135,"./fr-ca.js":135,"./fr.js":136,"./fy":137,"./fy.js":137,"./gl":138,"./gl.js":138,"./he":139,"./he.js":139,"./hi":140,"./hi.js":140,"./hr":141,"./hr.js":141,"./hu":142,"./hu.js":142,"./hy-am":143,"./hy-am.js":143,"./id":144,"./id.js":144,"./is":145,"./is.js":145,"./it":146,"./it.js":146,"./ja":147,"./ja.js":147,"./ka":148,"./ka.js":148,"./km":149,"./km.js":149,"./ko":150,"./ko.js":150,"./lb":151,"./lb.js":151,"./lt":152,"./lt.js":152,"./lv":153,"./lv.js":153,"./mk":154,"./mk.js":154,"./ml":155,"./ml.js":155,"./mr":156,"./mr.js":156,"./ms-my":157,"./ms-my.js":157,"./my":158,"./my.js":158,"./nb":159,"./nb.js":159,"./ne":160,"./ne.js":160,"./nl":161,"./nl.js":161,"./nn":162,"./nn.js":162,"./pl":163,"./pl.js":163,"./pt":165,"./pt-br":164,"./pt-br.js":164,"./pt.js":165,"./ro":166,"./ro.js":166,"./ru":167,"./ru.js":167,"./sk":168,"./sk.js":168,"./sl":169,"./sl.js":169,"./sq":170,"./sq.js":170,"./sr":172,"./sr-cyrl":171,"./sr-cyrl.js":171,"./sr.js":172,"./sv":173,"./sv.js":173,"./ta":174,"./ta.js":174,"./th":175,"./th.js":175,"./tl-ph":176,"./tl-ph.js":176,"./tr":177,"./tr.js":177,"./tzm":179,"./tzm-latn":178,"./tzm-latn.js":178,"./tzm.js":179,"./uk":180,"./uk.js":180,"./uz":181,"./uz.js":181,"./vi":182,"./vi.js":182,"./zh-cn":183,"./zh-cn.js":183,"./zh-tw":184,"./zh-tw.js":184};n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id=299},function(e,t,r){e.exports='<div class="hnItem-loading spinner" *if="!data">\n  <div class="rect1"></div>\n  <div class="rect2"></div>\n  <div class="rect3"></div>\n  <div class="rect4"></div>\n  <div class="rect5"></div>\n</div>\n\n<div class="hnItem-container" *if="data">\n  <div [switch]="data.type">\n    <template [switch-when]="\'comment\'">\n      <div class="hnItem--comment">\n        <header>\n          <span class="u-pointer" (click)="collapsed = !collapsed" *if="!topLevel">\n            [{{collapsed ? \'+\' : \'-\'}}]\n          </span>\n          <a [href]="urlForUser(data.by)" class="hnItem-author">{{data.by}}</a>\n          <span>{{timeAgo(data.time)}}</span> |\n          <a [href]="urlForItem(data.id)">link</a>\n        </header>\n        <section class="hnItem--coment-content" [hidden]="!data || collapsed">{{data.text}}</section>\n        <div class="hnItem--comment-children" *if="loadChildren && data.kids" [hidden]="collapsed">\n          <div *for="#kidId of data.kids">\n            child id: {{kidId}}\n            <hn-item item-id="{{kidId}}"></hn-item>\n          </div>\n        </div>\n      </div>\n    </template>\n    <template [switch-when]="\'job\'">\n      <div class="hnItem--story">\n        <header>\n          <a class="hnItem-title" [href]="data.url">{{data.title}}</a>\n          <span class="comhead" [hidden]="!data.url">({{domainPipe(data.url)}})</span>\n        </header>\n        <section [hidden]="!data">\n          <span>{{timeAgo(data.time)}}</span>\n        </section>\n      </div>\n    </template>\n    <template [switch-when]="\'poll\'">\n      <div class="hnItem--story">\n        <header>\n          <a class="hnItem-title" [href]="data.url">{{data.title}}</a>\n          <span class="comhead" [hidden]="!data.url">({{domainPipe(data.url)}})</span>\n        </header>\n        <section [hidden]="!data">\n          <span>{{data.score}} points</span> by\n          <a [href]="urlForUser(data.by)">{{data.by}}</a>\n          <span>{{timeAgo(data.time)}}</span> |\n          <a [href]="urlForItem(data.id)">comments</a>\n        </section>\n      </div>\n    </template>\n    <template [switch-default]>\n      <div class="hnItem--story">\n        <header>\n          <a class="hnItem-title" [href]="data.url">{{data.title}}</a>\n          <span class="comhead" [hidden]="!data.url">({{domainPipe(data.url)}})</span>\n        </header>\n        <section [hidden]="!data">\n          <span>{{data.score}} points</span> by\n          <a [href]="urlForUser(data.by)">{{data.by}}</a>\n          <span>{{timeAgo(data.time)}}</span> |\n          <a [href]="urlForItem(data.id)">comments</a>\n        </section>\n      </div>\n    </template>\n  </div>\n</div>\n'},function(e,t,r){e.exports='<div class="footerBar">\n  <img src="https://news.ycombinator.com/s.gif" height="10" width="0" />\n\n  <table width="100%" cellspacing="0" cellpadding="1">\n    <tbody>\n      <tr>\n        <td bgcolor="#FF6600"></td>\n      </tr>\n    </tbody>\n  </table>\n</div>'},function(e,t,r){e.exports='<div class="headerBar">\n  <table border="0" cellpadding="0" cellspacing="0" width="100%" style=\n  "padding:2px">\n    <tbody>\n      <tr>\n        <td style="width:18px;padding-right:4px">\n          <a href="/">\n            <img src="https://news.ycombinator.com/y18.gif" width="18" height="18" style="border:1px #ffffff solid;" />\n          </a>\n        </td>\n\n        <td style="line-height:12pt; height:10px;">\n          <span class="pagetop">\n            <b><a href="/">Hacker News written in Angular 2</a></b>\n            <img src="https://news.ycombinator.com/s.gif" height="1" width="10" />\n          </span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n'},function(e,t,r){e.exports='<div class="homepage">\n  <ol>\n    <li *for="#itemId of topStories">\n      <hn-item item-id="{{itemId}}"></hn-item>\n    </li>\n  </ol>\n</div>'},function(e,t,r){e.exports='<div class="itemDetail">\n  <hn-item [item-id]="itemId" top-level="true"></hn-item>\n\n  <div class="itemDetail-item" *for="#childId of childrenIds">\n    <hn-item [item-id]="childId"></hn-item>\n  </div>\n</div>\n'},function(e,t,r){e.exports='<div class="userDetail" *if="data">\n  <p>user: {{data.id}}</p>\n  <p>created: <span>{{timeAgo(data.created)}}</span></p>\n  <p>karma:  {{data.karma}}</p>\n  <p>about:  <span>{{data.about}}</span></p>\n\n  <p>\n    <a class="u-pointer"><u (click)="showSubmissions = !showSubmissions">show submitted stories and comments</u></a>\n    <div *if="showSubmissions">\n      <div class="itemDetail-item" *for="#itemId of data.submitted">\n        <hn-item item-id="{{itemId}}" load-children="false"></hn-item>\n      </div>\n    </div>\n  </p>\n\n  <p>\n    <a [href]="\'https://news.ycombinator.com/submitted?id=\' + data.id"><u>submissions</u></a>\n    <a [href]="\'https://news.ycombinator.com/threads?id=\' + data.id"><u>comments</u></a>\n  </p>\n</div>'},function(e,t,r){function n(){if(!a){a=!0;for(var e,t=o.length;t;){e=o,o=[];for(var r=-1;++r<t;)e[r]();t=o.length}a=!1}}function i(){}var s=e.exports={},o=[],a=!1;s.nextTick=function(e){o.push(e),a||setTimeout(n,0)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,r){(function(e){"use strict";!function(e){function t(e,r){var n=arguments.length?Object.create(e):this;return n.parent=e,Object.keys(r||{}).forEach(function(t){var i=t.substr(1);"$"===t[0]?n[i]=r[t](e[i]||function(){}):"+"===t[0]?e[i]?n[i]=function(){var n=e[i].apply(this,arguments);return r[t].apply(this,arguments),n}:n[i]=r[t]:"-"===t[0]?e[i]?n[i]=function(){return r[t].apply(this,arguments),e[i].apply(this,arguments)}:n[i]=r[t]:n[t]="object"==typeof r[t]?JSON.parse(JSON.stringify(r[t])):r[t]}),n.$id=++t.nextId,n}var r=null;t.prototype={constructor:t,fork:function(e){return this.onZoneCreated(),new t(this,e)},bind:function(e,t){t||this.enqueueTask(e);var r=this.fork();return function(){return r.run(e,this,arguments)}},bindOnce:function(e){var t=this;return this.bind(function(){var r=e.apply(this,arguments);return t.dequeueTask(e),r})},run:function(t,n,i){i=i||[];var s,o=r;e.zone=r=this;try{this.beforeTask(),s=t.apply(n,i)}catch(a){if(!r.onError)throw a;r.onError(a)}finally{this.afterTask(),e.zone=r=o}return s},beforeTask:function(){},onZoneCreated:function(){},afterTask:function(){},enqueueTask:function(){},dequeueTask:function(){}},t.patchSetClearFn=function(e,n){n.map(function(e){return e[0].toUpperCase()+e.substr(1)}).forEach(function(n){var i="set"+n,s=e[i];if(s){var o="clear"+n,a={},u="setInterval"===i?t.bindArguments:t.bindArgumentsOnce;r[i]=function(t){var r,n=t;arguments[0]=function(){return delete a[r],n.apply(this,arguments)};var i=u(arguments);return r=s.apply(e,i),a[r]=!0,r},e[i]=function(){return r[i].apply(this,arguments)};var c=e[o];r[o]=function(e){return a[e]&&(delete a[e],r.dequeueTask()),c.apply(this,arguments)},e[o]=function(){return r[o].apply(this,arguments)}}})},t.nextId=1,t.patchSetFn=function(e,n){n.forEach(function(n){var i=e[n];i&&(r[n]=function(r){var n=r;arguments[0]=function(){return n.apply(this,arguments)};var s=t.bindArgumentsOnce(arguments);return i.apply(e,s)},e[n]=function(){return r[n].apply(this,arguments)})})},t.patchPrototype=function(e,r){r.forEach(function(r){var n=e[r];n&&(e[r]=function(){return n.apply(this,t.bindArguments(arguments))})})},t.bindArguments=function(e){for(var t=e.length-1;t>=0;t--)"function"==typeof e[t]&&(e[t]=r.bind(e[t]));return e},t.bindArgumentsOnce=function(e){for(var t=e.length-1;t>=0;t--)"function"==typeof e[t]&&(e[t]=r.bindOnce(e[t]));return e},t.bindPromiseFn=function(){function e(r){var n=r.then;r.then=function(){var i=t.bindArguments(arguments),s=n.apply(r,i);return e(s)};var i=r["catch"];return r["catch"]=function(){var n=t.bindArguments(arguments),s=i.apply(r,n);return e(s)},r}return window.Promise?function(e){return function(){var t=e.apply(this,arguments);return t instanceof Promise?t:new Promise(function(e,r){t.then(e,r)})}}:function(t){return function(){return e(t.apply(this,arguments))}}}(),t.patchableFn=function(e,t){t.forEach(function(t){var n=e[t];r[t]=function(){return n.apply(e,arguments)},e[t]=function(){return r[t].apply(this,arguments)}})},t.patchProperty=function(e,t){var r=Object.getOwnPropertyDescriptor(e,t)||{enumerable:!0,configurable:!0};delete r.writable,delete r.value;var n=t.substr(2),i="_"+t;r.set=function(e){this[i]&&this.removeEventListener(n,this[i]),"function"==typeof e?(this[i]=e,this.addEventListener(n,e,!1)):this[i]=null},r.get=function(){return this[i]},Object.defineProperty(e,t,r)},t.patchProperties=function(e,r){(r||function(){var t=[];for(var r in e)t.push(r);return t}().filter(function(e){return"on"===e.substr(0,2)})).forEach(function(r){t.patchProperty(e,r)})},t.patchEventTargetMethods=function(e){var t=e.addEventListener;e.addEventListener=function(e,n){return arguments[1]=n._bound=r.bind(n),t.apply(this,arguments)};var n=e.removeEventListener;e.removeEventListener=function(e,t){arguments[1]=arguments[1]._bound||arguments[1];var i=n.apply(this,arguments);return r.dequeueTask(t),i}},t.patch=function(){t.patchSetClearFn(window,["timeout","interval","immediate"]),t.patchSetFn(window,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame"]),t.patchableFn(window,["alert","prompt"]),window.EventTarget?t.patchEventTargetMethods(window.EventTarget.prototype):["ApplicationCache","EventSource","FileReader","InputMethodContext","MediaController","MessagePort","Node","Performance","SVGElementInstance","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebKitNamedFlow","Window","Worker","WorkerGlobalScope","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].filter(function(e){return window[e]}).map(function(e){return window[e].prototype}).forEach(t.patchEventTargetMethods),t.canPatchViaPropertyDescriptor()?t.patchViaPropertyDescriptor():(t.patchViaCapturingAllTheEvents(),t.patchClass("XMLHttpRequest"),t.patchWebSocket()),window.Promise&&t.patchPrototype(Promise.prototype,["then","catch"]),t.patchMutationObserverClass("MutationObserver"),t.patchMutationObserverClass("WebKitMutationObserver"),t.patchDefineProperty(),t.patchRegisterElement()},t.canPatchViaPropertyDescriptor=function(){if(!Object.getOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var e=Object.getOwnPropertyDescriptor(Element.prototype,"onclick");if(e&&!e.configurable)return!1}Object.defineProperty(HTMLElement.prototype,"onclick",{get:function(){return!0}});var t=document.createElement("div"),r=!!t.onclick;return Object.defineProperty(HTMLElement.prototype,"onclick",{}),r},t.patchViaPropertyDescriptor=function(){t.patchProperties(HTMLElement.prototype,t.onEventNames),t.patchProperties(XMLHttpRequest.prototype)},t.patchViaCapturingAllTheEvents=function(){t.eventNames.forEach(function(e){var t="on"+e;document.addEventListener(e,function(e){for(var n,i=e.target;i;)i[t]&&!i[t]._unbound&&(n=r.bind(i[t]),n._unbound=i[t],i[t]=n),i=i.parentElement},!0)})},t.patchWebSocket=function(){var e=window.WebSocket;window.WebSocket=function(r,n){var i=arguments.length>1?new e(r,n):new e(r);return t.patchProperties(i,["onclose","onerror","onmessage","onopen"]),i}},t.patchClass=function(e){var n=window[e];if(n){window[e]=function(){var e=t.bindArguments(arguments);switch(e.length){case 0:this._o=new n;break;case 1:this._o=new n(e[0]);break;case 2:this._o=new n(e[0],e[1]);break;case 3:this._o=new n(e[0],e[1],e[2]);break;case 4:this._o=new n(e[0],e[1],e[2],e[3]);break;default:throw new Error("what are you even doing?")}};var i,s=new n("MutationObserver"===e.substr(-16)?function(){}:void 0);for(i in s)!function(t){"function"==typeof s[t]?window[e].prototype[t]=function(){return this._o[t].apply(this._o,arguments)}:Object.defineProperty(window[e].prototype,t,{set:function(e){"function"==typeof e?this._o[t]=r.bind(e):this._o[t]=e},get:function(){return this._o[t]}})}(i)}},t.patchMutationObserverClass=function(e){var t=window[e];if(t){window[e]=function(e){this._o=new t(r.bind(e,!0))};var n=new t(function(){});window[e].prototype.disconnect=function(){var e=this._o.disconnect.apply(this._o,arguments);return this._active&&r.dequeueTask(),this._active=!1,e},window[e].prototype.observe=function(){return this._active||r.enqueueTask(),this._active=!0,this._o.observe.apply(this._o,arguments)};var i;for(i in n)!function(t){void 0===typeof window[e].prototype&&("function"==typeof n[t]?window[e].prototype[t]=function(){return this._o[t].apply(this._o,arguments)}:Object.defineProperty(window[e].prototype,t,{set:function(e){"function"==typeof e?this._o[t]=r.bind(e):this._o[t]=e},get:function(){return this._o[t]}}))}(i)}},t.patchDefineProperty=function(){function e(e,t){return e&&e.__unconfigurables&&e.__unconfigurables[t]}function r(e,t,r){return r.configurable=!0,r.configurable||(e.__unconfigurables||n(e,"__unconfigurables",{writable:!0,value:{}}),e.__unconfigurables[t]=!0),r}var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.create;Object.defineProperty=function(t,i,s){if(e(t,i))throw new TypeError("Cannot assign to read only property '"+i+"' of "+t);return"prototype"!==i&&(s=r(t,i,s)),n(t,i,s)},Object.defineProperties=function(e,t){return Object.keys(t).forEach(function(r){Object.defineProperty(e,r,t[r])}),e},Object.create=function(e,t){return"object"==typeof t&&Object.keys(t).forEach(function(n){t[n]=r(e,n,t[n])}),s(e,t)},Object.getOwnPropertyDescriptor=function(t,r){var n=i(t,r);return e(t,r)&&(n.configurable=!1),n},t._redefineProperty=function(e,t,i){return i=r(e,t,i),n(e,t,i)}},t.patchRegisterElement=function(){if("registerElement"in document){var e=document.registerElement,n=["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"];document.registerElement=function(i,s){return n.forEach(function(e){if(s.prototype[e]){var n=Object.getOwnPropertyDescriptor(s.prototype,e);n.value&&(n.value=r.bind(n.value||s.prototype[e]),t._redefineProperty(s.prototype,e,n))}}),e.apply(document,[i,s])}}},t.eventNames="copy cut paste abort blur focus canplay canplaythrough change click contextmenu dblclick drag dragend dragenter dragleave dragover dragstart drop durationchange emptied ended input invalid keydown keypress keyup load loadeddata loadedmetadata loadstart message mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup pause play playing progress ratechange reset scroll seeked seeking select show stalled submit suspend timeupdate volumechange waiting mozfullscreenchange mozfullscreenerror mozpointerlockchange mozpointerlockerror error webglcontextrestored webglcontextlost webglcontextcreationerror".split(" "),t.onEventNames=t.eventNames.map(function(e){return"on"+e}),t.init=function(){e.zone=r=new t,t.patch()},t.init(),e.Zone=t}("undefined"!=typeof e&&e&&e.exports?e.exports:window)}).call(t,r(78)(e))}]));